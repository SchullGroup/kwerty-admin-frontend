(function(t){function e(e){for(var n,r,o=e[0],c=e[1],l=e[2],d=0,p=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&p.push(i[r][0]),i[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,o=1;o<a.length;o++){var c=a[o];0!==i[c]&&(n=!1)}n&&(s.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},i={app:0},s=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"019f":function(t,e,a){"use strict";a("da4e")},"0408":function(t,e,a){"use strict";a("2380")},"0424":function(t,e,a){},"0a10":function(t,e,a){"use strict";a("0424")},"0ccc":function(t,e,a){},"0d9b":function(t,e,a){},"0db0":function(t,e,a){t.exports=a.p+"img/pdf.b8751c97.svg"},"0f2b":function(t,e,a){"use strict";a("1d5b")},"0f4e":function(t,e,a){"use strict";a("32e1")},1195:function(t,e,a){t.exports=a.p+"img/avatar.8f1b6256.png"},1565:function(t,e,a){"use strict";a("a0a2")},"17f6":function(t,e,a){"use strict";a("3c02")},"1bc0":function(t,e,a){},"1c4a":function(t,e,a){"use strict";a("9916")},"1c7e0":function(t,e,a){},"1d5b":function(t,e,a){},"1e53":function(t,e,a){},2380:function(t,e,a){},"25ee":function(t,e,a){"use strict";a("e982")},2822:function(t,e,a){t.exports=a.p+"img/iconBack.51c68f03.svg"},"288e":function(t,e,a){},"2d04":function(t,e,a){"use strict";a("0d9b")},"328d":function(t,e,a){"use strict";a("81ca")},"32e1":function(t,e,a){},"34cc":function(t,e,a){"use strict";a("b3cf")},3607:function(t,e,a){t.exports=a.p+"img/editIcon.80d6366a.svg"},3757:function(t,e,a){"use strict";a("e9b0")},"3ba5":function(t,e,a){"use strict";a("e194")},"3c02":function(t,e,a){},"3ca3b":function(t,e,a){},"3e82":function(t,e,a){"use strict";a("4cf5")},"40f8":function(t,e,a){t.exports=a.p+"img/iconLastPage.6023b772.svg"},"448f":function(t,e,a){"use strict";a("288e")},4678:function(t,e,a){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=s(t);return a(e)}function s(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=s,t.exports=i,i.id="4678"},"47b0":function(t,e,a){},4981:function(t,e,a){"use strict";a("f4c1")},"4cf5":function(t,e,a){},"4dcb":function(t,e,a){},"4de5":function(t,e,a){t.exports=a.p+"img/iconNext.2f2af9ed.svg"},"4fd8":function(t,e,a){},5109:function(t,e,a){"use strict";a("5300")},5176:function(t,e,a){"use strict";a("847c")},"51f7":function(t,e,a){"use strict";a("704b")},"52bc":function(t,e,a){"use strict";a("894f")},5300:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view"),a("k-toast")],1)},s=[],r=function(){var t,e=this,a=e.$createElement,n=e._self._c||a;return n("button",{class:["btn",(t={},t["btn--"+e.variant]=e.variant,t["btn--"+e.size]=e.size,t["btn--negative"]=e.negative,t["btn--sec--negative"]=e.negative&&("secondary"===e.variant||"tertiary"===e.variant),t)],attrs:{type:e.submit?"submit":"button",disabled:e.disabled||e.loading},on:{click:e.handleClick}},[e._t("default"),e.loading?n("span",{staticClass:"btn__loader"}):e._e()],2)},o=[],c={name:"KButton",components:{},props:{variant:{type:String,default:""},size:{type:String,default:""},full:{type:Boolean,default:!1},submit:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},negative:{type:Boolean,default:!1}},methods:{handleClick:function(){this.$emit("click")}}},l=c,u=l,d=(a("fc72"),a("2877")),p=Object(d["a"])(u,r,o,!1,null,"4ede39f7",null),m=p.exports,h=function(){var t,e=this,a=e.$createElement,n=e._self._c||a;return n("div",{staticClass:"wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.innerValue,expression:"innerValue"}],class:["checkbox__input",(t={},t["checkbox__input--"+e.fill]=e.fill,t)],attrs:{type:"checkbox",name:e.name,id:e.name},domProps:{value:e.value,checked:Array.isArray(e.innerValue)?e._i(e.innerValue,e.value)>-1:e.innerValue},on:{change:function(t){var a=e.innerValue,n=t.target,i=!!n.checked;if(Array.isArray(a)){var s=e.value,r=e._i(a,s);n.checked?r<0&&(e.innerValue=a.concat([s])):r>-1&&(e.innerValue=a.slice(0,r).concat(a.slice(r+1)))}else e.innerValue=i}}}),n("label",{staticClass:"checkbox__label",attrs:{for:e.name}},[e._v(e._s(e.label))])])},f=[],g=(a("a434"),{name:"KCheckbox",props:{fill:{type:String,default:""},name:{type:String,required:!0},label:{type:String,default:""},value:{type:null,default:""},checkedValue:{type:null,default:function(){return[]}}},data:function(){return{innerValue:""}},watch:{innerValue:function(){this.checkValue(this.checkedValue)},checkedValue:function(t){t.length||(this.innerValue=!1),this.checkValue(t,!0)}},methods:{checkValue:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.innerValue,n=t.indexOf(this.value),i=-1!==n,s=-1===n;e?(a&&s&&(this.innerValue=!1),!a&&i&&(this.innerValue=!0)):(a&&s&&this.checkedValue.push(this.value),!a&&i&&this.checkedValue.splice(n,1))}},model:{prop:"checkedValue"}}),v=g,b=v,y=(a("b7f0"),Object(d["a"])(b,h,f,!1,null,"08274ba4",null)),_=y.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("button",{class:["toggle__off",[t.isToggled?"toggle__off-active":""]],attrs:{disabled:!t.isToggled},on:{click:t.toggle}},[t._v(" OFF ")]),a("button",{class:["toggle__on",[t.isToggled?"toggle__on-active":""]],attrs:{disabled:t.isToggled},on:{click:t.toggle}},[t._v(" ON ")])])},k=[],C={name:"KToggle",data:function(){return{isToggled:!1,props:{disabled:{type:Boolean,default:!1}}}},methods:{toggle:function(){this.isToggled=!this.isToggled}}},D=C,x=D,O=(a("2d04"),Object(d["a"])(x,w,k,!1,null,"326f2754",null)),j=(O.exports,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("input",{staticClass:"radio__input",attrs:{type:"radio",name:t.name,id:t.id},domProps:{checked:t.isChecked,value:t.value},on:{change:function(e){return t.$emit("change",e.target.value)}}}),a("label",{staticClass:"radio__label",attrs:{for:t.id}},[t._v(t._s(t.label))])])}),S=[],I={name:"KRadio",props:{label:{type:String,default:""},name:{type:String,default:""},value:{type:String,default:""},inputValue:{type:String,default:""},id:{type:String,default:""},modelValue:{type:String,default:""}},model:{prop:"modelValue",event:"change"},data:function(){return{}},computed:{isChecked:function(){return this.modelValue===this.value}}},A=I,P=A,T=(a("c576"),Object(d["a"])(P,j,S,!1,null,"54f0d666",null)),L=(T.exports,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:["card",{"card--in-modal":t.inModal,"card--no-space-top":"no-space-top"===t.variant,"wrap-heading":t.wrapHeading,longer:t.wrapHeading&&t.longerHeading}]},[a("h2",{staticClass:"card__heading"},[t._v(" "+t._s(t.heading)+" ")]),a("section",{staticClass:"card__body"},[t._t("default")],2)])}),E=[],R={name:"KCard",props:{heading:{type:String,required:!0},variant:{type:String},wrapHeading:{type:Boolean},longerHeading:{type:Boolean}},computed:{inModal:function(){return"in-modal"===this.variant}}},M=R,$=M,N=(a("4981"),Object(d["a"])($,L,E,!1,null,"50224d62",null)),F=N.exports,V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:["pagination",[t.forTable?"pagination__table":""]]},["many"===t.variant?a("button",{class:["pagination__button",{disabled:1===t.page}],on:{click:function(e){1!==t.page&&t.firstPage()}}},[a("img",{staticClass:"pagination__button__icon",attrs:{src:t.iconFirstPage,alt:""}})]):t._e(),a("button",{class:["pagination__button",{disabled:1===t.page}],on:{click:function(e){1!==t.page&&t.prevPage()}}},[a("img",{staticClass:"pagination__button__icon",attrs:{src:t.iconBack,alt:""}})]),a("span",{staticClass:"pagination__info"},[t._v(" "+t._s(t.currentPageStart)+"-"+t._s(t.currentPageEnd)+" out of "+t._s(t.totalItems)+" ")]),a("button",{class:["pagination__button",{disabled:t.page===t.totalPages||!t.totalPages}],on:{click:function(e){t.page!==t.totalPages&&t.nextPage()}}},[a("img",{staticClass:"pagination__button__icon",attrs:{src:t.iconNext,alt:""}})]),"many"===t.variant?a("button",{class:["pagination__button",{disabled:t.page===t.totalPages||!t.totalPages}],on:{click:function(e){t.page!==t.totalPages&&t.lastPage()}}},[a("img",{staticClass:"pagination__button__icon",attrs:{src:t.iconLastPage,alt:""}})]):t._e()])},U=[],B=(a("a9e3"),a("e72b")),Y=a.n(B),K=a("40f8"),q=a.n(K),z=a("2822"),H=a.n(z),G=a("4de5"),W=a.n(G),Z={name:"KPagination",data:function(){return{iconBack:H.a,iconNext:W.a,iconFirstPage:Y.a,iconLastPage:q.a}},props:{page:{type:Number,required:!0},maxItemsOnPage:{type:Number,required:!0},totalItems:{type:[Number,String],required:!0},totalPages:{type:Number,required:!0},variant:{type:String},forTable:{type:Boolean,default:!1}},methods:{nextPage:function(){this.$emit("goToNext")},prevPage:function(){this.$emit("goToPrev")},firstPage:function(){this.$emit("goToFirst")},lastPage:function(){this.$emit("goToLast")}},computed:{currentPageEnd:function(){var t=this.totalItems,e=this.maxItemsOnPage,a=(this.page-1)*e+e;return t<a?t:a},currentPageStart:function(){var t=this.maxItemsOnPage;return(this.page-1)*t+1}}},J=Z,Q=J,X=(a("71ae"),Object(d["a"])(Q,V,U,!1,null,"46e16b21",null)),tt=X.exports,et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input__wrapper",attrs:{tabindex:"1"}},[a("div",{class:["input",{"input--with-label":t.label||t.isCopy,"input--error":t.error,"input--disabled":t.disabled,"input--select":"select"===t.type||"date"===t.type,"input--with-icon":"password"===t.variant||t.isSelect||t.isDate||t.isCopy,"input--is-open":t.isSelect&&t.isSelectOpen,"input--has-value":"select"===t.type&&t.innerValue,"as-dropdown":t.isSelect&&"dropdown"===t.variant,"with-display":!!this.optionsDisplay,"input--textarea":"textarea"===t.variant,"input--search":"search"===t.type,"has--search":t.searchInside,"input--copy":t.isCopy}],attrs:{tabindex:t.isSelect?0:-1},on:{click:function(e){(t.isSelect||t.isDate)&&!t.disabled&&t.toggleSelectOpen()},focus:function(e){t.isSelectOpen&&t.focusInsideSearch()},keyup:function(e){(t.filterInside||t.searchInside)&&t.record(e)}}},["search"===t.type?a("svg",{staticClass:"search-icon",attrs:{fill:"none",height:"14",viewBox:"0 0 14 14",width:"14",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:t.searchInputPath,fill:"#666666"}})]):t._e(),"textarea"===t.variant?a("textarea",{attrs:{id:t.name,disabled:t.disabled,name:t.name,placeholder:t.label,rows:"5"},domProps:{value:t.isSelect&&t.selectedOption?t.selectedOption:t.innerValue},on:{change:t.updateInput,keyup:function(e){return t.updateInput(e)}}}):a("input",{ref:"input",attrs:{id:t.name,disabled:t.disabled||t.isSelect||t.isDate,name:t.name,placeholder:t.label,type:t.overrideType||t.type},domProps:{value:t.isSelect&&t.selectedOption?t.selectedOption:t.isDate?t.formattedDate:t.innerValue},on:{change:t.updateInput,keyup:function(e){return t.updateInput(e)}}}),a("label",{attrs:{for:t.name}},[t._v(t._s(t.label))]),a("span",{class:{input__icon:!0,"input__icon--is-open":t.isSelectOpen,"input__icon--click-through":t.isSelect||t.isDate},on:{click:function(e){return e.stopPropagation(),t.iconClicked.apply(null,arguments)}}},["password"===t.variant?[a("show-icon",{directives:[{name:"show",rawName:"v-show",value:!t.passwordVisible,expression:"!passwordVisible"}]}),a("hide-icon",{directives:[{name:"show",rawName:"v-show",value:t.passwordVisible,expression:"passwordVisible"}]})]:t._e(),t.isSelect||t.isDate?a("dropdown-icon"):t._e(),t.isCopy?a("svg",{attrs:{fill:"none",height:"20",viewBox:"0 0 18 20",width:"18",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:t.copyIconPath,fill:"black"}})]):t._e()],2),t.isSelect?[a("div",{class:["overlay",{"is-hidden":!t.isSelectOpen}],on:{click:function(e){return e.stopPropagation(),t.closeOptionsHandler.apply(null,arguments)}}}),a("div",{ref:"list",class:["options-list",{"is-hidden":!t.isSelectOpen}],attrs:{tabindex:"-1"}},[t.searchInside?a("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],ref:"search",staticClass:"search-options",attrs:{placeholder:"Search "+this.searchInside,tabindex:t.isSelectOpen?0:-1,type:"text"},domProps:{value:t.filter},on:{click:function(t){t.stopPropagation()},keyup:function(t){t.stopPropagation()},input:function(e){e.target.composing||(t.filter=e.target.value)}}}):t._e(),t.optionsDisplay?[a("div",{ref:"itemList",staticClass:"list"},t._l(Object.entries(t.filteredOptions),(function(e){var n=e[0],i=e[1];return a("div",{key:n,staticClass:"option",attrs:{tabindex:t.isSelectOpen?0:-1,"data-value":n},on:{keyup:t.enterOption}},[t._v(" "+t._s(i)+" ")])})),0)]:t._t("default")],2)]:t._e(),t.isDate?[a("div",{class:["overlay",{"is-hidden":!t.isSelectOpen}],on:{click:function(e){return e.stopPropagation(),t.closeOptionsHandler.apply(null,arguments)}}}),a("div",{ref:"date",class:["date-container",{"is-hidden":!t.isSelectOpen}],on:{click:function(t){return t.stopPropagation(),function(){}.apply(null,arguments)}}},[t.isSelectOpen?a("date-picker",{attrs:{color:"purple"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}):t._e()],1)]:t._e()],2),a("transition",{attrs:{name:"grow"}},[t.error?a("div",{staticClass:"error-message"},[t._v(" "+t._s(this.error)+" ")]):t._e()])],1)},at=[],nt=a("ade3"),it=a("5530"),st=(a("4de4"),a("d3b7"),a("b64b"),a("caad"),a("2532"),a("4e82"),a("2ca0"),a("fb6a"),a("ac1f"),a("841c"),a("404b")),rt=a.n(st),ot=a("b166"),ct=(a("466d"),function(t,e,a){var n;function i(){return a.userAgent.match(/ipad|iphone/i)}function s(t){n=e.createElement("textArea"),n.value=t,e.body.appendChild(n)}function r(){var a,s;i()?(a=e.createRange(),a.selectNodeContents(n),s=t.getSelection(),s.removeAllRanges(),s.addRange(a),n.setSelectionRange(0,999999)):n.select()}function o(){e.execCommand("copy"),e.body.removeChild(n)}var c=function(t){s(t),r(),o()};return{copy:c}}(window,document,navigator)),lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{width:"16",height:"12",viewBox:"0 0 16 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:"false"}},[a("path",{attrs:{d:t.d,fill:"#999999"}})])},ut=[],dt={name:"showIcon",data:function(){return{d:"M0.787323 6C1.41399 2.58667 4.40532 0 7.99999 0C11.5947 0 14.5853 2.58667 15.2127 6C14.586 9.41333 11.5947 12 7.99999 12C4.40532 12 1.41466 9.41333 0.787323 6V6ZM7.99999 9.33333C8.88405 9.33333 9.73189 8.98214 10.357 8.35702C10.9821 7.7319 11.3333 6.88406 11.3333 6C11.3333 5.11595 10.9821 4.2681 10.357 3.64298C9.73189 3.01786 8.88405 2.66667 7.99999 2.66667C7.11594 2.66667 6.26809 3.01786 5.64297 3.64298C5.01785 4.2681 4.66666 5.11595 4.66666 6C4.66666 6.88406 5.01785 7.7319 5.64297 8.35702C6.26809 8.98214 7.11594 9.33333 7.99999 9.33333ZM7.99999 8C7.46956 8 6.96085 7.78929 6.58578 7.41421C6.2107 7.03914 5.99999 6.53043 5.99999 6C5.99999 5.46957 6.2107 4.96086 6.58578 4.58579C6.96085 4.21071 7.46956 4 7.99999 4C8.53042 4 9.03913 4.21071 9.4142 4.58579C9.78928 4.96086 9.99999 5.46957 9.99999 6C9.99999 6.53043 9.78928 7.03914 9.4142 7.41421C9.03913 7.78929 8.53042 8 7.99999 8Z"}}},pt=dt,mt=Object(d["a"])(pt,lt,ut,!1,null,"ba0bdae0",null),ht=mt.exports,ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:"false"}},[a("path",{attrs:{d:t.d,fill:"#999999"}})])},gt=[],vt={name:"hideIcon",data:function(){return{d:"M3.01332 3.95604L0.928656 1.87204L1.87199 0.928711L15.0713 14.1287L14.128 15.0714L11.9213 12.8647C10.7488 13.6084 9.38848 14.0023 7.99999 14C4.40532 14 1.41466 11.4134 0.787323 8.00004C1.07401 6.44719 1.85508 5.02864 3.01399 3.95604H3.01332ZM9.83799 10.7814L8.86199 9.80538C8.48869 9.98399 8.06917 10.0424 7.66128 9.97257C7.25338 9.90273 6.87719 9.70809 6.58457 9.41546C6.29195 9.12284 6.0973 8.74665 6.02747 8.33876C5.95763 7.93086 6.01605 7.51135 6.19466 7.13804L5.21866 6.16204C4.79447 6.80304 4.60484 7.57093 4.68188 8.3357C4.75892 9.10048 5.09789 9.81512 5.6414 10.3586C6.18491 10.9021 6.89956 11.2411 7.66433 11.3182C8.4291 11.3952 9.197 11.2056 9.83799 10.7814V10.7814ZM5.31599 2.50671C6.14732 2.18004 7.05332 2.00004 7.99999 2.00004C11.5947 2.00004 14.5853 4.58671 15.2127 8.00004C15.0084 9.11051 14.5492 10.1584 13.8713 11.0614L11.298 8.48804C11.3744 7.97312 11.3292 7.44745 11.1659 6.95315C11.0027 6.45885 10.7259 6.00965 10.3578 5.64156C9.98972 5.27346 9.54052 4.99669 9.04622 4.83343C8.55192 4.67016 8.02625 4.62494 7.51132 4.70138L5.31599 2.50738V2.50671Z"}}},bt=vt,yt=Object(d["a"])(bt,ft,gt,!1,null,"90f6ce86",null),_t=yt.exports,wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{staticStyle:{fill:"#000000"},attrs:{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"16",height:"16",viewBox:"0 0 30 30"}},[a("path",{attrs:{d:t.d}})])},kt=[],Ct={name:"showIcon",data:function(){return{d:"M 24.990234 8.9863281 A 1.0001 1.0001 0 0 0 24.292969 9.2929688 L 15 18.585938 L 5.7070312 9.2929688 A 1.0001 1.0001 0 0 0 4.9902344 8.9902344 A 1.0001 1.0001 0 0 0 4.2929688 10.707031 L 14.292969 20.707031 A 1.0001 1.0001 0 0 0 15.707031 20.707031 L 25.707031 10.707031 A 1.0001 1.0001 0 0 0 24.990234 8.9863281 z"}}},Dt=Ct,xt=Object(d["a"])(Dt,wt,kt,!1,null,"734a5c3c",null),Ot=xt.exports,jt={name:"KInput",components:{ShowIcon:ht,HideIcon:_t,DropdownIcon:Ot,DatePicker:rt.a},data:function(){return{innerValue:null,overrideType:null,isSelectOpen:!1,filter:"",date:null,searchInputPath:"M11.0207 10.078L13.876 12.9327L12.9327 13.876L10.078 11.0207C9.01582 11.8722 7.69466 12.3353 6.33333 12.3333C3.02133 12.3333 0.333328 9.64534 0.333328 6.33334C0.333328 3.02134 3.02133 0.333336 6.33333 0.333336C9.64533 0.333336 12.3333 3.02134 12.3333 6.33334C12.3353 7.69467 11.8721 9.01583 11.0207 10.078ZM9.68333 9.58334C10.5294 8.71326 11.0019 7.54696 11 6.33334C11 3.75467 8.91133 1.66667 6.33333 1.66667C3.75466 1.66667 1.66666 3.75467 1.66666 6.33334C1.66666 8.91134 3.75466 11 6.33333 11C7.54695 11.0019 8.71325 10.5294 9.58333 9.68334L9.68333 9.58334V9.58334Z",copyIconPath:"M4 4V1C4 0.734784 4.10536 0.48043 4.29289 0.292893C4.48043 0.105357 4.73478 0 5 0H17C17.2652 0 17.5196 0.105357 17.7071 0.292893C17.8946 0.48043 18 0.734784 18 1V15C18 15.2652 17.8946 15.5196 17.7071 15.7071C17.5196 15.8946 17.2652 16 17 16H14V19C14 19.552 13.55 20 12.993 20H1.007C0.875127 20.0008 0.744397 19.9755 0.622322 19.9256C0.500247 19.8757 0.389233 19.8022 0.295659 19.7093C0.202084 19.6164 0.127793 19.5059 0.0770543 19.3841C0.0263156 19.2624 0.000129374 19.1319 0 19L0.00300002 5C0.00300002 4.448 0.453 4 1.01 4H4ZM2.003 6L2 18H12V6H2.003ZM6 4H14V14H16V2H6V4Z"}},props:{label:{type:String,required:!0},value:{type:null},name:{type:String},type:{type:String,default:function(){return"text"}},disabled:{type:Boolean},error:{type:String},variant:{type:String},optionsDisplay:{type:Object},filterInside:{type:Boolean},searchInside:{type:String,default:""},reactive:{type:Boolean}},mounted:function(){var t=this;this.innerValue=this.value,this.listenForSelect(),this.filter="","date"===this.type&&(this.overrideType="text"),this.$refs.date&&this.$refs.date.addEventListener("click",(function(e){console.log("date is here"),e.target.classList.contains("vc-day-content")&&(t.isSelectOpen=!1)}))},updated:function(){var t=this.$refs.list&&this.$refs.itemList,e=this.$refs.date;if(t||e){var a,n,i,s;e?(a=this.$refs.date.parentElement.getBoundingClientRect(),s=this.$refs.date):(n=this.$refs.list,i=this.$refs.itemList,a=n.parentElement.getBoundingClientRect());var r,o,c=a.top+76,l=window.innerHeight;t?(r=i.children.length>9?9:i.children.length,this.searchInside&&(r=i.children.length>7?7:i.children.length),o=48*r+(this.searchInside?96.25:32)):o=282;var u,d=o<l,p=d?o:.95*l,m=l-(c+p);u=t?n:s,c+p<l&&(u.style.top="76px"),m<0&&(u.style.top="".concat(m+64,"px")),t&&(this.searchInside&&i.children.length>7&&!n.classList.contains("scrollable")||i.children.length>9&&!n.classList.contains("scrollable"))&&n.classList.add("scrollable")}},watch:{value:function(t){this.isDate?this.date=t:this.innerValue=t},date:function(t){this.$emit("input",t)},filter:function(t){this.$emit("search",t)}},computed:{passwordVisible:function(){var t=this.variant,e=this.overrideType;return"password"===t&&"text"===e},isSelect:function(){return"select"===this.type},isDate:function(){return"date"===this.type},isCopy:function(){return"copyInput"===this.variant},selectedOption:function(){return this.optionsDisplay?this.optionsDisplay[this.value]:null},filteredOptions:function(){var t=this,e=this.filterInside||!!this.searchInside;if(!e)return this.optionsDisplay;if(this.filter){var a=Object.keys(this.optionsDisplay),n=a.filter((function(e){return e.toLowerCase().includes(t.filter.toLowerCase())}));return n.sort((function(e,a){return e.startsWith(t.filter)&&!a.startsWith(t.filter)?-1:!e.startsWith(t.filter)&&a.startsWith(t.filter)?1:0})),n.reduce((function(e,a){return Object(it["a"])(Object(it["a"])({},e),{},Object(nt["a"])({},a,t.optionsDisplay[a]))}),{})}return this.optionsDisplay},formattedDate:function(){return this.date instanceof Date?Object(ot["a"])(this.date,"dd-MM-yyyy"):""}},methods:{record:function(t){var e=this.filter;"Backspace"!==t.code?(t.code.startsWith("Key")||t.code.startsWith("Digit"))&&(this.filter+=t.key.toLowerCase()):this.filter=e.slice(0,e.length-1)},updateInput:function(t){this.innerValue=t.target.value,this.$emit("input",this.innerValue)},togglePasswordType:function(){var t=this.overrideType,e=t||this.type;this.overrideType="password"===e?"text":"password"},listenForSelect:function(){this.$refs.list&&this.$refs.list.addEventListener("click",this.selectOption)},enterOption:function(t){"Enter"===t.code&&(this.selectOption({target:document.activeElement}),this.isSelectOpen=!1)},toggleSelectOpen:function(){this.disabled||(this.isSelectOpen=!this.isSelectOpen,this.focusInsideSearch())},focusInsideSearch:function(){var t=this.$refs.search;this.searchInside&&t&&this.isSelectOpen&&t.focus()},selectOption:function(t){var e=t.target;(e.classList.contains("option")||"OPTION"===e.tagName)&&(this.innerValue=e.dataset.value,this.$emit("input",e.dataset.value),this.filter="")},clickElementBelow:function(t,e,a){return function(){try{var n=document.elementFromPoint(e,a);if(n===t.parentElement||n===t.parentElement.querySelector("label")||n===t.parentElement.querySelector("svg")||n===t.parentElement.querySelector(".input__icon"))return;n.click();var i=n.closest(".input");i&&i.focus()}catch(s){console.log(s.message)}}},closeOptionsHandler:function(t){var e=t.target,a=t.clientX,n=t.clientY;this.isSelectOpen=!1,this.filter="",setTimeout(this.clickElementBelow(e,a,n),0)},iconClicked:function(){"password"===this.variant?this.togglePasswordType():!this.isSelect&&!this.isDate||this.isSelectOpen?this.isCopy&&this.copy():this.toggleSelectOpen()},copy:function(){ct.copy(this.value),this.$toast.show({message:"Copied"})}}},St=jt,It=St,At=(a("5fbb"),Object(d["a"])(It,et,at,!1,null,"320db8b2",null)),Pt=At.exports,Tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"dashboard"},[n("div",{staticClass:"dashboard__header"},[n("img",{staticClass:"logo",attrs:{src:a("cf05"),alt:t.appName}}),n("nav",{staticClass:"navbar"},[n("ul",{staticClass:"navbar__list"},[t._l(t.menuItems,(function(e){return[n("li",{key:e.name,staticClass:"navbar__item"},[e.route?n("router-link",{attrs:{to:e.route}},[t._v(" "+t._s(e.label)+" ")]):n("a",{attrs:{href:"#"}},[t._v(" "+t._s(e.label)+" "),n("ul",{staticClass:"navbar__dropdown"},[t._l(e.children,(function(e){return[n("li",{key:e.name,staticClass:"navbar__dropdown__item"},[n("router-link",{attrs:{to:e.route}},[t._v(" "+t._s(e.label)+" ")])],1)]}))],2)])],1)]}))],2)]),n("div",{staticClass:"user"},[n("div",{staticClass:"user__avatar",on:{click:function(e){return t.$router.push({name:"Settings"})}}},[n("img",{attrs:{src:a("1195"),alt:t.profile.firstName}})]),n("div",{staticClass:"user__details"},[n("p",{staticClass:"text-bold"},[t._v(t._s(t.profile.firstName)+" "+t._s(t.profile.lastName))]),n("p",[t._v(t._s(t.snakeToTitle(t.profile.roleName)))])])])]),n("div",{staticClass:"dashboard__content"},[t._t("default")],2)])},Lt=[],Et=a("2f62"),Rt="kwerty",Mt=a("1da1"),$t=(a("96cf"),a("99af"),a("5319"),a("bc3a")),Nt=a.n($t),Ft=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_KWERTY_API_URL,Vt=1,Ut=function(){var t=JSON.parse(localStorage.getItem(Rt)),e=t&&t.token;return e?"Bearer ".concat(e):""},Bt=Nt.a.create({baseURL:"".concat(Ft,"/api/v").concat(Vt),crossdomain:!0,timeout:6e5,headers:{"Content-Type":"application/json",Authorization:Ut()}});Bt.interceptors.response.use((function(t){return t}),function(){var t=Object(Mt["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("/login"===window.location.pathname){t.next=5;break}if(401!==e.response.status){t.next=5;break}return localStorage.clear(),setTimeout((function(){window.location.replace("/login")}),1e3),t.abrupt("return",Promise.reject(e));case 5:return console.log(e),t.abrupt("return",Promise.reject(e));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());var Yt=[{name:"dashboardOverview",label:"Overview",route:"/",permissions:["Admin"]},{name:"database",label:"Database",route:null,children:[{name:"manageData",label:"Manage Data",route:"/database",permissions:["Admin"]},{name:"manageIndicators",label:"Manage Indicators",route:"/database/indicators",permissions:["Admin"]},{name:"country",label:"Country Dashboard",route:"/database/country",permissions:["Admin"]}],permissions:["Admin"]},{name:"activities",label:"View Activity",route:null,children:[{name:"userActivities",label:"User Activity",route:"/activities/user",permissions:["Admin"]},{name:"adminActivities",label:"Admin Activity",route:"/activities/admin",permissions:["Admin"]}],permissions:["Admin"]},{name:"customers",label:"Customers",route:"/customers",permissions:["Admin"]},{name:"settings",label:"Settings",route:"/settings",permissions:["Admin"]}],Kt=(a("1276"),a("d81d"),a("a15b"),a("5b81"),{capitalize:function(t){return t&&"string"===typeof t?"".concat(t[0].toUpperCase()).concat(t.slice(1)):t},titleCase:function(t){var e=this;if("string"===typeof t){var a=t.split(" "),n=["a","an","the"],i=a.map((function(t,a){return-1!==n.indexOf(t)&&0!==a?t:e.capitalize(t)}));return i.join(" ")}return t},snakeCase:function(t){return"string"!==typeof t?t:t.replaceAll("_"," ")},kebabCase:function(t){return"string"!==typeof t?t:t.replaceAll("-"," ")},lower:function(t){return"string"===typeof t?t.toLowerCase():t},snakeToTitle:function(t){return this.titleCase(this.snakeCase(t))},convertToCamelCase:function(t){return"string"!==typeof t?t:t.replaceAll(" ","")}}),qt={name:"DashboardLayout",data:function(){return{appName:Rt,menuItems:Yt}},computed:Object(it["a"])({},Object(Et["c"])({profile:"auth/getProfile"})),methods:Object(it["a"])({},Kt)},zt=qt,Ht=zt,Gt=(a("25ee"),Object(d["a"])(Ht,Tt,Lt,!1,null,"576e7fb7",null)),Wt=Gt.exports,Zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"toast-group"}},[a("transition-group",{staticClass:"toast",attrs:{name:"list",tag:"div"}},[t._l(t.notifications,(function(e){var n=e.message,i=e.id;return[a("div",{key:i,class:["toast__item",{"toast__item--end":t.endList}]},[a("span",{staticClass:"toast__icon"},[a("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("g",{attrs:{"clip-path":"url(#clip0_190_628)"}},[a("path",{attrs:{d:t.svgPath,fill:"#900F7B"}})]),a("defs",[a("clipPath",{attrs:{id:"clip0_190_628"}},[a("rect",{attrs:{width:"15.5152",height:"15.5152",fill:"white",transform:"translate(0.339355 0.339355)"}})])])])]),a("p",{staticClass:"toast__message"},[t._v(t._s(n))])])]}))],2)],1)},Jt=[],Qt=(a("c740"),new n["default"]),Xt=Qt,te={name:"ToastNotification",data:function(){return{notifications:[],endList:!1,svgPath:"m7.84 9.235.912.913 5.473-5.473.915.914-6.388 6.387-4.114-4.114.914-.914L6.926 8.32l.914.913Zm.001-1.828 3.201-3.202.912.911-3.202 3.202-.911-.911Zm-1.828 3.655-.913.914L.986 7.862l.914-.914.913.913 3.2 3.201Zm-.913-.914.913.914-3.2-3.2V7.86L1.9 6.948l-.914.914L5.1 10.148Zm-.462-2.286"}},created:function(){var t=this;Xt.$on("addNotification",(function(e){t.addNotification(e)}))},methods:{removeToast:function(t){var e=this,a=this.notifications.findIndex((function(e){return e.id===t}));this.notifications.length<=1?(this.endList=!0,setTimeout((function(){e.notifications.splice(a,1),e.endList=!1}),500)):this.notifications.splice(a,1)},addNotification:function(t){var e=this,a=t.message,n=Math.floor(9e4*Math.random())+1e4;this.notifications.push({message:a,id:n}),setTimeout((function(){e.removeToast(n)}),5e3)}}},ee=te,ae=ee,ne=(a("9a55"),Object(d["a"])(ae,Zt,Jt,!1,null,"0b51d630",null)),ie=ne.exports,se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("doughnut-chart",{attrs:{"chart-data":t.chartData}})],1)},re=[],oe=a("1fca"),ce={extends:oe["a"],data:function(){return{options:{cutoutPercentage:65,rotation:-1.45*Math.PI,responsive:!0,legend:{position:"top",display:!1}}}},props:["chartData"],mounted:function(){this.renderChart(this.chartData,this.options)}},le={name:"KDoughnutWrapper",components:{DoughnutChart:ce},props:{labels:{type:Array},datasets:{type:Array}},computed:{chartData:function(){return{labels:this.labels,datasets:this.datasets}}}},ue=le,de=Object(d["a"])(ue,se,re,!1,null,"a117919a",null),pe=de.exports,me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("line-chart",{attrs:{"chart-data":t.chartData,isHours:t.isHours}})},he=[],fe={extends:oe["b"],props:{chartData:{type:null},isHours:{type:Boolean}},computed:{options:function(){var t=this.isHours;return{responsive:!0,aspectRatio:1.75,tooltips:{callbacks:{label:function(t,e){var a=t.datasetIndex,n=t.index,i=e.datasets[a].data[n];return"".concat(Object(ot["a"])(new Date(i.x),"h aaa"))}}},scales:{yAxes:[{gridLines:{borderDash:[2,2]},ticks:{beginAtZero:!0,stepSize:1}}],xAxes:[{type:"time",time:{unit:!0===t?"hour":"day",displayFormats:{day:"ddd DD",hour:"hA"}},gridLines:{drawBorder:!1},ticks:{padding:10}}]},legend:{display:!1}}}},mounted:function(){this.$refs.canvas.height=120,this.gradient=this.$refs.canvas.getContext("2d").createLinearGradient(900,0,900,400),this.gradient.addColorStop(0,"rgba(90, 11, 77, 0.20)"),this.gradient.addColorStop(1,"rgba(255,255,255, 0)"),this.renderChart(Object(it["a"])(Object(it["a"])({},this.chartData),{},{datasets:[Object(it["a"])(Object(it["a"])({},this.chartData.datasets[0]),{},{backgroundColor:this.gradient})]}),this.options)}},ge={name:"LineWrapper",components:{LineChart:fe},props:{labels:{type:Array},datasets:{type:Array},isHours:{type:Boolean,default:!1}},computed:{chartData:function(){return{fill:"start",labels:this.labels,datasets:this.datasets}}}},ve=ge,be=Object(d["a"])(ve,me,he,!1,null,"b4c22f34",null),ye=be.exports,_e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"auth"},[t._m(0),a("div",{staticClass:"auth-content"},[a("div",{staticClass:"auth-content-item"},[!0===t.hasIcon?a("div",{staticClass:"icon"},[a("svg",{attrs:{width:"47",height:"47",viewBox:"0 0 47 47",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M22.519 26.7043L25.2574 29.4427L41.6763\n            13.0238L44.4186 15.7661L25.2574 34.9273L12.9151\n            22.585L15.6574 19.8427L19.7786 23.9639L22.519\n            26.7023V26.7043ZM22.5229 21.2197L32.1267 11.6138L34.8613\n            14.3484L25.2574 23.9542L22.5229 21.2197ZM17.0402 32.1869L14.2998\n            34.9273L1.95752 22.585L4.69982 19.8427L7.44019 22.583L7.43825 22.585L17.0402\n            32.1869V32.1869Z",fill:"#900F7B"}})])]):t._e(),a("h1",{staticClass:"title"},[t._v(t._s(t.title))]),a("p",{staticClass:"description"},[t._t("description")],2),a("div",{staticClass:"auth-content-item-form"},[t._t("default")],2)])])])},we=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"auth-logo"},[n("img",{staticClass:"logo",attrs:{src:a("cf05"),alt:"logo"}})])}],ke={name:"Auth",props:{title:{type:String,required:!0},description:{type:String,default:""},hasIcon:{type:Boolean,default:!1}}},Ce=ke,De=(a("019f"),Object(d["a"])(Ce,_e,we,!1,null,"4cf9cc93",null)),xe=De.exports,Oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"icons"},[a("div",{staticClass:"svg"},[a("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(e){return t.$emit("delete")}}},[a("path",{attrs:{d:"M4.66675 7.33325H11.3334V8.66659H4.66675V7.33325Z",fill:"#E1331B"}}),a("rect",{attrs:{x:"0.5",y:"0.5",width:"15",height:"15",rx:"7.5",stroke:"#E1331B"}})])]),a("div",[a("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(e){return t.$emit("edit")}}},[a("path",{attrs:{d:"M4.276 10.6666L11.0373 3.90531L10.0947\n      2.96264L3.33333 9.72398V10.6666H4.276ZM4.82867\n      12H2V9.17131L9.62333 1.54797C9.74835 1.42299 9.91789\n      1.35278 10.0947 1.35278C10.2714 1.35278 10.441 1.42299\n      10.566 1.54797L12.452 3.43397C12.577 3.55899 12.6472 3.72853\n      12.6472 3.90531C12.6472 4.08208 12.577 4.25162 12.452 4.37664L4.82867\n      12ZM2 13.3333H14V14.6666H2V13.3333Z",fill:"#666666"}})])])])},je=[],Se={name:"icons"},Ie=Se,Ae=(a("81a0"),Object(d["a"])(Ie,Oe,je,!1,null,"d201021a",null)),Pe=Ae.exports,Te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"fade"}},[t.isOpen?a("div",{class:["modal",[!0===t.uploading?"uploading-state":""]],on:{click:function(e){return e.stopPropagation(),t.closeModal.apply(null,arguments)}}},[a("div",{class:["modal__content",{isOpen:t.isOpen}]},[t._t("default")],2)]):t._e()])},Le=[],Ee={name:"KModal",components:{KCard:F},props:{open:{type:Boolean},uploading:{type:Boolean}},computed:{isOpen:function(){return this.open||!1}},methods:{closeModal:function(t){t.target.classList.contains("modal")&&this.$emit("close")}}},Re=Ee,Me=Re,$e=(a("8658"),Object(d["a"])(Me,Te,Le,!1,null,"103f6170",null)),Ne=$e.exports,Fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",{staticClass:"table table__data"},[a("caption",{staticClass:"hide-text"},[t._v(" Activities Table ")]),a("thead",{staticClass:"table__data__header"},[a("tr",{class:["table__header-row",{"table__header-customers":t.customers&&t.customerOption,"table__header-customers-option":t.customers&&!t.customerOption,"table__header-manageData":t.manageData}]},[t._l(t.fields,(function(e,n){return a("th",{key:e,class:e,attrs:{id:e}},[a("span",{staticClass:"value",staticStyle:{display:"flex","align-items":"center",cursor:"pointer"}},[t.selectAll&&0===n&&t.sorted.length&&!t.loading?a("span",[a("k-checkbox",{attrs:{name:"yes",value:"yes",fill:t.value.length&&t.value.length!==t.sorted.length?"fill":""},model:{value:t.all,callback:function(e){t.all=e},expression:"all"}})],1):t._e(),a("span",{staticStyle:{display:"flex","align-items":"center",cursor:"pointer"},on:{click:function(a){return t.setSortField(e)}}},[t._v(" "+t._s(t.fieldsDisplay?t.fieldsDisplay[e]:e)+" ")])]),a("span",{staticClass:"caret",class:[{asc:e===t.sortField&&"asc"===t.direction}],on:{click:function(a){return t.setSortField(e)}}})])})),t.customers?[a("th",{staticClass:"view-activity"}),a("th",{staticClass:"button"})]:t._e()],2)]),a("tbody",{staticClass:"table__data__body"},[t.loading?t._l(20,(function(e){return a("tr",{key:e,class:{"table__row-manage-data":t.manageData,"table__loading-indicators-table":t.indicatorsTable}},t._l(t.fields,(function(t){return a("td",{key:e+t,class:t,staticStyle:{height:"20px"},attrs:{id:t}},[a("div",{staticClass:"suspense w-70"})])})),0)})):t._l(t.sorted,(function(e){return a("table-row",{key:e.id||e.createdAt||e.userLastSeen,attrs:{data:e,fields:t.fields,customers:t.customers,customerOption:t.customerOption,manageData:t.manageData,changeStatus:"",showStatus:t.showStatus},on:{clickAction:function(a){return t.$emit("clickAction",e.id)},view:function(a){return t.$emit("view",e.id,e.fullName)},changeStatus:function(a){return t.$emit("changeStatus",{status:"enabled"===e.status?"disabled":"enabled",id:e.id})}},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})}))],2)])},Ve=[],Ue=a("2909"),Be=(a("25f0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{class:["table__row",{"table__row-customers":t.customers&&t.customerOption,"table__row-customers-option":t.customers&&!t.customerOption,"table__row-manage-data":t.manageData}]},[t._l(t.fields,(function(e,n){var i;return a("td",{key:t.data[e],class:(i={},i[e]=!0,i[t.data[e]&&t.data[e].toString().toLowerCase()]="status"===e,i.untitled="name"===e&&"Untitled User"===t.data[e],i["text-capitalize"]="country"===e,i)},[0!==n||t.customers?t._e():a("span",{staticClass:"checkbox"},[a("k-checkbox",{attrs:{name:t.data[e],value:t.data["id"]},model:{value:t.innerValue,callback:function(e){t.innerValue=e},expression:"innerValue"}})],1),"name"!==e&&"fullName"!==e||!0!==t.customers?t._e():a("span",{staticClass:"image"},[a("img",{staticClass:"image-item",attrs:{src:t.data.imageUrl||t.avatar,alt:"image"}})]),"country"===e?a("span",{staticClass:"flag"},[a("img",{attrs:{src:"/countries/"+t.data[e].toLowerCase()+".svg",alt:""}})]):t._e(),a("span",{class:{mark:t.showStatus&&0===n,published:t.data.isPublished,unpublished:!t.data.isPublished,deleted:t.data.isDeleted},on:{click:function(e){return t.$emit("clickAction")}}},[t._v(" "+t._s(t._f("formatField")(t.data[e],e))+" ")])])})),!0===t.customers&&!0===t.customerOption?a("td",{staticClass:"view-activity"},[a("button",{staticClass:"view-activity__btn",on:{click:function(e){return t.$emit("view",t.data.id)}}},[t._v("View Activity")])]):t._e(),!0===t.customers&&!0===t.customerOption?a("td",{staticClass:"button"},[a("button",{class:[["enabled"===t.data.status?"disable":"enable"]],on:{click:function(e){return t.$emit("changeStatus")}}},[t._v(" "+t._s("enabled"===t.data.status?"Disable":"Enable")+" ")])]):t._e()],2)}),Ye=[],Ke={formatDate:function(t){return"".concat(Object(ot["a"])(new Date(t),"p")," , ").concat(Object(ot["a"])(new Date(t),"d"),"-").concat(Object(ot["a"])(new Date(t),"MM"),"-").concat(Object(ot["a"])(new Date(t),"Y"))},formatDateJoined:function(t){return"".concat(Object(ot["a"])(new Date(t),"d"),"-").concat(Object(ot["a"])(new Date(t),"MM"),"-").concat(Object(ot["a"])(new Date(t),"Y"))}},qe=a("bc28"),ze=a.n(qe),He={name:"TableRow",components:{KCheckbox:g},data:function(){return{innerValue:[],rowId:null,text:"Disable",avatar:ze.a}},props:{data:{type:Object},fields:{type:Array},value:{type:Array},customers:{type:Boolean,default:!1},customerOption:{type:Boolean,default:!1},manageData:{type:Boolean,default:!1},showStatus:{type:Boolean,default:!1},indicatorsTable:{type:Boolean,default:!1}},watch:{innerValue:{deep:!0,handler:function(t){this.checkAndAdd(t)}},value:function(t){t?this.checkAndAdd(this.innerValue,!0):this.innerValue=[]}},methods:{checkAndAdd:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.value){var a=this.value.indexOf(this.data.id),n=-1!==a,i=-1===a;e?(t.length&&i&&(this.innerValue=[]),!t.length&&n&&(this.innerValue=[this.data.id])):(t.length&&i&&this.value.push(this.data.id),!t.length&&n&&this.value.splice(a,1))}}},filters:{formatField:function(t,e){if(t)switch(e){case"createdAt":case"updatedAt":case"lastModified":case"userLastSeen":return Ke.formatDate(t);case"joined":return Ke.formatDateJoined(t);default:return t}return t}}},Ge=He,We=(a("0f4e"),Object(d["a"])(Ge,Be,Ye,!1,null,"59ca4c4f",null)),Ze=We.exports,Je={name:"KTable",components:{KCheckbox:g,TableRow:Ze},props:{fields:{type:Array},datalist:{type:null},fieldsDisplay:{type:Object},value:{type:null},clickAction:{type:Function},loading:{type:Boolean,default:!1},customers:{type:Boolean,default:!1},customerOption:{type:Boolean,default:!1},selectAll:{type:Boolean,default:!1},changeStatus:{type:null},manageData:{type:Boolean,default:!1},indicatorsTable:{type:Boolean,default:!1},showStatus:{type:Boolean,default:!1}},data:function(){return{selected:[],sortField:"",direction:"asc",all:[]}},model:{event:"change"},watch:{selected:function(t){this.$emit("change",t)},value:function(t){this.selected=t,!t.length&&this.all.length&&(this.all=[])},all:{deep:!0,handler:function(t){var e=t.includes("yes");this.$emit("selectAll",e)}}},computed:{sorted:function(){var t=this.sortField,e=this.datalist,a=this.direction;if(!t)return e;var n=Object(Ue["a"])(e);return n.sort(this[a](t)),n}},methods:{setSortField:function(t){t===this.sortField&&(this.direction="asc"===this.direction?"desc":"asc"),this.sortField=t},asc:function(t){return function(e,a){return e[t].toString().localeCompare(a[t].toString())}},desc:function(t){return function(e,a){return a[t].toString().localeCompare(e[t].toString())}}}},Qe=Je,Xe=Qe,ta=(a("6bf3"),Object(d["a"])(Xe,Fe,Ve,!1,null,"4798c693",null)),ea=ta.exports,aa=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"wrapper"},[n("p",{staticClass:"title"},[t._v(t._s(t.message))]),n("div",{staticClass:"content"},[t._l(t.tags,(function(e,i){return n("p",{key:e+i,staticClass:"item"},[t._v(" "+t._s(e)+" "),n("span",{staticClass:"close",on:{click:function(e){return t.removeTag(i)}}},[n("img",{attrs:{src:a("5dec"),alt:""}})])])})),n("input",{directives:[{name:"model",rawName:"v-model",value:t.tag,expression:"tag"}],attrs:{type:"text"},domProps:{value:t.tag},on:{keyup:t.handleKey,input:function(e){e.target.composing||(t.tag=e.target.value)}}})],2)])])},na=[],ia={name:"Inputtag",data:function(){return{message:"Tags",tag:""}},model:{prop:"tags"},props:{tags:{type:Array,default:function(){return[]}}},methods:{handleSubmit:function(){this.tags.push(this.tag),this.tag=""},handleKey:function(t){"Enter"===t.code&&this.handleSubmit()},removeTag:function(t){this.tags.splice(t,1)}}},sa=ia,ra=(a("b2d4"),Object(d["a"])(sa,aa,na,!1,null,"6f785304",null)),oa=ra.exports,ca={name:"App",components:{KToast:ie}},la=ca,ua=(a("51f7"),Object(d["a"])(la,i,s,!1,null,null,null)),da=ua.exports,pa=a("8c4f"),ma=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"overview"},[a("k-dashboard-layout",[a("header",{staticClass:"overview__header"},[a("div",{staticClass:"overview__header__content"},[a("h1",[t._v("Overview")]),a("p",[t._v("Here’s a brief presentation of activity in the last 7 days.")])]),a("div",{staticClass:"overview__controls"},[a("k-input",{attrs:{label:"Duration",type:"select",variant:"dropdown",optionsDisplay:t.optionsDisplay},model:{value:t.overviewDuration,callback:function(e){t.overviewDuration=e},expression:"overviewDuration"}})],1)]),a("section",{staticClass:"overview__content"},[a("section",{staticClass:"search"},[a("header",{staticClass:"header"},[a("h2",[t._v("Total Searches")])]),a("div",{staticClass:"search__summary"},[a("section",{staticClass:"search__summary__head"},[a("div",{staticClass:"search__summary__head__total"},[t._v(t._s(t._f("formatSearchVal")(t.totalSearches)))]),a("div",{staticClass:"search__summary__head__other-details see-more"},[a("div",{staticClass:"value"},[t._v(t._s(t.totalClicked)+"%")]),a("div",{staticClass:"additional"},[t._v("clicked to see more")])]),a("div",{staticClass:"search__summary__head__other-details new-account"},[a("div",{staticClass:"value"},[t._v(t._s(t.accounts))]),a("div",{staticClass:"additional"},[t._v("created a new account")])])]),a("section",{staticClass:"search__summary__body"},[a("header",{staticClass:"search__summary__body__heading"},[t._v("Total Search Per Category")]),t.isLoadingChart?a("div",{staticClass:"outer-pie round"},[a("div",{staticClass:"radar"}),a("div",{staticClass:"inner-pie round"})]):a("div",{staticClass:"search__summary__body__chart"},[t.chartDataset.length&&t.showChart&&!t.isLoadingChart?a("doughnut-wrapper",{attrs:{labels:t.chartData.labels,datasets:t.chartData.datasets}}):t._e()],1),a("div",{staticClass:"search__summary__body__labels"},t._l(t.chartData.labels,(function(e,n){return a("div",{key:e,staticClass:"label"},[a("div",{staticClass:"color",style:{background:t.chartData.datasets[0].backgroundColor[n]}}),a("div",{staticClass:"value"},[t._v(t._s(e))])])})),0)])])]),a("section",{staticClass:"recents"},[a("header",{staticClass:"header"},[a("h2",[t._v("Your Recent Activity")]),a("button",{staticClass:"link",on:{click:function(e){return t.$router.push({name:"Activities",params:{type:"admin"},query:{userName:t.userName}})}}},[t._v(" View All ")])]),a("table",{staticClass:"recent-activity"},[a("thead",[a("tr",t._l(t.displayFields,(function(e){return a("th",{key:e,class:e,attrs:{id:e}},[t._v(" "+t._s(e)+" ")])})),0)]),a("tbody",[t.isLoading?t._l(Array(7).keys(),(function(e){return a("tr",{key:e},t._l(t.displayFields,(function(t){return a("td",{key:e+t,class:t,staticStyle:{height:"20px"},attrs:{id:t}},[a("div",{staticClass:"suspense w-70"})])})),0)})):t._l(t.recentActivities,(function(e){return a("overview-table-row",{key:e.activity+e.createdAt,attrs:{activity:e,fields:t.displayFields}})})),t.recentActivities?t._e():a("div",{staticClass:"no-activity text-center"},[a("div",{staticClass:"icon"},[a("svg",{attrs:{width:"22",height:"20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:t.svgPath,fill:"#666"}})])]),a("p",[t._v("There has been no recent activity in the last 7 days.")])])],2)])]),a("section",{staticClass:"active-customer"},[a("div",{staticClass:"active-customer-content"},[a("h2",[t._v("Most Active Customer")]),a("img",{attrs:{src:t.topUser.imageUrl||t.dummyImage,alt:""}}),a("div",{staticClass:"active-customer-content__details"},[a("p",{staticClass:"active-customer-content__name text-center"},[t._v(t._s(t.topUser.fullName))]),a("p",{staticClass:"active-customer-content__mail text-center"},[t._v(t._s(t.topUser.email))])]),a("button",{staticClass:"active-customer-content__button",on:{click:function(e){return t.$router.push({name:"SingleCustomer",query:{id:t.topUser.id,name:t.topUser.fullName}})}}},[t._v(" View Profile ")])])]),a("section",{staticClass:"active-users"},[a("header",{staticClass:"header"},[a("h2",[t._v("Active Users")]),a("div",{staticClass:"active-users__controls"},[a("k-input",{attrs:{label:"Duration",type:"select",variant:"dropdown",optionsDisplay:t.optionsDisplay},model:{value:t.activeUserPeriod,callback:function(e){t.activeUserPeriod=e},expression:"activeUserPeriod"}})],1)]),t.lineDatasets.length&&!0===t.showLineChart?a("div",{staticClass:"active-users__content"},[0===t.lineDatasets.length?a("div",[a("h1",[t._v("There has been no user activities in the last "+t._s(t.activeUserPeriod))])]):a("line-wrapper",{attrs:{labels:[],datasets:t.lineData.datasets,isHours:"24 hours"===t.activeUserPeriod}})],1):t._e()])])])],1)},ha=[],fa=(a("7db0"),["#650A19","#FF708C","#AA97DB","#F38F94","#1983AB"]),ga=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",t._l(t.fields,(function(e){var n;return a("td",{key:t.activity[e],class:(n={},n[e]=!0,n[t.activity[e]]="activity"===e,n[t.activity[e].toLowerCase()]="status"===e,n.untitled="name"===e&&"Untitled User"===t.activity[e],n)},[t._v(" "+t._s(t._f("formatDate")(t.activity[e],e))+" ")])})),0)},va=[],ba={name:"OverviewTableRow",props:{activity:{type:Object},fields:{type:Array}},filters:{formatDate:function(t,e){if(t)switch(e){case"createdAt":return Ke.formatDate(t);default:return t}return t}}},ya=ba,_a=(a("f074"),Object(d["a"])(ya,ga,va,!1,null,"4e3e7d28",null)),wa=_a.exports;function ka(t){if("error"in t)return t;var e=t.response?t.response.data:t,a=e.message;return{error:a}}var Ca={computed:Object(it["a"])({},Object(Et["c"])({profile:"auth/getProfile",user:"auth/getUser"})),methods:Object(it["a"])(Object(it["a"])({},Object(Et["b"])({fetchprofile:"auth/getProfile"})),{},{getProfile:function(){var t=this;return Object(Mt["a"])(regeneratorRuntime.mark((function e(){var a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=t.user,n=a.id,i=a.token,e.next=4,t.fetchprofile({id:n,token:i});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),t.$toast.show({message:ka(e.t0).error});case 9:return e.prev=9,t.isLoading=!1,e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[0,6,9,12]])})))()}})};function Da(t){var e=t.id,a=t.duration;return Bt.get("/admin-dashboard/admin-activity?id=".concat(e,"&duration=").concat(a,"&limit=7"))}function xa(t){var e=t.duration;return Bt.get("/admin-dashboard/analytics?duration=".concat(e))}function Oa(t){var e=t.duration;return Bt.get("/admin-dashboard/active-users?duration=".concat(e))}var ja={name:"DashboardHome",components:{KInput:Pt,KDashboardLayout:Wt,OverviewTableRow:wa,DoughnutWrapper:pe,LineWrapper:ye},mixins:[Ca],data:function(){return{isLoading:!1,isLoadingUser:!1,isLoadingChart:!0,activities:null,isHours:!1,totalSearches:"",totalClicked:"",chartDataset:[],mostActiveUser:[],topUser:{},accounts:"",showChart:!0,showLineChart:!0,dummyImage:ze.a,overviewDuration:"7 days",activeUserPeriod:"7 days",optionsDisplay:{"24 hours":"Last 24 hours","7 days":"Last 7 days","30 days":"Last 30 days","3 months":"Last 3 months","6 months":"Last 6 months","12 months":"Last year"},displayFields:["activity","createdAt","status"],svgPath:"M18.896.44a2.91 2.91 0 0 1 2.91 2.909v1.94h-1.94v11.637a2.91 2.91 0 0 1-2.91 2.91H3.38a2.91 2.91 0 0 1-2.91-2.91v-1.94h15.518v1.94a.97.97 0 0 0 .856.963l.113.007a.97.97 0 0 0 .963-.857l.007-.113V2.379H5.32a.97.97 0 0 0-.963.856l-.007.114v9.698h-1.94V3.349A2.91 2.91 0 0 1 5.32.439h13.577Z",doughnutLabels:["Agriculture","Finance","Population","Technology","Health"],doughnutDatasets:[],lineLabels:[],lineDatasets:[]}},mounted:function(){var t=this;return Object(Mt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getProfile();case 2:return e.next=4,t.getRecentActivities();case 4:return e.next=6,t.getDashBoardAnalytics();case 6:return e.next=8,t.fetchActiveUsers();case 8:case"end":return e.stop()}}),e)})))()},watch:{overviewDuration:function(){this.getDashBoardAnalytics()},showChart:function(t){t||setTimeout(this.setShow,0)},showLineChart:function(t){t||setTimeout(this.setLineShow,0)},activeUserPeriod:function(){this.fetchActiveUsers()}},computed:Object(it["a"])(Object(it["a"])({},Object(Et["c"])({Profile:"auth/getProfile",recentActivities:"dashboard/getRecentActivities"})),{},{userName:function(){var t=this.Profile,e=t.firstName,a=t.lastName;return"".concat(e," ").concat(a)},chartData:function(){var t=this.chartDataset;return{labels:t.map((function(t){return t.category})),datasets:[{data:t.map((function(t){return t.count})),backgroundColor:fa}]}},lineData:function(){var t=this.lineDatasets,e=t.map((function(t){return{x:t.dateTrunc,y:t.count}}));return e.sort((function(t,e){return new Date(t.x)-new Date(e.x)})),{datasets:[{data:e,borderColor:"rgb(90,11,117)",pointBackgroundColor:"rgba(90,11,117,1)",pointHoverBackgroundColor:"rgba(90,11,117,1)",pointBorderColor:"rgba(90,11,117,0)",pointRadius:1.5,pointHitRadius:4,borderWidth:2,tension:.1}]}}}),methods:Object(it["a"])(Object(it["a"])({},Object(Et["b"])({getRecentAdminActivities:"dashboard/getRecentAdminActivities",getAnalytics:"dashboard/getAnalytics"})),{},{setShow:function(){this.showChart=!0},setLineShow:function(){this.showLineChart=!0},fetchActiveUsers:function(){var t=this;return Object(Mt["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.activeUserPeriod,e.prev=1,e.next=4,Oa({duration:a});case 4:n=e.sent,console.log(n.data.message),200===n.status&&(t.lineDatasets=n.data.data,t.showLineChart=!1),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()},getRecentActivities:function(){var t=this;return Object(Mt["a"])(regeneratorRuntime.mark((function e(){var a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.Profile.id,n=t.overviewDuration,t.isLoading=!0,e.prev=3,e.next=6,t.getRecentAdminActivities({id:a,duration:n});case 6:i=e.sent,console.log(i),t.isLoading=!1,e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](3),console.log(e.t0),t.isLoading=!1;case 15:case"end":return e.stop()}}),e,null,[[3,11]])})))()},getDashBoardAnalytics:function(){var t=this;return Object(Mt["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.overviewDuration,t.isLoadingUser=!0,e.prev=2,e.next=5,t.getAnalytics({duration:a});case 5:if(n=e.sent,n.error){e.next=19;break}t.totalSearches=n.data.searchTotal.count,t.totalClicked=n.data.totalClickedSearch.percentage,t.accounts=n.data.userAccountTotal[0].count,t.isLoadingChart=!0,t.chartDataset=n.data.totalSearchPerCategory,t.isLoadingChart=!1,t.showChart=!1,t.mostActiveUser=n.data.mostActiveUser,t.isLoadingUser=!1,t.topUser=t.mostActiveUser.find((function(t){return"1"===t.rank})),e.next=20;break;case 19:throw Error(n.error);case 20:e.next=25;break;case 22:e.prev=22,e.t0=e["catch"](2),console.log(e.t0);case 25:return e.prev=25,t.isLoadingChart=!1,e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[2,22,25,28]])})))()}}),filters:{formatSearchVal:function(t){var e=new Intl.NumberFormat("en-GB",{notation:"compact",compactDisplay:"short"}).format(t);return e}}},Sa=ja,Ia=Sa,Aa=(a("1c4a"),Object(d["a"])(Ia,ma,ha,!1,null,"0839f954",null)),Pa=Aa.exports,Ta=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("k-dashboard-layout",[a("div",{staticClass:"container"},[a("h2",[t._v("Components")]),a("h2",[t._v("primary button")]),a("section",{staticClass:"table"},[a("h2",[t._v("Table")]),a("div",{staticClass:"selected"},[t._v("selected: "+t._s(t.selected.length))]),a("div",[t._v(t._s(t.selected))]),a("k-table",{attrs:{datalist:t.allTableData,fields:t.tableFields,"fields-display":t.tableFieldsDisplay},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1),a("div",{staticClass:"content"},[a("k-button",[t._v("Primary Button")]),a("k-button",[t._v("Primary button hover")]),a("k-button",{attrs:{disabled:!0}},[t._v("Primary button disabled")]),a("k-button",{attrs:{negative:!0}},[t._v("Primary button negative")])],1),a("h2",[t._v("secondary button")]),a("div",{staticClass:"content"},[a("k-button",{attrs:{variant:"secondary"}},[t._v("Secondary button")]),a("k-button",{attrs:{variant:"secondary"}},[t._v("Secondary button hover")]),a("k-button",{attrs:{disabled:!0,variant:"secondary"}},[t._v("Secondary button disabled")]),a("k-button",{attrs:{negative:!0,variant:"secondary"}},[t._v("Secondary button negative")])],1),a("h2",[t._v("Tertiary button")]),a("div",{staticClass:"content"},[a("k-button",{attrs:{variant:"tertiary"}},[t._v("Tertiary button")]),a("k-button",{attrs:{variant:"tertiary"}},[t._v("Tertiary button hover")]),a("k-button",{attrs:{disabled:!0,variant:"tertiary"}},[t._v("Tertiary button disabled")]),a("k-button",{attrs:{negative:!0,variant:"tertiary"}},[t._v("Tertiary button negative")])],1),a("h2",[t._v("Link button")]),a("div",{staticClass:"content"},[a("k-button",{attrs:{variant:"link"}},[t._v("Link button")]),a("k-button",{attrs:{variant:"link"}},[t._v("Link button hover")]),a("k-button",{attrs:{disabled:!0,variant:"link"}},[t._v("Link button disabled")])],1),a("k-button",{attrs:{size:"full",variant:"tertiary"}},[t._v("Tertiary button")]),a("section",{staticClass:"cards"},[a("h2",[t._v("Card "),a("span",{staticClass:"small"},[t._v("Default")])]),a("k-card",{attrs:{heading:"Role"}},[a("h3",[t._v("Super Admin")]),a("p",[t._v(" This is just a test description to understand how this design would really look like in real life. I’m hoping it gets to three lines or else I’m going to keep typing until it is done. ")])])],1),a("div",{staticClass:"pagination"},[a("section",[a("h2",[t._v("Pagination")]),a("k-pagination",{attrs:{maxItemsOnPage:20,page:t.page,totalItems:t.totalItems},on:{goToNext:t.nextPage,goToPrev:t.prevPage}})],1),a("section",[a("h2",[t._v("Pagination "),a("span",{staticClass:"small"},[t._v("variant: many")])]),a("k-pagination",{attrs:{maxItemsOnPage:20,page:t.page,totalItems:t.totalItems,variant:"many"},on:{goToNext:t.nextPage,goToPrev:t.prevPage}})],1)]),a("div",{staticClass:"inputs"},[a("section",[a("h2",[t._v("Text Input")]),a("k-input",{attrs:{label:"Name"}})],1),a("section",[a("h2",[t._v("Text Input "),a("span",{staticClass:"small"},[t._v("Filled")])]),a("k-input",{attrs:{label:"Title"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),a("section",[a("h2",[t._v("Text Input "),a("span",{staticClass:"small"},[t._v("Disabled")])]),a("k-input",{attrs:{disabled:!0,label:"Title"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),a("section",[a("h2",[t._v("Email Input "),a("span",{staticClass:"small"},[t._v("Error")])]),a("k-input",{attrs:{error:"Your email address is not correct.",label:"Title",type:"email"},model:{value:t.badEmail,callback:function(e){t.badEmail=e},expression:"badEmail"}})],1),a("section",[a("h2",[t._v("Password Input")]),a("k-input",{attrs:{label:"Password",type:"password",variant:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("section",[a("h2",[t._v("Date Input")]),a("div",{staticClass:"small"},[t._v(t._s(t.date))]),a("k-input",{attrs:{label:"Date",type:"date"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),a("section",[a("h2",[t._v("Select Input "),a("span",{staticClass:"small"},[t._v("Custom")])]),a("k-input",{attrs:{label:"Color",type:"select",variant:"custom"},model:{value:t.color2,callback:function(e){t.color2=e},expression:"color2"}},[a("option",{staticClass:"option",attrs:{value:"crimson"}},[t._v("Crimson")]),a("option",{staticClass:"option",attrs:{value:"orange"}},[t._v("Orange")]),a("option",{staticClass:"option",attrs:{value:"indigo"}},[t._v("Indigo")]),a("option",{staticClass:"option",attrs:{value:"crimson"}},[t._v("Crimson")]),a("option",{staticClass:"option",attrs:{value:"orange"}},[t._v("Orange")]),a("option",{staticClass:"option",attrs:{value:"indigo"}},[t._v("Indigo")]),a("option",{staticClass:"option",attrs:{value:"crimson"}},[t._v("Crimson")]),a("option",{staticClass:"option",attrs:{value:"orange"}},[t._v("Orange")]),a("option",{staticClass:"option",attrs:{value:"indigo"}},[t._v("Indigo")]),a("option",{staticClass:"option",attrs:{value:"crimson"}},[t._v("Crimson")]),a("option",{staticClass:"option",attrs:{value:"orange"}},[t._v("Orange")]),a("option",{staticClass:"option",attrs:{value:"indigo"}},[t._v("Indigo")])])],1)]),a("section",[a("k-icons")],1),a("div",{staticClass:"modal"},[a("h2",[t._v("Modal")]),a("k-button",{on:{click:function(e){t.modalOpen=!0}}},[t._v("Open Modal")])],1),a("k-pagination",{attrs:{forTable:!0,maxItemsOnPage:20,page:t.page,totalItems:t.totalItems,totalPages:7,variant:"many"},on:{goToNext:t.nextPage,goToPrev:t.prevPage}}),a("section",[a("k-input-tag",{model:{value:t.tags,callback:function(e){t.tags=e},expression:"tags"}})],1)],1)])},La=[],Ea=a("f8de"),Ra=a.n(Ea),Ma=a("60a5"),$a=a.n(Ma),Na=a("a3d4"),Fa=a.n(Na),Va={all:[{id:"fgsawyfcghyegehhe",indicator:"Central Budget",country:"Poland",startYear:"1986",endYear:"2020",lastModified:(new Date).toDateString()},{id:"fghfghbkyfcghyegehhe",indicator:"Primary Income ",country:"Norway",startYear:"1986",endYear:"2020",lastModified:new Date(2021,2,7).toDateString()},{id:"fghdjkyfjhyegehhe",indicator:"Current Account to GDP",country:"Norway",startYear:"1986",endYear:"2020",lastModified:(new Date).toDateString()},{id:"fghertfcghyegehhe",indicator:"Direct Investment (Assets)",country:"Italy",startYear:"1986",endYear:"2020",lastModified:(new Date).toDateString()},{id:"fgxcvyfcghyegehhe",indicator:"Direct Investment (Liabilities)",country:"Poland",startYear:"1986",endYear:"2020",lastModified:(new Date).toDateString()},{id:"fghdjkyfcghyegehhe",indicator:"Portfolio Investments (Liabilities)",country:"Norway",startYear:"1986",endYear:"2020",lastModified:(new Date).toDateString()},{id:"fghdjkyfcghtryhhe",indicator:"Official Reserve Assets",country:"Poland",startYear:"1986",endYear:"2020",lastModified:(new Date).toDateString()},{id:"fghdjkyfcgghjehhe",indicator:"Population Men ",country:"Italy",startYear:"1986",endYear:"2020",lastModified:(new Date).toDateString()},{id:"fghdjkyfctyuigehhe",indicator:"Population Women",country:"Poland",startYear:"1986",endYear:"2020",lastModified:(new Date).toDateString()},{id:"fghdjkyfcgrtyugehhe",indicator:"Urban population",country:"Poland",startYear:"1986",endYear:"2020",lastModified:(new Date).toDateString()},{id:"fghdjkyfghjyegehhe",indicator:"Urban Population % of total Population ",country:"Norway",startYear:"1986",endYear:"2020",lastModified:(new Date).toDateString()},{id:"fghdjkyfcghtfghhe",indicator:"Marriages",country:"Italy",startYear:"1986",endYear:"2020",lastModified:(new Date).toDateString()},{id:"fghdjkyfcgfghgehhe",indicator:"Legal Separations",country:"Poland",startYear:"1986",endYear:"2020",lastModified:(new Date).toDateString()},{id:"fghdjkyfcghjigehhe",indicator:"Death by Causes (System)",country:"Poland",startYear:"1986",endYear:"2020",lastModified:(new Date).toDateString()},{id:"fghdjkyfcghyegehhe",indicator:"Urban Population % of total Population 2",country:"Norway",startYear:"1985",endYear:"2020",lastModified:(new Date).toDateString()},{id:"fghdjkyfcghtyukhhe",indicator:"Marriages 2",country:"Italy",startYear:"1985",endYear:"2020",lastModified:(new Date).toDateString()},{id:"fghdjkyfcfghgehhe",indicator:"Legal Separations 2",country:"Poland",startYear:"1985",endYear:"2020",lastModified:(new Date).toDateString()},{id:"fghdjkyfcgfcvbehhe",indicator:"Death by Causes (System) 2",country:"Poland",startYear:"1985",endYear:"2020",lastModified:(new Date).toDateString()}],published:[{id:18,indicator:"Primary Income ",country:"Norway",startYear:"1986",endYear:"2020",lastModified:(new Date).toDateString()},{id:19,indicator:"Portfolio Investments (Liabilities)",country:"Norway",startYear:"1986",endYear:"2020",lastModified:(new Date).toDateString()},{id:20,indicator:"Official Reserve Assets",country:"Poland",startYear:"1986",endYear:"2020",lastModified:(new Date).toDateString()},{id:21,indicator:"Population Men ",country:"Italy",startYear:"1986",endYear:"2020",lastModified:(new Date).toDateString()},{id:22,indicator:"Urban population",country:"Poland",startYear:"1986",endYear:"2020",lastModified:(new Date).toDateString()},{id:23,indicator:"Marriages",country:"Italy",startYear:"1986",endYear:"2020",lastModified:(new Date).toDateString()},{id:24,indicator:"Legal Separations",country:"Poland",startYear:"1986",endYear:"2020",lastModified:(new Date).toDateString()},{id:25,indicator:"Death by Causes (System)",country:"Poland",startYear:"1986",endYear:"2020",lastModified:(new Date).toDateString()},{id:26,indicator:"Death without the exact cause",country:"Poland",startYear:"1986",endYear:"2020",lastModified:(new Date).toDateString()},{id:27,indicator:"Internal Migration for Permanent Residence",country:"Poland",startYear:"1986",endYear:"2020",lastModified:(new Date).toDateString()}],drafts:[{id:28,indicator:"Central Budget",country:"Poland",startYear:"1986",endYear:"2020",lastModified:(new Date).toDateString()},{id:29,indicator:"Direct Investment (Assets)",country:"Italy",startYear:"1986",endYear:"2020",lastModified:(new Date).toDateString()},{id:30,indicator:"Portfolio Investments (Liabilities)",country:"Norway",startYear:"1986",endYear:"2020",lastModified:(new Date).toDateString()},{id:31,indicator:"Population Men ",country:"Italy",startYear:"1986",endYear:"2020",lastModified:(new Date).toDateString()},{id:33,indicator:"Urban population",country:"Poland",startYear:"1986",endYear:"2020",lastModified:(new Date).toDateString()},{id:34,indicator:"Death by Causes (System)",country:"Poland",startYear:"1986",endYear:"2020",lastModified:(new Date).toDateString()},{id:35,indicator:"Death without the exact cause",country:"Poland",startYear:"1986",endYear:"2020",lastModified:(new Date).toDateString()},{id:36,indicator:"Internal Migration for Permanent Residence",country:"Poland",startYear:"1986",endYear:"2020",lastModified:(new Date).toDateString()}],deleted:[{id:37,indicator:"Death by Causes (System)",country:"Poland",startYear:"1986",endYear:"2020",lastModified:(new Date).toDateString()}],indicators:[{id:38,indicator:"Primary Income",category:"Economy",frequency:"Yearly",available:"20",lastModified:(new Date).toDateString()},{id:39,indicator:"Capital Account",category:"Economy",frequency:"Yearly",available:"20",lastModified:(new Date).toDateString()},{id:40,indicator:"Agricultural Land",category:"Economy",frequency:"Yearly",available:"20",lastModified:(new Date).toDateString()},{id:41,indicator:"Agricultural Budget",category:"Economy",frequency:"Yearly",available:"20",lastModified:(new Date).toDateString()},{id:42,indicator:"Life Expectancy - Man",category:"Economy",frequency:"Yearly",available:"20",lastModified:(new Date).toDateString()},{id:43,indicator:"Life Expectancy - Woman",category:"Economy",frequency:"Yearly",available:"20",lastModified:(new Date).toDateString()},{id:44,indicator:"Marriages",category:"Economy",frequency:"Yearly",available:"20",lastModified:(new Date).toDateString()},{id:45,indicator:"Divorces",category:"Economy",frequency:"Yearly",available:"20",lastModified:(new Date).toDateString()},{id:46,indicator:"Legal Separation",category:"Economy",frequency:"Yearly",available:"20",lastModified:(new Date).toDateString()},{id:47,indicator:"Live Births",category:"Economy",frequency:"Yearly",available:"20",lastModified:(new Date).toDateString()},{id:48,indicator:"Value Added Tax",category:"Economy",frequency:"Yearly",available:"20",lastModified:(new Date).toDateString()},{id:49,indicator:"Total Population",category:"Economy",frequency:"Yearly",available:"20",lastModified:(new Date).toDateString()},{id:50,indicator:"Primary Income",category:"Economy",frequency:"Yearly",available:"20",lastModified:(new Date).toDateString()},{id:51,indicator:"Primary Income",category:"Economy",frequency:"Yearly",available:"20",lastModified:(new Date).toDateString()},{id:52,indicator:"Primary Income",category:"Economy",frequency:"Yearly",available:"20",lastModified:(new Date).toDateString()},{id:53,indicator:"Primary Income",category:"Economy",frequency:"Yearly",available:"20",lastModified:(new Date).toDateString()},{id:54,indicator:"Primary Income",category:"Economy",frequency:"Yearly",available:"20",lastModified:(new Date).toDateString()},{id:55,indicator:"Primary Income",category:"Economy",frequency:"Yearly",available:"20",lastModified:(new Date).toDateString()},{id:56,indicator:"Primary Income",category:"Economy",frequency:"Yearly",available:"20",lastModified:(new Date).toDateString()},{id:57,indicator:"Primary Income",category:"Economy",frequency:"Yearly",available:"20",lastModified:(new Date).toDateString()}],single:{id:1,indicator:"Central Budget",category:"Economy",country:"Poland",startYear:"1986",endYear:"2020",lastModified:(new Date).toDateString(),metric:"United States Dollar",frequency:"Yearly",source:"World Bank",link:"bit.ly/21SHajes10",note:"This is a summarized analysis of the data set. When it is empty, it will not show up on the customer end. It usually talks about the trends of the chart you’re seeing. Sometimes, it could talk about the history, focus on an anomaly or suggest what else to look at to really understand it. It is never a comprehensive tool to understand the data we share.",data:['{ "period": "2000", "value": "" } ','{ "period": "2001", "value": "" } ','{ "period": "2002", "value": "24,055.90" } ','{ "period": "2003", "value": "27,648.40" } ','{ "period": "2004", "value": "33,208.50" } ','{ "period": "2005", "value": "34,617.90" } ','{ "period": "2006", "value": "36,815.50" } ','{ "period": "2007", "value": "49,824.10" } ','{ "period": "2008", "value": "57,177.40" } ','{ "period": "2009", "value": "44,663.00" } ','{ "period": "2010", "value": "47,255.90" } ','{ "period": "2011", "value": "52,701.00" } ','{ "period": "2012", "value": "57,949.30" } ','{ "period": "2013", "value": "47,520.70" } ','{ "period": "2014", "value": "55,332.20" } ','{ "period": "2015", "value": "55,785.40" } ','{ "period": "2016", "value": "57,795.30" } ','{ "period": "2017", "value": "64.378.0" } ','{ "period": "2018", "value": "77,143.70" } ','{ "period": "2019", "value": "78,902.80" } ','{ "period": "2020", "value": "78,498.80" } ','{ "period": "2021", "value": "86,967.40" }'],tags:["budget","poland","central budget","dollar","gross domestic product","gdp","world bank data"]},Customers:[{id:"sdf6i8ywhggdhk",name:"Jason Fried",email:"jason.fried@gmail.com",joined:"18-02-2021",lastSeen:(new Date).toDateString(),imgUrl:Ra.a,status:"active"},{id:"sdf6i8y3hggdhk",name:"Jason Fried",email:"jason.fried@gmail.com",joined:"18-02-2021",lastSeen:(new Date).toDateString(),imgUrl:$a.a,status:"active"},{id:"sdf6i84whggdhk",name:"Jason Fried",email:"jason.fried@gmail.com",joined:"18-02-2021",lastSeen:(new Date).toDateString(),imgUrl:Fa.a,status:"active"},{id:"sdf6i8ywhtgdhk",name:"Jason Fried",email:"jason.fried@gmail.com",joined:"18-02-2021",lastSeen:(new Date).toDateString(),imgUrl:Ra.a,status:"active"},{id:"sdf6i8ywhghdhk",name:"Jason Fried",email:"jason.fried@gmail.com",joined:"18-02-2021",lastSeen:(new Date).toDateString(),imgUrl:$a.a,status:"disabled"},{id:"sdf6i8ywhgadhk",name:"Jason Fried",email:"jason.fried@gmail.com",joined:"18-02-2021",lastSeen:(new Date).toDateString(),imgUrl:Fa.a,status:"disabled"},{id:"sdf6i8ywhghshk",name:"Jason Fried",email:"jason.fried@gmail.com",joined:"18-02-2021",lastSeen:(new Date).toDateString(),imgUrl:Ra.a,status:"active"},{id:"sdf6i8ywdghshk",name:"Jason Fried",email:"jason.fried@gmail.com",joined:"18-02-2021",lastSeen:(new Date).toDateString(),imgUrl:Ra.a,status:"active"}]},Ua={name:"Components",components:{KButton:m,KCard:F,KPagination:tt,KDashboardLayout:Wt,KInput:Pt,KIcons:Pe,KTable:ea,KInputTag:oa},data:function(){return{date:null,tags:[],page:1,totalItems:243,itemsOnPage:20,label:[],checked:"",title:"Filler text",badEmail:"thisisnotacorrectemail",password:"some complex password!212@334",color:"",color2:"",modalOpen:!0,roleTitle:"Data Consultant",roleDescription:"This is just a test description to understand how this design would really look",tableFields:["indicator","country","startYear","endYear","lastModified"],tableFieldsDisplay:{indicator:"Name of Indicator",country:"Country",startYear:"Start Year",endYear:"End Year",lastModified:"Last Modified"},allTableData:Va.all,selected:[]}},created:function(){window.vm=this},methods:{nextPage:function(){var t=this.itemsOnPage;this.page*t<this.totalItems&&(this.page+=1)},prevPage:function(){this.page=1!==this.page?this.page-1:this.page}}},Ba=Ua,Ya=(a("34cc"),Object(d["a"])(Ba,Ta,La,!1,null,"4a528ff1",null)),Ka=Ya.exports,qa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("k-auth",{attrs:{title:"Welcome to Admin."},scopedSlots:t._u([{key:"description",fn:function(){return[a("p",[t._v(" Sign in to access your dashboard. If you can’t login, please "),a("span",[a("router-link",{attrs:{to:"/reset-password"}},[t._v("contact the admin ")])],1),t._v(" to resolve your issue. ")])]},proxy:!0}])},[a("form",{staticClass:"form__items",on:{submit:function(e){return e.preventDefault(),t.loginUser.apply(null,arguments)}}},[a("k-input",{attrs:{label:"Your email address",type:"email",name:"email"},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}}),a("k-input",{attrs:{label:"Password",type:"password",variant:"password",name:"password"},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}}),a("k-button",{attrs:{loading:t.isLoading,size:"full",disabled:!t.user.password||!t.user.email,submit:""}},[t._v(" Sign in to your dashboard ")])],1)])},za=[],Ha={name:"Login",components:{KAuth:xe,KInput:Pt,KButton:m},data:function(){return{isLoading:!1,user:{email:"",password:""}}},methods:Object(it["a"])(Object(it["a"])({},Object(Et["b"])({login:"auth/login"})),{},{loginUser:function(){var t=this;return Object(Mt["a"])(regeneratorRuntime.mark((function e(){var a,n,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.user,n=a.email,i=a.password,t.isLoading=!0,n&&i){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,t.login({user:t.user});case 7:s=e.sent,s.id?(t.$toast.show({message:"Successfully Logged In"}),t.$router.push("/")):t.$toast.show({message:"Invalid login details"}),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](4),t.$toast.show({message:"Invalid login details"});case 14:return e.prev=14,t.isLoading=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[4,11,14,17]])})))()}})},Ga=Ha,Wa=Ga,Za=(a("f199"),Object(d["a"])(Wa,qa,za,!1,null,"542c5c1a",null)),Ja=Za.exports,Qa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("k-auth",{attrs:{title:"Reset your password."},scopedSlots:t._u([{key:"description",fn:function(){return[a("p",[t._v("Confirm your email address to receive your new password in your inbox.")])]},proxy:!0}])},[a("form",{on:{submit:function(e){return e.preventDefault(),t.forgotPassword.apply(null,arguments)}}},[a("div",{staticClass:"form__items"},[a("k-input",{attrs:{label:"Your email address",type:"email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("k-button",{attrs:{loading:t.isLoading,size:"full",submit:""}},[t._v("Send my new password")])],1),a("k-button",{staticClass:"btn",attrs:{variant:"link",size:"full"},on:{click:function(e){return t.$router.push({name:"Login"})}}},[t._v(" Back to login ")])],1)])},Xa=[],tn={name:"ResetPassword",components:{KAuth:xe,KInput:Pt,KButton:m},data:function(){return{isLoading:!1,email:""}},methods:Object(it["a"])(Object(it["a"])({},Object(Et["b"])({forgot:"auth/forgotPassword"})),{},{forgotPassword:function(){var t=this;return Object(Mt["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.prev=1,e.next=4,t.forgot({user:{email:t.email}});case 4:if(a=e.sent,!a.error){e.next=7;break}throw Error(a.error);case 7:t.$router.push("/check-inbox"),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),t.$toast.show({message:e.t0.message});case 13:return e.prev=13,t.isLoading=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})))()}})},en=tn,an=en,nn=(a("52bc"),Object(d["a"])(an,Qa,Xa,!1,null,"a36693e0",null)),sn=nn.exports,rn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("k-auth",{attrs:{hasIcon:!0,title:"Check your inbox!"},scopedSlots:t._u([{key:"description",fn:function(){return[a("p",[t._v("We sent a new password to your inbox. Please keep it safe next time.")])]},proxy:!0}])},[a("form",[a("div",{staticClass:"form__items"},[a("k-button",{attrs:{loading:t.isLoading,size:"full"},on:{click:function(e){return t.$router.push({name:"Login"})}}},[t._v(" Log in to your dashboard ")])],1)])])},on=[],cn={name:"CheckInbox",components:{KAuth:xe,KButton:m},data:function(){return{isLoading:!1}}},ln=cn,un=ln,dn=(a("3ba5"),Object(d["a"])(un,rn,on,!1,null,"148a67aa",null)),pn=dn.exports,mn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("k-dashboard-layout",[a("header",{staticClass:"activity__header"},[a("h1",[t._v(t._s(t.pageTitle))]),a("div",{staticClass:"activity__controls"},[a("k-pagination",{attrs:{page:t.paginationData.page,maxItemsOnPage:20,totalItems:t.paginationData.totalItems,totalPages:t.paginationData.totalPages,variant:"many"},on:{goToNext:t.nextPage,goToPrev:t.prevPage,goToFirst:t.firstPage,goToLast:t.lastPage}}),a("k-input",{attrs:{label:"Search name or action",reactive:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("k-input",{attrs:{type:"select",variant:"dropdown",label:"Duration",optionsDisplay:t.optionsDisplay},model:{value:t.duration,callback:function(e){t.duration=e},expression:"duration"}}),a("k-button",{attrs:{variant:"secondary"},on:{click:function(e){t.modalOpen=!0}}},[t._v("Export")])],1)]),a("table",{staticClass:"activity__data"},[a("caption",{staticClass:"hide-text"},[t._v(" Activities Table ")]),a("thead",{staticClass:"activity__data__header"},[a("tr",t._l(t.displayFields,(function(e){return a("th",{key:e,class:e,attrs:{id:e},on:{click:function(a){return t.setSortField(e)}}},[a("span",{staticClass:"value"},[t._v(t._s("createdAt"===e?"Timestamp":e))]),a("span",{staticClass:"caret",class:[{asc:e===t.sortField&&"asc"===t.direction}]})])})),0)]),a("tbody",{staticClass:"activity__data__body"},[t.isLoading?t._l(Array(20).keys(),(function(e){return a("tr",{key:e},t._l(t.displayFields,(function(t){return a("td",{key:e+t,class:t,staticStyle:{height:"20px"},attrs:{id:t}},[a("div",{staticClass:"suspense w-70"})])})),0)})):[t._l(t.sorted,(function(e){return a("activity-table-row",{key:e.createdAt,attrs:{activity:e,fields:t.displayFields}})})),0===t.activities.length?a("div",{staticClass:"no-activity text-center"},[a("div",{staticClass:"icon"},[a("svg",{attrs:{width:"22",height:"20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:t.svgPath,fill:"#666"}})])]),a("p",[t._v("There are currently no "+t._s(t.type)+" activities")])]):t._e()]],2)]),a("k-modal",{attrs:{open:t.modalOpen},on:{close:function(e){t.modalOpen=!1}}},[a("k-card",{attrs:{variant:"in-modal",heading:"Export Activity"}},[a("form",{staticClass:"form__items"},[a("k-input",{attrs:{label:"Title",name:"title"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),a("k-input",{attrs:{label:"File Type",name:"file-type",type:"select",optionsDisplay:t.fileTypes},model:{value:t.fileType,callback:function(e){t.fileType=e},expression:"fileType"}}),a("div",{staticClass:"input-row"},[a("k-input",{attrs:{label:"Start Date",name:"start-date",type:"date"},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}}),a("k-input",{attrs:{label:"End Date",name:"end-date",type:"date"},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1),a("div",{staticClass:"modal-controls"},[a("k-button",{attrs:{variant:"link"},on:{click:t.reset}},[t._v("Cancel")]),a("k-button",{attrs:{variant:"secondary",loading:t.isDownLoading},on:{click:t.downloadActivities}},[t._v("Download File")])],1)],1)])],1)],1)},hn=[],fn=(a("159b"),a("737d")),gn=a("21a6"),vn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",t._l(t.fields,(function(e){var n;return a("td",{key:t.activity[e],class:(n={},n[e]=!0,n[t.activity[e].toLowerCase()]="status"===e,n.untitled="name"===e&&"Untitled User"===t.activity[e],n)},["name"===e?a("span",{staticClass:"initials"},[t._v(t._s(t.initials(t.activity[e])))]):t._e(),t._v(" "+t._s(t._f("formatDate")(t.activity[e],e))+" "),"action"===e?a("span",{staticClass:"value"},[t._v(" "+t._s("\n"+t.activity["value"]))]):t._e()])})),0)},bn=[],yn=(a("498a"),{name:"ActivityTableRow",props:{activity:{type:Object},fields:{type:Array}},filters:{formatDate:function(t,e){if(t)switch(e){case"createdAt":return Ke.formatDate(t);default:return t}return t}},methods:{initials:function(t){if("Untitled User"===t)return"?";var e="";return t.trim().split(" ").forEach((function(t){e+=t[0]})),e.toUpperCase()}}}),_n=yn,wn=(a("83cd"),Object(d["a"])(_n,vn,bn,!1,null,"1394b584",null)),kn=wn.exports,Cn="<style>\nbody {\n  padding: 0;\n  margin: 0;\n  box-sizing: border-box;\n  font-family: sans-serif;\n}\n.container {\n  width: 100%;\n  box-sizing: border-box;\n}\ntable, thead, tbody{\n  border-collapse: collapse;\n  width: 100%;\n}\n\nthead {\n border-bottom: 1px solid #D9D9D9;\n}\nh3 {\n font-size: 24px;\n text-transform: capitalize;\n font-weight: 500;\n}\nth {\n font-size: 14px;\n text-transform: capitalize;\n text-align: left;\n padding-right: 10px;\n}\ntd {\n  text-transform: capitalize;\n  font-size: 10px;\n  height: 40px;\n  padding-right: 10px;\n}\nth,\ntd {\n  width: 20%;\n}\n\n</style>",Dn="\n".concat(Cn);function xn(t){var e=t.tableHeaders,a=t.tableBodyData,n=t.title;try{var i="<tr>\n     ".concat(e.map((function(t){return"<th>".concat(t,"</th>")})).join(""),"\n     </tr>"),s=a.map((function(t){return"\n     <tr>\n      ".concat(t.map((function(t){return"\n       <td>".concat(t,"</td>\n       ")})).join(""),"\n     </tr>")})).join(""),r="<table>\n     <thead>\n       ".concat(i,'\n     </thead>\n     <div class="line"></div>\n     <tbody class="table__body">\n       ').concat(s,"\n     </tbody>\n   </table>");return"\n     ".concat(Dn,'\n     <body>\n      <div class="container">\n       <h3>').concat(n,"</h3>\n       ").concat(r,"\n      </div>\n     </body>\n ")}catch(o){console.log(o)}}var On=function(t){return Bt.post("./upload",t,{"Content-Type":"multipart/form-data"})};function jn(t){var e=t.data,a=t.type;return Bt.post("/export/dataset?file_type=".concat(a),e,{"Content-Type":"multipart/form-data",responseType:"blob"})}var Sn={name:"ActivityHome",components:{KCard:F,KModal:Ne,KButton:m,ActivityTableRow:kn,KInput:Pt,KPagination:tt,KDashboardLayout:Wt},data:function(){return{sortField:"",direction:"asc",downloadData:[],type:null,page:1,maxItemsOnPage:20,isLoading:!1,isDownLoading:!1,search:"",paginationData:{page:1,totalItems:0,itemsOnPage:20,totalPages:0},displayFields:["name","activity","createdAt"],duration:"",optionsDisplay:{"":"All","24hours":"Last 24 hours","7days":"Last 7 days","30days":"Last 30 days","3months":"Last 3 months","6months":"Last 6 months","12months":"Last year"},modalOpen:!1,fileType:"",startDate:"",endDate:"",title:"",fileTypes:{csv:"CSV",pdf:"PDF"},svgPath:"M18.896.44a2.91 2.91 0 0 1 2.91 2.909v1.94h-1.94v11.637a2.91 2.91 0 0 1-2.91 2.91H3.38a2.91 2.91 0 0 1-2.91-2.91v-1.94h15.518v1.94a.97.97 0 0 0 .856.963l.113.007a.97.97 0 0 0 .963-.857l.007-.113V2.379H5.32a.97.97 0 0 0-.963.856l-.007.114v9.698h-1.94V3.349A2.91 2.91 0 0 1 5.32.439h13.577Z"}},mounted:function(){this.setType();var t=this.$route.query;this.search=t.userName},watch:{page:function(t){t&&this.fetchActivities(t)},search:function(){this.debounce(this.fetchActivities,500)()},duration:function(){this.fetchActivities()},$route:function(){this.setType()}},computed:Object(it["a"])(Object(it["a"])({},Object(Et["c"])({adminActivities:"activity/getActivities",userActivities:"activity/getUserActivities"})),{},{pageTitle:function(){var t=this.type;return t?"".concat(t[0].toUpperCase()).concat(t.slice(1)," Activity"):"Activity"},activities:function(){return"admin"===this.type?this.adminActivities:this.userActivities},sorted:function(){var t=this.sortField,e=this.direction,a=this.activities;if(!t)return a;var n=Object(Ue["a"])(a);return n.sort(this[e](t)),n}}),methods:Object(it["a"])(Object(it["a"])({},Object(Et["b"])({getAdminActivities:"activity/getActivities",exportActivities:"activity/exportActivities"})),{},{fetchActivities:function(){var t=arguments,e=this;return Object(Mt["a"])(regeneratorRuntime.mark((function a(){var n,i,s,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.length>0&&void 0!==t[0]?t[0]:1,i=e.type,s=e.search,r=e.duration,e.isLoading=!0,a.prev=3,a.next=6,e.getAdminActivities({page:n,type:i,search:s,duration:r});case 6:if(o=a.sent,o.error){a.next=13;break}e.paginationData.page=Number(o.currentPage),e.paginationData.totalItems=Number(o.total),e.paginationData.totalPages=o.totalPages,a.next=14;break;case 13:throw Error(o.error);case 14:e.isLoading=!1,a.next=20;break;case 17:a.prev=17,a.t0=a["catch"](3),e.$toast.show({message:ka(a.t0).error});case 20:case"end":return a.stop()}}),a,null,[[3,17]])})))()},downloadActivities:function(){var t=this;return Object(Mt["a"])(regeneratorRuntime.mark((function e(){var a,n,i,s,r,o,c,l,u,d,p,m,h,f,g,v,b,y,_;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.type,n=t.startDate,i=t.endDate,s=t.fileType,r=t.title,o=Object(fn["a"])(new Date(n)),c=Object(fn["a"])(new Date(i)),t.isDownLoading=!0,e.prev=4,e.next=7,t.exportActivities({type:a,startdate:o,enddate:c,fileType:"csv",title:r});case 7:if(l=e.sent,l.includes("error")){e.next=33;break}if("pdf"!==s){e.next=28;break}return u=l.replaceAll('"',"").split("\n").map((function(t){return t.split(",")})),d=u.shift(),u.forEach((function(t,e){var a=t.length-1,n=Ke.formatDate(t[a]);u[e].splice(a,1,n)})),p={tableHeaders:d,tableBodyData:u,title:r},m=xn(p),h=new Blob([m],{type:"text/plain"}),f=new File([h],{type:"text/plain"}),g=new FormData,g.append("file",f),e.next=21,jn({data:g,type:"pdf"});case 21:v=e.sent,b=new Blob([v.data],{type:"application/pdf"}),y="".concat(r,".pdf"),Object(gn["saveAs"])(b,y),t.$toast.show({message:"Exported ".concat(y)}),e.next=31;break;case 28:_=new Blob([l],{type:"text/plain;charset=UTF-8"}),Object(gn["saveAs"])(_,"".concat(r,".csv")),t.$toast.show({message:"Exported ".concat(r,".csv")});case 31:e.next=34;break;case 33:l.includes("error")&&t.$toast.show({message:"No data for date range"});case 34:t.reset(),e.next=40;break;case 37:e.prev=37,e.t0=e["catch"](4),t.$toast.show({message:ka(e.t0).error});case 40:case"end":return e.stop()}}),e,null,[[4,37]])})))()},reset:function(){this.isDownLoading=!1,this.startDate="",this.endDate="",this.fileType="",this.title="",this.modalOpen=!1},setSortField:function(t){t===this.sortField&&(this.direction="asc"===this.direction?"desc":"asc"),this.sortField=t},asc:function(t){return function(e,a){return e[t].toString().localeCompare(a[t].toString())}},desc:function(t){return function(e,a){return a[t].toString().localeCompare(e[t].toString())}},setType:function(){var t=this.$route.params.type;this.type="admin"===t?"admin":"user",this.$route.query.userName||this.fetchActivities()},nextPage:function(){this.page+=1},prevPage:function(){this.page-=1},firstPage:function(){this.page=1},lastPage:function(){this.page=this.paginationData.totalPages}})},In=Sn,An=In,Pn=(a("0408"),Object(d["a"])(An,mn,hn,!1,null,"4baa346c",null)),Tn=Pn.exports,Ln=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("k-dashboard-layout",[a("div",{staticClass:"settings"},[a("aside",{staticClass:"settings__sidebar"},[a("h1",[t._v("Settings")]),a("ul",{staticClass:"settings__menu"},[a("li",{class:["settings__menu__item",{active:"profile"===t.activeTab}],on:{click:function(e){t.activeTab="profile"}}},[t._v(" Profile ")]),a("li",{class:["settings__menu__item",{active:"roles"===t.activeTab}],on:{click:function(e){t.activeTab="roles"}}},[t._v(" Roles & Permissions ")]),a("li",{class:["settings__menu__item",{active:"manage"===t.activeTab}],on:{click:function(e){t.activeTab="manage"}}},[t._v(" Manage Admins ")])])]),"profile"===t.activeTab?a("k-profile"):t._e(),"roles"===t.activeTab?a("k-roles"):t._e(),"manage"===t.activeTab?a("k-manage"):t._e()],1)])},En=[],Rn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"settings__content"},[a("h1",[t._v("Profile")]),t._m(0),a("div",{staticClass:"settings__section"},[a("h3",[t._v("Account Information")]),a("div",{staticClass:"form__grid"},[a("k-input",{attrs:{label:"Surname",placeholder:"Surname",disabled:""},model:{value:t.profile.lastName,callback:function(e){t.$set(t.profile,"lastName",e)},expression:"profile.lastName"}}),a("k-input",{attrs:{label:"First name",placeholder:"First Name",disabled:""},model:{value:t.profile.firstName,callback:function(e){t.$set(t.profile,"firstName",e)},expression:"profile.firstName"}})],1),a("k-input",{attrs:{label:"Email address",type:"email",placeholder:"Email Address",disabled:""},model:{value:t.profile.email,callback:function(e){t.$set(t.profile,"email",e)},expression:"profile.email"}})],1),a("div",{staticClass:"settings__section settings__section--with-line"},[a("h3",[t._v("Change Password")]),a("div",{staticClass:"profile"},[t._m(1),a("k-button",{attrs:{loading:t.isLoading,variant:"tertiary"},on:{click:t.sendNewPassword}},[t._v("Set new password")])],1)]),a("div",{staticClass:"settings__section settings__section--with-line"},[a("h1",[t._v("Log Out")]),a("div",{staticClass:"profile"},[t._m(2),a("k-button",{attrs:{variant:"tertiary",negative:""},on:{click:t.logout}},[t._v("Log out")])],1)])])},Mn=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"settings__section"},[n("h3",[t._v("Profile picture")]),n("div",{staticClass:"profile"},[n("div",{staticClass:"profile__media"},[n("img",{attrs:{src:a("1195"),alt:"Profile picture"}})])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"settings__text"},[a("p",[t._v("We will send you a new secure password to your registered email address.")]),a("p",{staticClass:"text-light"},[t._v("You cannot set a custom password for security purposes.")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"settings__text"},[a("p",[t._v("If you log out now, your session will be terminated.")]),a("p",{staticClass:"text-light"},[t._v(" You will need to provide your login details to access your dashboard again. ")])])}],$n={name:"ProfileSettings",components:{KInput:Pt,KButton:m},data:function(){return{isLoading:!1}},mixins:[Ca],computed:Object(it["a"])({},Object(Et["c"])({profile:"auth/getProfile",user:"auth/getUser",admins:"admin/getAll"})),methods:Object(it["a"])(Object(it["a"])(Object(it["a"])({},Object(Et["d"])({reset:"auth/RESET"})),Object(Et["b"])({resetPassword:"auth/resetPassword",fetchAdmin:"admin/fetchAll",fetchRoles:"roles/fetchAll",fetchRolesDetails:"roles/fetchDetails"})),{},{sendNewPassword:function(){var t=this;return Object(Mt["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,a=t.user.token,e.prev=2,e.next=5,t.resetPassword({token:a});case 5:n=e.sent,t.$toast.show({message:n}),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),t.$toast.show({message:e.t0.message});case 12:return e.prev=12,t.isLoading=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})))()},logout:function(){this.reset(),this.$router.push({name:"Login"})}})},Nn=$n,Fn=(a("0a10"),Object(d["a"])(Nn,Rn,Mn,!1,null,"91bfa570",null)),Vn=Fn.exports,Un=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"settings__content"},[a("h1",[t._v("Roles & Permissions")]),a("div",{staticClass:"settings__section settings__section--with-line"},[t._l(t.roles,(function(e){return a("editable-list-item",{key:e.id,attrs:{item:e,"no-delete":e.noDelete,"no-edit":e.noEdit,"show-controls":t.editing,styling:{marginBottom:"3.2rem"}},on:{delete:function(a){return t.deleteItem(e.id)},edit:t.editItem}},[a("div",{staticClass:"role"},[a("h3",{staticClass:"role__title"},[t._v(" "+t._s(t.snakeToTitle(e.name))+" ")]),a("div",{staticClass:"role__description"},[t._v(t._s(e.description))])])])})),a("div",{staticClass:"controls"},[[t.editing?t._e():a("k-button",{attrs:{variant:"tertiary"},on:{click:t.download}},[t._v("Download CSV")]),t.editing?t._e():a("k-button",{attrs:{variant:"secondary"},on:{click:function(e){t.editing=!0}}},[t._v("Edit Roles ")])],[t.editing?a("k-button",{attrs:{variant:"link"},on:{click:t.addItem}},[t._v("Add New Role")]):t._e(),t.editing?a("k-button",{attrs:{variant:"tertiary"},on:{click:function(e){t.editing=!1}}},[t._v(" Save Changes ")]):t._e()]],2),a("k-modal",{attrs:{open:t.modalOpen},on:{close:function(e){t.modalOpen=!1}}},[a("role-form",{attrs:{edit:t.role},on:{close:function(e){t.modalOpen=!1}}})],1)],2)])},Bn=[];a("3ca3"),a("ddb0");function Yn(t){var e=t.user;return Bt.post("auth/admin/login",e)}function Kn(t){var e=t.user;return Bt.post("auth/admin/forgot-password",e)}function qn(t){var e=t.token;return Bt.post("auth/admin/reset-password",{},{headers:{Authorization:"".concat(e)}})}function zn(t){var e=t.id,a=t.token;return Bt.get("/admin/".concat(e),{headers:{Authorization:"Bearer ".concat(a)}})}var Hn=a("15fd"),Gn=["id"];function Wn(t){var e=t.page,a=void 0===e?1:e,n=t.limit,i=void 0===n?10:n;return Bt.get("/admin?page=".concat(a,"&limit=").concat(i))}function Zn(t){var e=t.admin;return Bt.post("/admin",e)}function Jn(t){var e=t.admin,a=e.id,n=Object(Hn["a"])(e,Gn);return Bt.put("/admin/".concat(a),n)}function Qn(t){var e=t.id;return Bt.delete("/admin/".concat(e))}function Xn(){return Bt.get("/admin/export")}function ti(){return Bt.get("/role")}function ei(t){var e=t.page,a=void 0===e?1:e;return Bt.get("/role?page=".concat(a))}function ai(t){var e=t.role;return Bt.post("/role",e)}function ni(t){var e=t.id,a=t.role;return Bt.put("/role/".concat(e),a)}function ii(t){var e=t.id;return Bt.delete("/role/".concat(e))}function si(){return Bt.get("/role/export")}function ri(t){var e=t.page,a=void 0===e?1:e,n=t.type,i=void 0===n?null:n,s=t.search,r=void 0===s?"":s,o=t.duration,c=void 0===o?"":o,l="activity-log?type=".concat(i,"&page=").concat(a,"&limit=20");if(r)l="activity-log?type=".concat(i,"&page=").concat(a,"&limit=20&search=").concat(r);else if(c)return Bt.get("activity-log?type=".concat(i,"&page=").concat(a,"&limit=20&duration=").concat(c));return Bt.get(l)}function oi(t){var e=t.startdate,a=t.enddate,n=t.fileType,i=t.type,s=t.title;return Bt.get("/activity-log/export?start_date=".concat(e,"&end_date=").concat(a,"&file_type=").concat(n,"&title=").concat(s,"&type=").concat(i))}a("b0c0"),a("9861");function ci(t){var e=t.page,a=void 0===e?1:e,n=t.search,i=void 0===n?"":n,s=t.name,r=t.category,o="/indicator?search=".concat(i,"&page=").concat(a,"&limit=20");return s&&r&&(o="/indicator?category=".concat(r,"&name=").concat(s,"&page=").concat(a,"&limit=20")),Bt.get(o)}function li(t){var e=t.indicator;return Bt.post("/indicator",e)}function ui(t){return Bt.delete("/indicator",{data:Object(it["a"])({},t)})}function di(t){var e=t.id,a=t.indicator;return Bt.put("/indicator/".concat(e),a)}function pi(){return Bt.get("/indicator")}function mi(t){var e=t.name;return Bt.get("/indicator?search=".concat(e))}var hi=function(t){var e=t.category;return Bt.get("/indicator/filter?category=".concat(e))},fi=function(t){var e=t.name,a=t.category,n=new URLSearchParams;return n.append("name",e),n.append("category",a),Bt.get("/indicator?".concat(n.toString()))},gi=a("3835");a("4fad");function vi(t){var e={};return Object.entries(t).forEach((function(t){var a=Object(gi["a"])(t,2),n=a[0],i=a[1];i&&(e[n]=i)})),e}var bi=["page"];function yi(t){return Bt.post("dataset",t)}function _i(t){var e=t.page,a=void 0===e?1:e,n=Object(Hn["a"])(t,bi),i=Object(it["a"])({page:a},n);return Object.keys(i).forEach((function(t){return""===i[t]&&delete i[t]})),Bt.get("dataset",{params:i})}function wi(t){var e=t.id,a=t.payload,n=vi(a);return Bt.put("dataset/".concat(e),n)}function ki(t){var e=t.id;return Bt.get("dataset/".concat(e))}function Ci(t){return Bt.put("dataset",t)}function Di(t){var e=t.page,a=void 0===e?1:e,n=t.nameOrEmail,i=new URLSearchParams;return n&&i.append("nameOrEmail",n),Bt.get("/customer?page=".concat(a,"&limit=20&").concat(i.toString()))}function xi(t){return Bt.patch("/customer",t)}function Oi(t){var e=t.id,a=t.duration,n=void 0===a?"":a,i=t.page;return Bt.get("/customer/?id=".concat(e,"&duration=").concat(n,"&page=").concat(i,"&limit=20"))}function ji(t){var e=t.title,a=t.fileType,n=t.startDate,i=t.endDate,s=t.id,r=new URLSearchParams;return s&&r.append("id",s),Bt.get("/customer/export?startDate=".concat(n,"&endDate=").concat(i,"&file_type=").concat(a,"&title=").concat(e,"&").concat(r.toString()))}var Si=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:["item",{"showing-controls":t.showControls}],style:t.styling},[a("div",{staticClass:"item__controls"},[a("div",{staticClass:"delete"},[t.noDelete?t._e():a("img",{attrs:{src:t.deleteIcon,alt:""},on:{click:t.deleteItem}})]),a("div",{staticClass:"edit"},[t.noEdit?t._e():a("img",{attrs:{src:t.editIcon,alt:""},on:{click:t.editItem}})])]),a("div",{staticClass:"item__content"},[t._t("default")],2)])},Ii=[],Ai=a("5dec"),Pi=a.n(Ai),Ti=a("3607"),Li=a.n(Ti),Ei={name:"EditableListItem",props:["noDelete","noEdit","showControls","styling","item"],data:function(){return{deleteIcon:Pi.a,editIcon:Li.a}},methods:{editItem:function(){this.$emit("edit",this.item)},deleteItem:function(){this.$emit("delete",this.item)}}},Ri=Ei,Mi=(a("5176"),Object(d["a"])(Ri,Si,Ii,!1,null,"02be3736",null)),$i=Mi.exports,Ni=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("k-card",{attrs:{heading:t.edit?"Edit Role":"Add Role",variant:"in-modal"}},[a("form",{ref:"form",staticClass:"form__items",on:{submit:function(e){return e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[a("k-input",{attrs:{label:"Title",name:"title"},model:{value:t.formValue.name,callback:function(e){t.$set(t.formValue,"name",e)},expression:"formValue.name"}}),a("k-input",{attrs:{label:"Description",name:"description"},model:{value:t.formValue.description,callback:function(e){t.$set(t.formValue,"description",e)},expression:"formValue.description"}}),a("div",{staticClass:"permissions"},t._l(Object.entries(t.permissionLabels),(function(e){var n=e[0],i=e[1];return a("div",{key:n,staticClass:"permissions__group"},[a("p",{staticClass:"permissions__group__name"},[t._v(" "+t._s("dashboard"===n?"country dashboard":n)+" ")]),t._l(i,(function(e){var i=e.value,s=e.label;return a("div",{key:s,staticClass:"check"},[a("k-checkbox",{attrs:{label:s,name:s.replaceAll(" ","-"),value:i},model:{value:t.permissions[n],callback:function(e){t.$set(t.permissions,n,e)},expression:"permissions[category]"}})],1)}))],2)})),0),a("div",{staticClass:"controls"},[a("k-button",{attrs:{type:"button",variant:"link"},on:{click:function(e){return t.$emit("close")}}},[t._v("Cancel")]),a("k-button",{attrs:{loading:t.isLoading,variant:"secondary",submit:""}},[t._v(" Finish ")])],1)],1)])},Fi=[],Vi=(a("a4d3"),a("e01a"),{name:"RoleForm",components:{KButton:m,KInput:Pt,KCard:F,KCheckbox:_},data:function(){return{isLoading:!1,id:null,formValue:{},oldTitle:"",permissions:{dataset:[],indicator:[],role:[],admin:[],activity:[],dashboard:[]}}},methods:Object(it["a"])(Object(it["a"])(Object(it["a"])({},Kt),Object(Et["b"])({addRole:"roles/addRole",editRole:"roles/editRole"})),{},{dataFromProps:function(t){var e=this,a=t.id,n=t.name,i=t.description,s=t.permissions;this.formValue={name:n,description:i};var r=JSON.parse(s);Object.keys(this.permissions).forEach((function(t){e.permissions[t]=r[t]||[]})),this.id=a},permissionToLabel:function(t,e){var a=function(t){return"admin"===t?"administrators":"dataset"===t?"data":t},n="dataset"===e&&"delete"===t,i=n?"Hard ".concat(this.snakeCase(t)," ").concat(a(e)):"".concat(this.capitalize(this.snakeCase(t))," ").concat(a(e));return{value:t,label:i}},handleSubmit:function(){var t=this;return Object(Mt["a"])(regeneratorRuntime.mark((function e(){var a,n,i,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.isLoading=!0,e.prev=1,a=t.formValue,n=t.permissions,i=t.id,!t.edit){e.next=13;break}return e.next=6,t.editRole({role:Object(it["a"])(Object(it["a"])({},a),{},{permissions:n}),id:i});case 6:if(s=e.sent,!s.error){e.next=9;break}throw Error(s.error);case 9:t.$toast.show({message:s}),t.$emit("close"),e.next=20;break;case 13:return e.next=15,t.addRole({role:Object(it["a"])(Object(it["a"])({},a),{},{permissions:n})});case 15:if(r=e.sent,!r.error){e.next=18;break}throw Error(r.error);case 18:t.$toast.show({message:r}),t.$emit("close");case 20:e.next=25;break;case 22:e.prev=22,e.t0=e["catch"](1),t.$toast.show({message:e.t0.message});case 25:return e.prev=25,t.isLoading=!1,e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[1,22,25,28]])})))()}}),computed:{permissionLabels:function(){var t=this,e={dataset:["create","update","publish","unpublish","view","soft_delete","delete"],indicator:["create","update","delete","view"],role:["create","update","delete","view"],admin:["create","update","delete","view"],activity:["view_user","view_admin"],dashboard:["create","update","delete","view"]};return Object.entries(e).reduce((function(e,a){var n=Object(gi["a"])(a,2),i=n[0],s=n[1],r=s.map((function(e){return t.permissionToLabel(e,i)}));return Object(it["a"])(Object(it["a"])({},e),{},Object(nt["a"])({},i,r))}),{})}},props:{edit:{type:Object}},mounted:function(){this.edit?(this.oldTitle=this.edit.name,this.dataFromProps(this.edit)):this.formValue={name:"",description:""}}}),Ui=Vi,Bi=(a("9dad"),Object(d["a"])(Ui,Ni,Fi,!1,null,"cda818c0",null)),Yi=Bi.exports,Ki={name:"RolesAndPermissions",components:{KModal:Ne,KButton:m,KCard:F,EditableListItem:$i,RoleForm:Yi},data:function(){return{modalOpen:!1,showControls:!0,editing:!1,role:{}}},computed:Object(it["a"])({},Object(Et["c"])({roles:"roles/getAllDetails"})),created:function(){var t=this;return Object(Mt["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([t.fetchRoles({}),t.fetchRolesDetails({page:1})]);case 3:a=e.sent,a.forEach((function(t){if("error"in t)throw Error(t.error)})),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),t.$toast.show({message:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},methods:Object(it["a"])(Object(it["a"])(Object(it["a"])({},Kt),Object(Et["b"])({deleteRole:"roles/deleteRole",fetchRoles:"roles/fetchAll",fetchRolesDetails:"roles/fetchDetails"})),{},{addItem:function(){this.role=null,this.modalOpen=!0},editItem:function(t){this.role=t,this.modalOpen=!0},download:function(){var t=this;return Object(Mt["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,si();case 3:if(a=e.sent,!a.error){e.next=6;break}throw Error(a.error);case 6:n=new Blob([a.data],{type:"text/plain;charset=UTF-8"}),Object(gn["saveAs"])(n,"Kwerty Roles.csv"),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),t.$toast.show({message:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},deleteItem:function(t){var e=this;return Object(Mt["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.deleteRole({id:t});case 3:e.$toast.show({message:"Role deleted successfully"}),a.next=9;break;case 6:a.prev=6,a.t0=a["catch"](0),e.$toast.show({message:a.t0.message});case 9:case"end":return a.stop()}}),a,null,[[0,6]])})))()}})},qi=Ki,zi=qi,Hi=(a("328d"),Object(d["a"])(zi,Un,Bn,!1,null,"2cd3f080",null)),Gi=Hi.exports,Wi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"settings__content"},[a("div",{staticClass:"manage"},[a("h1",[t._v("Manage Admins")]),a("k-pagination",{attrs:{page:t.page,maxItemsOnPage:t.itemsOnPage,totalPages:t.pagination.totalPages,totalItems:t.pagination.total},on:{goToNext:t.nextPage,goToPrev:t.prevPage,goToFirst:t.firstPage,goToLast:t.lastPage}})],1),a("div",{staticClass:"settings__section settings__section--with-line"},[a("k-admins",{attrs:{loading:t.isLoading}})],1)])},Zi=[],Ji=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"admins"},[t.loading?t._l(Array(10).keys(),(function(e){return n("div",{key:e,staticClass:"admin__item"},[n("k-icons",{directives:[{name:"show",rawName:"v-show",value:t.editAdmin,expression:"editAdmin"}],class:["icons"]}),t._m(0,!0),t._m(1,!0)],1)})):t._l(t.admins,(function(e){return n("div",{key:e.email,class:["admin__item"]},[n("k-icons",{directives:[{name:"show",rawName:"v-show",value:t.editAdmin,expression:"editAdmin"}],class:["icons"],on:{delete:function(a){return t.handleDeleteAdmin(e.id)},edit:function(a){return t.handleEditAdmin(e.id)}}}),n("img",{staticClass:"avatar-icon",attrs:{alt:"avatar",src:a("1195")}}),n("div",{staticClass:"admin-text"},[n("p",{staticClass:"name"},[t._v(t._s(t.titleCase(e.firstName+" "+e.lastName)))]),n("p",{staticClass:"role"},[t._v(t._s(t.snakeToTitle(e.roleName)))])])],1)})),n("div",{staticClass:"btn-container"},[n("k-button",{directives:[{name:"show",rawName:"v-show",value:t.editAdmin,expression:"editAdmin"}],staticClass:"add-new-admin-btn",attrs:{variant:"link"},on:{click:function(e){t.showAddAdminmodal=!0}}},[t._v(" Add new admin ")]),t.editAdmin?t._e():n("k-button",{attrs:{variant:"tertiary"},on:{click:t.download}},[t._v("Download CSV ")]),n("k-button",{attrs:{variant:t.editAdmin?"tertiary":"secondary"},on:{click:t.toggleButtonText}},[t._v(" "+t._s(t.button.text)+" ")])],1),n("k-modal",{attrs:{open:t.showEditModal},on:{close:function(e){t.showEditModal=!1}}},[n("k-edit-admin",{attrs:{currentadmin:t.currentAdmin},on:{close:function(e){t.showEditModal=!1}}})],1),n("k-modal",{attrs:{open:t.showAddAdminmodal},on:{close:function(e){t.showEditModal=!1}}},[n("k-add-admin",{on:{close:function(e){t.showAddAdminmodal=!1}}})],1)],2)},Qi=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"avatar-icon"},[a("div",{staticClass:"suspense"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"admin-text"},[a("div",{staticClass:"name"},[a("div",{staticClass:"suspense fixed-height w-70"})]),a("div",{staticClass:"role"},[a("div",{staticClass:"suspense fixed-height w-50"})])])}],Xi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("k-card",{attrs:{heading:"Edit Admin",variant:"in-modal"}},[a("form",{staticClass:"form__items",on:{submit:function(e){return e.preventDefault(),t.finish.apply(null,arguments)}}},[a("k-input",{attrs:{label:"Surname"},model:{value:t.admin.lastName,callback:function(e){t.$set(t.admin,"lastName",e)},expression:"admin.lastName"}}),a("k-input",{attrs:{label:"First Name"},model:{value:t.admin.firstName,callback:function(e){t.$set(t.admin,"firstName",e)},expression:"admin.firstName"}}),a("k-input",{attrs:{label:"Email Address",type:"email"},model:{value:t.admin.email,callback:function(e){t.$set(t.admin,"email",e)},expression:"admin.email"}}),a("k-input",{attrs:{disabled:"",label:"Password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("k-input",{attrs:{optionsDisplay:t.rolesDisplay,label:"Set Role",type:"select"},model:{value:t.admin.roleId,callback:function(e){t.$set(t.admin,"roleId",e)},expression:"admin.roleId"}}),a("div",{staticClass:"btn-wrapper"},[a("k-button",{attrs:{variant:"link"},on:{click:function(e){return t.$emit("close")}}},[t._v("Cancel")]),a("k-button",{attrs:{variant:"secondary",loading:t.sending,submit:""}},[t._v("Finish")])],1)],1)])},ts=[];function es(t){var e={};return t.forEach((function(t){e[t.id]=Kt.snakeToTitle(t.name)})),e}var as={name:"KEditAdmin",components:{KCard:F,KInput:Pt,KButton:m},props:{currentadmin:{type:Object,default:function(){return{}}}},data:function(){return{admin:{},password:"**********",sending:!1}},computed:Object(it["a"])(Object(it["a"])({},Object(Et["c"])({roles:"roles/getAll",user:"auth/getUser",adminPagination:"admin/getPagination"})),{},{rolesDisplay:function(){return Array.isArray(this.roles)?es(this.roles):{}}}),methods:Object(it["a"])(Object(it["a"])(Object(it["a"])({},Kt),Object(Et["b"])({updateAdmin:"admin/editOtherAdmin",fetchAdmin:"admin/fetchAll"})),{},{finish:function(){var t=this;return Object(Mt["a"])(regeneratorRuntime.mark((function e(){var a,n,i,s,r,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.admin,n=a.id,i=a.firstName,s=a.lastName,r=a.email,o=a.roleId,t.sending=!0,e.prev=2,e.next=5,t.updateAdmin({admin:{id:n,firstName:i,lastName:s,email:r,roleId:o}});case 5:if(c=e.sent,!c.error){e.next=8;break}throw Error(c.error);case 8:t.$toast.show({message:c}),t.$emit("close"),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](2),t.$toast.show({message:e.t0.message});case 15:return e.prev=15,t.sending=!1,e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))()}}),created:function(){var t=this.currentadmin,e=t.firstName,a=t.lastName,n=t.email;return e&&a&&n&&(this.admin=this.currentadmin),this.admin}},ns=as,is=(a("a48f"),Object(d["a"])(ns,Xi,ts,!1,null,"883b0786",null)),ss=is.exports,rs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("k-card",{attrs:{variant:"in-modal",heading:"Add new Admin"}},[a("form",{staticClass:"form__items",on:{submit:function(e){return e.preventDefault(),t.handleAddAdmin.apply(null,arguments)}}},[a("k-input",{attrs:{label:"Surname"},model:{value:t.admin.lastName,callback:function(e){t.$set(t.admin,"lastName",e)},expression:"admin.lastName"}}),a("k-input",{attrs:{label:"First Name"},model:{value:t.admin.firstName,callback:function(e){t.$set(t.admin,"firstName",e)},expression:"admin.firstName"}}),a("k-input",{attrs:{label:"Email Address",type:"email"},model:{value:t.admin.email,callback:function(e){t.$set(t.admin,"email",e)},expression:"admin.email"}}),a("k-input",{attrs:{label:"Password",type:"password",disabled:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("k-input",{attrs:{optionsDisplay:t.rolesDisplay,label:"Set Role",type:"select"},model:{value:t.admin.roleId,callback:function(e){t.$set(t.admin,"roleId",e)},expression:"admin.roleId"}}),a("div",{staticClass:"btn-wrapper"},[a("k-button",{attrs:{variant:"link"},on:{click:function(e){return t.$emit("close")}}},[t._v("Cancel")]),a("k-button",{attrs:{variant:"secondary",loading:t.sending,submit:""}},[t._v("Finish")])],1)],1)])},os=[],cs={name:"KAddAdmin",components:{KCard:F,KInput:Pt,KButton:m},data:function(){return{admin:{},password:"**********",sending:!1}},computed:Object(it["a"])(Object(it["a"])({},Object(Et["c"])({roles:"roles/getAll",user:"auth/getUser"})),{},{rolesDisplay:function(){return Array.isArray(this.roles)?es(this.roles):{}}}),methods:Object(it["a"])(Object(it["a"])({},Object(Et["b"])({addAdmin:"admin/addAdmin"})),{},{handleAddAdmin:function(){var t=this;return Object(Mt["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.admin,t.sending=!0,e.prev=2,e.next=5,t.addAdmin({admin:a});case 5:if(n=e.sent,!n.error){e.next=8;break}throw Error(n.error);case 8:t.$toast.show({message:n}),t.$emit("close"),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](2),t.$toast.show({message:e.t0.message});case 15:return e.prev=15,t.sending=!1,e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))()}})},ls=cs,us=(a("448f"),Object(d["a"])(ls,rs,os,!1,null,"06383686",null)),ds=us.exports,ps={name:"KAdmins",components:{KIcons:Pe,KButton:m,KEditAdmin:ss,KModal:Ne,KAddAdmin:ds},props:{loading:{type:Boolean}},data:function(){return{editAdmin:!1,showEditModal:!1,showAddAdminmodal:!1,currentAdmin:{},button:{text:"Edit Admin"},show:!1}},computed:Object(it["a"])({},Object(Et["c"])({admins:"admin/getAll",roles:"roles/getAll",user:"auth/getUser"})),methods:Object(it["a"])(Object(it["a"])(Object(it["a"])({},Kt),Object(Et["b"])({deleteAdmin:"admin/deleteOtherAdmin"})),{},{toggleButtonText:function(){this.editAdmin=!this.editAdmin,this.button.text=this.editAdmin?"Save Changes":"Edit Admin"},download:function(){var t=this;return Object(Mt["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xn();case 3:if(a=e.sent,!a.error){e.next=6;break}throw Error(a.error);case 6:n=new Blob([a.data],{type:"text/plain;charset=UTF-8"}),Object(gn["saveAs"])(n,"Kwerty Administrators.csv"),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),t.$toast.show({message:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},handleEditAdmin:function(t){try{this.showEditModal=!0;var e=this.admins.find((function(e){return e.id===t})),a=this.roles.find((function(t){return t.name===e.roleName})).id;this.currentAdmin=Object(it["a"])(Object(it["a"])({},e),{},{roleId:a})}catch(n){this.$toast.show({message:n.message})}return this.currentAdmin},handleDeleteAdmin:function(t){var e=this;return Object(Mt["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.deleteAdmin({id:t});case 3:if(n=a.sent,!n.error){a.next=6;break}throw Error(n.error);case 6:e.$toast.show({message:n}),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](0),e.$toast.show({message:a.t0.message});case 12:case"end":return a.stop()}}),a,null,[[0,9]])})))()}})},ms=ps,hs=(a("17f6"),Object(d["a"])(ms,Ji,Qi,!1,null,"4826666e",null)),fs=hs.exports,gs={name:"ManageAdminsSettings",components:{KAdmins:fs,KPagination:tt},data:function(){return{itemsOnPage:10,modalOpen:!0,isLoading:!1,page:1}},created:function(){var t=this;return Object(Mt["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([t.fetchAdmins({}),t.fetchRoles({})]);case 3:a=e.sent,a.forEach((function(t){if("error"in t)throw Error(t.error)})),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),t.$toast.show({message:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},mounted:function(){this.pagination&&(this.page=this.pagination.currentPage)},computed:Object(it["a"])({},Object(Et["c"])({pagination:"admin/getPagination",user:"auth/getUser"})),methods:Object(it["a"])(Object(it["a"])({},Object(Et["b"])({fetchAdmins:"admin/fetchAll",fetchRoles:"roles/fetchAll"})),{},{prevPage:function(){var t=this.page;this.page=1!==t?t-1:t},nextPage:function(){var t=this.page,e=this.pagination.totalPages;this.page=t!==e?t+1:t},firstPage:function(){this.page=1},lastPage:function(){this.page=this.pagination.totalPages}}),watch:{page:function(t){var e=this;return Object(Mt["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.isLoading=!0,a.prev=1,a.next=4,e.fetchAdmins({page:t});case 4:a.next=9;break;case 6:a.prev=6,a.t0=a["catch"](1),e.$toast.show({message:a.t0.message});case 9:return a.prev=9,e.isLoading=!1,a.finish(9);case 12:case"end":return a.stop()}}),a,null,[[1,6,9,12]])})))()}}},vs=gs,bs=(a("1565"),Object(d["a"])(vs,Wi,Zi,!1,null,"b5e3e908",null)),ys=bs.exports,_s={name:"Settings",components:{KDashboardLayout:Wt,KProfile:Vn,KRoles:Gi,KManage:ys},data:function(){return{activeTab:"profile"}}},ws=_s,ks=ws,Cs=(a("0f2b"),Object(d["a"])(ks,Ln,En,!1,null,"0b4efcc0",null)),Ds=Cs.exports,xs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("k-dashboard-layout",[a("header",{class:["indicators__header",[0!==t.selected?"selected__mode":""]]},[a("h1",[t._v(" Indicators "),0!==t.selected?a("span",[t._v(t._s(t.selected))]):t._e()]),0===t.selected?a("div",{class:["indicators__header--content"]},[a("k-input",{attrs:{label:"Search by name or category",reactive:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("k-input",{attrs:{type:"select",variant:"dropdown",label:"Filter by Category",optionsDisplay:t.categories,searchInside:"categories"},on:{search:function(e){return t.debounce(t.fetchIndicatorsWith,500)({name:e})}},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}}),a("k-input",{attrs:{type:"select",variant:"dropdown",label:"Filter by Frequency",optionsDisplay:t.optionsFrequency,disabled:!(!t.search&&""===t.category)},model:{value:t.frequency,callback:function(e){t.frequency=e},expression:"frequency"}}),a("k-button",{on:{click:function(e){t.showModal=!0,t.getYears()}}},[t._v("Add new Indicator")])],1):t._e(),a("k-button",{directives:[{name:"show",rawName:"v-show",value:0!==t.selected,expression:"selected !== 0"}],staticClass:"delete-btn",attrs:{variant:"secondary",negative:"negative"},on:{click:function(e){t.showDeleteModal=!0}}},[t._v("Delete ")])],1),t.showDeleteModal?a("k-modal",{attrs:{open:t.showDeleteModal}},[a("k-card",{attrs:{heading:"Are you sure you want to delete this indicator?",variant:"in-modal",longer:"","wrap-heading":""}},[a("p",[t._v(" If you delete this indicator, all data stored underneath this indicator will be "),a("br"),t._v(" permanently deleted. ")]),a("p",{staticClass:"delete-text"},[t._v(" Type "),a("span",[t._v(" "+t._s(t.requiredMessage))]),t._v(" to confirm this action. ")]),a("k-input",{attrs:{label:"Your Input",reactive:!0},model:{value:t.modelDeleteText,callback:function(e){t.modelDeleteText=e},expression:"modelDeleteText"}}),a("div",{staticClass:"btn-wrapper"},[a("k-button",{attrs:{variant:"link"},on:{click:function(e){t.showDeleteModal=!1}}},[t._v("Cancel")]),a("k-button",{attrs:{disabled:!t.isSame,negative:"negative",loading:t.isLoading},on:{click:t.removeIndicator}},[t._v("Delete")])],1)],1)],1):t._e(),a("div",{staticClass:"table__container"},[a("k-table",{attrs:{fields:t.tableFields,"fields-display":t.tableFieldsDisplay,datalist:t.indicators,loading:t.isLoading,selectAll:"",indicatorsTable:""},on:{clickAction:t.action,selectAll:function(e){return t.selectedRows=e?t.indicators.map((function(t){return t.id})):[]}},model:{value:t.selectedRows,callback:function(e){t.selectedRows=e},expression:"selectedRows"}}),t.editIndicatorModal?a("k-modal",{attrs:{open:t.editIndicatorModal},on:{close:t.resetForm}},[a("k-card",{attrs:{heading:"Edit Indicator",variant:"in-modal"}},[a("div",{staticClass:"form__items"},[a("k-input",{attrs:{label:"Name of Indicator"},model:{value:t.indicator.name,callback:function(e){t.$set(t.indicator,"name",e)},expression:"indicator.name"}}),a("k-input",{attrs:{label:"Category",type:"select",variant:"dropdown",optionsDisplay:t.optionsCategories},model:{value:t.indicator.category,callback:function(e){t.$set(t.indicator,"category",e)},expression:"indicator.category"}}),a("k-input",{attrs:{label:"Frequency",type:"select",variant:"dropdown",optionsDisplay:t.optionsFrequency},model:{value:t.indicator.frequency,callback:function(e){t.$set(t.indicator,"frequency",e)},expression:"indicator.frequency"}}),a("k-input-tag",{model:{value:t.tags,callback:function(e){t.tags=e},expression:"tags"}},[a("p",[t._v("Tags")])]),a("div",{staticClass:"btn-wrapper"},[a("k-button",{attrs:{variant:"link"},on:{click:t.resetForm}},[t._v("Cancel")]),a("k-button",{attrs:{loading:t.isEditing,submit:""},on:{click:t.editIndicator}},[t._v("Save & Continue ")])],1)],1)])],1):t._e(),t.emptyState?a("div",{staticClass:"no-activity text-center"},[a("div",{staticClass:"icon"},[a("svg",{attrs:{width:"22",height:"20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:t.svgPath,fill:"#666"}})])]),a("p",[t._v("There are currently no indicators")])]):t._e(),t.showModal?a("k-modal",{attrs:{open:t.showModal},on:{close:t.resetNewIndicatorForm}},[a("k-card",{attrs:{heading:"Add New Indicator",variant:"in-modal"}},[a("div",{staticClass:"form__items"},[a("k-input",{attrs:{label:"Name of Indicator"},model:{value:t.newIndicator.name,callback:function(e){t.$set(t.newIndicator,"name",e)},expression:"newIndicator.name"}}),a("k-input",{attrs:{label:"Category",type:"select",variant:"dropdown",optionsDisplay:t.optionsCategories},model:{value:t.newIndicator.category,callback:function(e){t.$set(t.newIndicator,"category",e)},expression:"newIndicator.category"}}),a("k-input",{attrs:{label:"Frequency",type:"select",variant:"dropdown",optionsDisplay:t.optionsFrequency},model:{value:t.newIndicator.frequency,callback:function(e){t.$set(t.newIndicator,"frequency",e)},expression:"newIndicator.frequency"}}),a("k-input",{attrs:{label:"Country",type:"select",optionsDisplay:t.countries,searchInside:"Countries"},model:{value:t.newIndicator.country,callback:function(e){t.$set(t.newIndicator,"country",e)},expression:"newIndicator.country"}}),a("k-input",{attrs:{label:"Start Date",name:"start-date",type:"select",optionsDisplay:t.dateRange,searchInside:"StartDate"},model:{value:t.newIndicator.startYear,callback:function(e){t.$set(t.newIndicator,"startYear",e)},expression:"newIndicator.startYear"}}),a("k-input",{attrs:{label:"End Date",name:"end-date",type:"select",optionsDisplay:t.dateRange,searchInside:"EndDate"},model:{value:t.newIndicator.endYear,callback:function(e){t.$set(t.newIndicator,"endYear",e)},expression:"newIndicator.endYear"}}),a("k-input-tag",{model:{value:t.tags,callback:function(e){t.tags=e},expression:"tags"}}),a("div",{staticClass:"btn-wrapper"},[a("k-button",{attrs:{variant:"link"},on:{click:t.resetNewIndicatorForm}},[t._v("Cancel")]),a("k-button",{attrs:{loading:t.isCreating,submit:""},on:{click:t.createIndicator}},[t._v("Save & Continue ")])],1)],1)])],1):t._e(),a("k-pagination",{attrs:{forTable:!0,page:t.pagination.page,maxItemsOnPage:20,totalItems:t.pagination.totalItems,totalPages:t.pagination.totalPages,variant:"many"},on:{goToNext:t.nextPage,goToPrev:t.prevPage,goToFirst:t.firstPage,goToLast:t.lastPage}})],1)],1)},Os=[],js={created:function(){this.getInitialIndicators()},watch:{category:function(t){this.fetchIndicatorsWith({name:"",category:t})}},computed:Object(it["a"])(Object(it["a"])({},Object(Et["c"])({getIndicatorList:"indicators/asOptions",categories:"indicators/categoryOptions"})),{},{indicatorOptions:function(){return this.getIndicatorList(this.category||"")}}),methods:Object(it["a"])({},Object(Et["b"])({getInitialIndicators:"indicators/getInitialIndicators",fetchIndicatorsWith:"indicators/fetchIndicatorsWith"}))},Ss=a("6565"),Is=Ss,As={"":"All Countries"};Is.forEach((function(t){As[t.name.toLowerCase()]=t.name}));var Ps=As,Ts={name:"Indicators",components:{KDashboardLayout:Wt,KInput:Pt,KButton:m,KPagination:tt,KTable:ea,KModal:Ne,KCard:F,KInputTag:oa},mixins:[js],data:function(){return{isLoading:!1,isCreating:!1,showModal:!1,showDeleteModal:!1,editIndicatorModal:!1,isEditing:!1,empty:!1,countries:Ps,dateRange:{},tags:[],newIndicator:{},indicator:{},search:"",selectedRows:[],itemsOnPage:20,page:1,pagination:{page:1,totalItems:0,totalPages:1},category:"",modalCategories:"Economy",modalFrequency:"Yearly",frequency:"",optionsCategories:{"":"All Categories",Agriculture:"Agriculture",Economy:"Economy",Finance:"Finance",Health:"Health",Monetary:"Monetary",Population:"Population",Tax:"Tax",Trade:"Trade"},optionsFrequency:{"":"All Frequency",quarterly:"Quarterly",monthly:"Monthly",yearly:"Yearly"},tableFields:["name","category","frequency","countriesAvailable","updatedAt"],tableFieldsDisplay:{name:"Name of Indicator",category:"category",frequency:"frequency",countriesAvailable:"Countries available",updatedAt:"Last Modified"},modelDeleteText:"",svgPath:"M18.896.44a2.91 2.91 0 0 1 2.91 2.909v1.94h-1.94v11.637a2.91 2.91 0 0 1-2.91 2.91H3.38a2.91 2.91 0 0 1-2.91-2.91v-1.94h15.518v1.94a.97.97 0 0 0 .856.963l.113.007a.97.97 0 0 0 .963-.857l.007-.113V2.379H5.32a.97.97 0 0 0-.963.856l-.007.114v9.698h-1.94V3.349A2.91 2.91 0 0 1 5.32.439h13.577Z"}},watch:{page:function(t){t&&this.fetchIndicators(t)},search:function(){var t=this.page;this.debounce(this.fetchIndicators,500)(t)},frequency:function(){var t=this.page;this.fetchIndicators(t)},category:function(){var t=this.page;this.fetchIndicators(t)}},mounted:function(){var t=this.page;this.fetchIndicators(t)},computed:Object(it["a"])(Object(it["a"])({},Object(Et["c"])({indicators:"indicators/getIndicators"})),{},{selected:function(){return this.selectedRows.length},emptyState:function(){return 1===this.pagination.page&&0===this.indicators.length&&!this.isLoading},isSame:function(){return this.modelDeleteText===this.requiredMessage},requiredMessage:function(){var t=this.selected,e=1!==t?"s":"";return"Delete ".concat(t," Indicator").concat(e)}}),methods:Object(it["a"])(Object(it["a"])({},Object(Et["b"])({addIndicator:"indicators/addIndicator",getIndicators:"indicators/getIndicators",deleteIndicator:"indicators/deleteIndicator",updateIndicator:"indicators/updateIndicator"})),{},{createIndicator:function(){var t=this;return Object(Mt["a"])(regeneratorRuntime.mark((function e(){var a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.newIndicator,n=0!==t.tags.length?t.tags.join(","):"",t.isCreating=!0,e.prev=3,""===n){e.next=10;break}return e.next=7,t.addIndicator({indicator:Object(it["a"])(Object(it["a"])({},a),{},{tags:n})});case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,t.addIndicator({indicator:Object(it["a"])({},a)});case 12:e.t0=e.sent;case 13:if(i=e.t0,i.error){e.next=18;break}t.$toast.show({message:i}),e.next=19;break;case 18:throw Error(i.error);case 19:t.isCreating=!1,t.resetNewIndicatorForm(),e.next=27;break;case 23:e.prev=23,e.t1=e["catch"](3),t.$toast.show({message:e.t1.message}),t.isCreating=!1;case 27:case"end":return e.stop()}}),e,null,[[3,23]])})))()},getYears:function(){for(var t=1950,e=(new Date).getFullYear(),a=1,n=[],i=t;i<=e;i+=a)n.push(i);this.dateRange=n.reduce((function(t,e){var a=Object(it["a"])({},t);return a[e]=parseInt(e,10),a}),{})},fetchIndicators:function(){var t=arguments,e=this;return Object(Mt["a"])(regeneratorRuntime.mark((function a(){var n,i,s,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=t.length>0&&void 0!==t[0]?t[0]:1,i=e.search,s=e.frequency,r=e.category,e.isLoading=!0,a.prev=3,!i||!r){a.next=10;break}return a.next=7,e.getIndicators({name:i,category:r,page:n});case 7:a.t0=a.sent,a.next=13;break;case 10:return a.next=12,e.getIndicators({search:i||r||s,page:n});case 12:a.t0=a.sent;case 13:o=a.t0,o.error||(e.pagination.page=Number(o.currentPage),e.pagination.totalPages=o.totalPages,e.pagination.totalItems=Number(o.total)),e.isLoading=!1,a.next=21;break;case 18:a.prev=18,a.t1=a["catch"](3),e.$toast.show({message:a.t1.message});case 21:case"end":return a.stop()}}),a,null,[[3,18]])})))()},removeIndicator:function(){var t=this;return Object(Mt["a"])(regeneratorRuntime.mark((function e(){var a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.selectedRows,n=t.page,t.isLoading=!0,e.prev=2,e.next=5,t.deleteIndicator({ids:Object(Ue["a"])(a)});case 5:if(i=e.sent,!i.error){e.next=8;break}throw Error(i.error);case 8:t.$toast.show({message:i}),t.showDeleteModal=!1,t.selectedRows=[],t.search="",t.fetchIndicators(n),e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](2),t.$toast.show({massage:e.t0.message});case 18:case"end":return e.stop()}}),e,null,[[2,15]])})))()},editIndicator:function(){var t=this;return Object(Mt["a"])(regeneratorRuntime.mark((function e(){var a,n,i,s,r,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.indicator,n=a.id,i=a.name,s=a.category,r=a.frequency,o=0!==t.tags.length?t.tags.join(","):"",t.isEditing=!0,e.prev=3,e.next=6,t.updateIndicator(""!==o?{indicator:{name:i,category:s,frequency:r,tags:o},id:n}:{indicator:{name:i,category:s,frequency:r},id:n});case 6:if(c=e.sent,!c.error){e.next=9;break}throw Error(c.error);case 9:t.$toast.show({message:c}),t.isEditing=!1,t.resetForm(),e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](3),t.$toast.show({message:e.t0.message}),t.isEditing=!1;case 18:case"end":return e.stop()}}),e,null,[[3,14]])})))()},action:function(t){var e=this.indicators.find((function(e){return e.id===t}));this.indicator=Object(it["a"])({},e),this.tags=this.indicator.tags?this.indicator.tags.split(","):[],this.editIndicatorModal=!0},resetNewIndicatorForm:function(){var t=this.page;this.newIndicator.name="",this.newIndicator.category="",this.newIndicator.frequency="",this.newIndicator.country="",this.newIndicator.startYear="",this.newIndicator.endYear="",this.tags=[],this.showModal=!1,this.fetchIndicators(t)},resetForm:function(){var t=this.page;this.indicator.name="",this.indicator.category="",this.indicator.frequency="",this.tags=[],this.showModal=!1,this.editIndicatorModal=!1,this.fetchIndicators(t)},prevPage:function(){this.page-=1},nextPage:function(){this.page+=1},firstPage:function(){this.page=1},lastPage:function(){this.page=this.pagination.totalPages}})},Ls=Ts,Es=Ls,Rs=(a("6f82"),Object(d["a"])(Es,xs,Os,!1,null,"2fbf79eb",null)),Ms=Rs.exports,$s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("k-dashboard-layout",[a("header",{staticClass:"country-dash__header"},[a("div",[a("h1",[t._v("Overview")]),a("p",[t._v("Here’s a brief presentation of activity on the Country Dashboard in the last 7 days.")])]),a("div",{staticClass:"header--right"},[a("k-input",{attrs:{type:"select",label:"Duration",variant:"dropdown",optionsDisplay:t.optionsDisplay},model:{value:t.duration,callback:function(e){t.duration=e},expression:"duration"}}),a("k-button",{on:{click:function(e){return t.$router.push({name:"ManageCountry"})}}},[t._v("Manage the Country Dashboard")])],1)]),a("section",{staticClass:"country-dash__body"},[a("div",{staticClass:"chart__content item"},[a("p",{staticClass:"title"},[t._v("Total Visits (all time)")]),a("div",{staticClass:"chart-total-summary"},[a("p",{staticClass:"total"},[t._v(t._s(t._f("formatSearchVal")(t.totalVisit)))]),a("div",{staticClass:"total-activity-container"},[a("p",{staticClass:"total-activity"},[t._v(" "+t._s(t._f("formatSearchVal")(t.totalRequestSent))+" "),a("span",[t._v("requests sent")])]),a("p",{staticClass:"total-activity"},[t._v(" "+t._s(t._f("formatSearchVal")(t.totalChartClicked))+" "),a("span",[t._v("chart clicks")])])])]),a("p",{staticClass:"description"},[t._v("Total Visits Per Country")]),a("div",{staticClass:"chart__content-wrapper"},[a("div",{staticClass:"chart__item"},[t.isLoadingChart?a("div",{staticClass:"outer-pie round"},[a("div",{staticClass:"radar"}),a("div",{staticClass:"inner-pie round"})]):0===t.totalVisitsPerCountry.length?a("div",{staticClass:"empty-state"},[a("p",[t._v("There has been no visit per country in the last "+t._s(t.duration))])]):a("div",[t.totalVisitsPerCountry.length&&!0===t.showChart&&!t.isLoadingChart?a("doughnut-wrapper",{attrs:{labels:t.chartData.labels,datasets:t.chartData.datasets}}):t._e()],1)]),a("div",{staticClass:"chart__labels"},t._l(t.chartData.labels,(function(e,n){return a("div",{key:e,staticClass:"label"},[a("div",{staticClass:"color",style:{background:t.chartData.datasets[0].backgroundColor[n]}}),a("div",{staticClass:"value"},[t._v(t._s(e))])])})),0)])]),a("div",{staticClass:"countries-not-found item"},[a("p",{staticClass:"title"},[t._v("List of Countries Not Found")]),a("div",{staticClass:"table--header"},[a("p",[t._v("Country")]),a("p",[t._v("No of Searches")])]),!0===t.isLoading?a("div",{staticClass:"loading-state"},[a("ul",t._l(t.countriesNotFound,(function(t,e){return a("li",{key:e},[a("div"),a("div")])})),0)]):0===t.countriesNotFound.length&&t.isLoading?a("div",{staticClass:"not-found-empty-state"},[a("p",[t._v("There has been no search for non existing countries in the last "+t._s(t.duration))])]):a("ul",{staticClass:"countries-not-found--table"},t._l(t.countriesNotFound,(function(e,n){return a("li",{key:n},[a("span",{staticClass:"country"},[a("span",{staticClass:"arrow"},[a("svg",{class:["down"===t.status?"svgUp":"svgDown"],attrs:{width:"8",height:"6",viewBox:"0 0 8 6",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:t.path}})])]),t._v(" "+t._s(e.name))]),a("span",{staticClass:"value"},[t._v(t._s(e.count))])])})),0)]),a("div",{staticClass:"top-users__content item"},[a("p",{staticClass:"title"},[t._v("Top Users")]),a("table",[a("thead",[a("tr",[a("th",[t._v("Customers")]),a("th",[t._v("Email Address")])])]),a("tbody",t._l(t.topUsers,(function(e){return a("tr",{key:e.id},[a("td",[a("div",{staticClass:"profile"},[a("img",{attrs:{src:e.imageUrl||t.avatar,alt:""}})]),a("span",[t._v(" "+t._s(e.fullName)+" ")])]),a("td",[a("span",[t._v(" "+t._s(e.email)+" ")])])])})),0)])])])])},Ns=[],Fs=["id"],Vs=function(t){return Bt.post("/country-dashboard",t)},Us=function(t){var e=t.id,a=Object(Hn["a"])(t,Fs);return Bt.put("/country-dashboard/".concat(e),a)},Bs=function(t){var e=t.page,a=void 0===e?1:e;return Bt.get("/country-dashboard?page=".concat(a))},Ys=function(t){var e=t.search;return Bt.get("/country-dashboard?country=".concat(e))},Ks=function(t){var e=t.id;return Bt.get("/country-dashboard/".concat(e))},qs=function(t){var e=t.id;return Bt.delete("/country-dashboard/".concat(e))},zs=function(t){var e=t.duration;return Bt.get("/country-dashboard/analytics?duration=".concat(e))},Hs={name:"ManageCountry",components:{KDashboardLayout:Wt,KInput:Pt,KButton:m,KPagination:tt,DoughnutWrapper:pe},data:function(){return{totalVisit:[],totalRequestSent:[],totalChartClicked:[],totalVisitsPerCountry:[],countriesNotFound:[],topUsers:[],showChart:!0,isLoadingChart:!1,isLoading:!1,avatar:ze.a,status:"down",path:"M4.00004 3.73242L0.906288 0.638672L0.0225387 1.52242L4.00004 5.49992L7.97754 1.52242L7.09379 0.638672L4.00004 3.73242Z",pagination:{totalItems:20,totalPages:6,page:1},duration:"7 days",optionsDisplay:{"24 hours":"Last 24 hours","7 days":"Last 7 days","30 days":"Last 30 days","3 months":"Last 3 months","6 months":"Last 6 months","12 months":"Last year"}}},mounted:function(){this.fetchCountryAnalytics()},watch:{showChart:function(t){t||setTimeout(this.setShow,0)},duration:function(){this.fetchCountryAnalytics()}},computed:{chartData:function(){var t=this.totalVisitsPerCountry;return{labels:t.map((function(t){return t.name})),datasets:[{data:t.map((function(t){return t.count})),backgroundColor:fa}]}}},methods:{setShow:function(){this.showChart=!0},fetchCountryAnalytics:function(){var t=this;return Object(Mt["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.duration,e.prev=1,e.next=4,zs({duration:a});case 4:if(n=e.sent,n.error){e.next=19;break}t.totalVisit=n.data.data.totalVisit[0].count,t.totalRequestSent=n.data.data.totalRequestSent[0].count,t.totalChartClicked=n.data.data.totalChartClicks[0].count,t.isLoadingChart=!0,t.totalVisitsPerCountry=n.data.data.totalVisitPerCountry,t.isLoadingChart=!1,t.showChart=!1,t.isLoading=!0,t.countriesNotFound=n.data.data.countriesNotFound,t.isLoading=!1,t.topUsers=n.data.data.topUsers,e.next=20;break;case 19:throw Error(n.error);case 20:t.isLoadingChart=!1,e.next=27;break;case 23:e.prev=23,e.t0=e["catch"](1),t.$toast.show({message:ka(e.t0).error}),t.isLoadingChart=!1;case 27:case"end":return e.stop()}}),e,null,[[1,23]])})))()}},filters:{formatSearchVal:function(t){var e=new Intl.NumberFormat("en-GB",{notation:"compact",compactDisplay:"short"}).format(t);return e}}},Gs=Hs,Ws=Gs,Zs=(a("f8b6"),Object(d["a"])(Ws,$s,Ns,!1,null,"041b1ea2",null)),Js=Zs.exports,Qs=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-dashboard-layout",[n("header",{staticClass:"country__header"},[n("div",{staticClass:"country__header--left"},[n("span",{on:{click:function(e){return t.$router.go(-1)}}},[n("img",{attrs:{alt:"",src:a("ccfe")}}),t._v("Go Back")]),n("h1",[t._v("Manage Country Dashboard")])]),n("div",{staticClass:"country__header--right"},[n("k-input",{attrs:{label:"Search for country",reactive:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),n("k-button",{on:{click:function(e){return t.$router.push({name:"AddCountry"})}}},[t._v("Add New Country")])],1)]),n("section",{staticClass:"country__body"},[t.isFetching?t._l([1,2,3],(function(t){return n("div",{key:t,staticClass:"country-card suspense"})})):t._l(t.dashboardList,(function(e){return n("div",{key:e.id,staticClass:"country-card"},[n("div",{staticClass:"country-card--image"},[n("img",{staticClass:"card-image",attrs:{src:e.imageUrl,alt:""}})]),n("div",{staticClass:"country-card--texts"},[n("p",{staticClass:"country-name"},[t._v(t._s(t.titleCase(e.name)))]),n("div",{staticClass:"card-btns"},[n("k-button",{attrs:{size:"small",variant:"link"},on:{click:function(a){return t.$router.push({name:"ViewSingleCountry",params:{id:e.id}})}}},[t._v(" Edit ")]),n("k-button",{attrs:{size:"small",variant:"link"},on:{click:function(a){return t.deleteCountry({id:e.id})}}},[t._v(" Remove ")])],1)])])})),n("k-pagination",{attrs:{forTable:!0,maxItemsOnPage:20,page:t.page,totalItems:t.pagination.totalItems,totalPages:t.pagination.totalPages,variant:"many"},on:{goToFirst:function(e){t.page=1},goToLast:function(e){t.page=t.pagination.totalPages},goToNext:function(e){t.page+=1},goToPrev:function(e){t.page-=1}}})],2)])},Xs=[],tr={name:"ManageCountry",components:{KDashboardLayout:Wt,KInput:Pt,KButton:m,KPagination:tt},data:function(){return{pagination:{totalItems:NaN,totalPages:NaN},page:1,dashboardList:[],search:"",isFetching:!0}},created:function(){var t=this;return Object(Mt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchDashboards({page:1});case 2:case"end":return e.stop()}}),e)})))()},watch:{page:function(t){var e=this;return Object(Mt["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.fetchDashboards({page:t});case 2:case"end":return a.stop()}}),a)})))()},search:function(t){var e=this;return Object(Mt["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t){a.next=5;break}return a.next=3,e.fetchDashboards({page:1});case 3:a.next=7;break;case 5:n=e.debounce(Object(Mt["a"])(regeneratorRuntime.mark((function a(){var n,i,s,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,e.isFetching=!0,a.next=4,Ys({search:t});case 4:n=a.sent,i=n.data.data,s=i.total,r=i.dashboard,o=i.totalPages,e.dashboardList=r,e.pagination={totalItems:s,totalPages:o},a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](0),e.$toast.show({message:ka(a.t0).error});case 13:return a.prev=13,e.isFetching=!1,a.finish(13);case 16:case"end":return a.stop()}}),a,null,[[0,10,13,16]])})))),n();case 7:case"end":return a.stop()}}),a)})))()}},methods:Object(it["a"])(Object(it["a"])({},Kt),{},{deleteCountry:function(t){var e=this;return Object(Mt["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,qs(t);case 3:n=a.sent,e.dashboardList=e.dashboardList.filter((function(e){return e.id!==t.id})),e.pagination.totalItems-=1,e.$toast.show({message:n.data.message}),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](0),e.$toast.show({message:a.t0.message});case 12:case"end":return a.stop()}}),a,null,[[0,9]])})))()},fetchDashboards:function(t){var e=this;return Object(Mt["a"])(regeneratorRuntime.mark((function a(){var n,i,s,r,o,c,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.page,i=void 0===n?1:n,a.prev=1,e.isFetching=!0,a.next=5,Bs({page:i});case 5:s=a.sent,r=s.data.data,o=r.total,c=r.dashboard,l=r.totalPages,e.dashboardList=c,e.pagination={totalItems:o,totalPages:l},a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](1),e.$toast.show({message:ka(a.t0).error});case 14:return a.prev=14,e.isFetching=!1,a.finish(14);case 17:case"end":return a.stop()}}),a,null,[[1,11,14,17]])})))()}})},er=tr,ar=er,nr=(a("8484"),Object(d["a"])(ar,Qs,Xs,!1,null,"5fdddc7c",null)),ir=nr.exports,sr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-dashboard-layout",[n("header",{staticClass:"country__header"},[n("div",{staticClass:"country__header--left"},[n("span",{on:{click:function(e){return t.$router.go(-1)}}},[n("img",{attrs:{alt:"",src:a("ccfe")}}),t._v("Go Back")]),n("h1",[t._v(t._s(t.countriesOptions[t.country])),t.country?n("span",[t._v(":")]):t._e(),t._v(" Country Dashboard")])]),n("div",{staticClass:"country__header--right"},[n("k-button",{attrs:{negative:"negative",variant:"secondary"},on:{click:function(e){return t.$router.go(-1)}}},[t._v(" Cancel ")]),n("k-button",{attrs:{loading:t.saving,variant:"secondary"},on:{click:t.saveDashboard}},[t._v(" Save & Publish ")])],1)]),n("section",{staticClass:"country__body"},[n("div",{staticClass:"country--profile"},[n("div",{staticClass:"country--profile-image"},[t.isEditView?t._e():n("div",{staticClass:"select-country"},[n("k-input",{attrs:{optionsDisplay:t.countriesOptions,label:"Country",searchInside:"countries",type:"select",variant:"dropdown"},model:{value:t.country,callback:function(e){t.country=e},expression:"country"}})],1),n("div",{staticClass:"country-picture-wrapper"},[t.dashboard.imageUrl?n("img",{staticClass:"country-picture",attrs:{src:t.dashboard.imageUrl,alt:""}}):t._e()]),n("k-button",{staticClass:"btn",attrs:{variant:"tertiary",loading:t.isUploadingImage}},[n("input",{attrs:{id:"image-upload",accept:"image/*",name:"picture",type:"file"},on:{change:function(e){return t.uploadCountryImage(e)}}}),t._v(" "+t._s(t.isEditView?"Change Photo":"Add Photo")+" ")])],1),n("div",{staticClass:"country--profile-content"},[n("k-input",{attrs:{label:"Description",variant:"textarea"},model:{value:t.dashboard.description,callback:function(e){t.$set(t.dashboard,"description",e)},expression:"dashboard.description"}})],1)]),n("div",{staticClass:"country__content"},[n("div",{staticClass:"summary--indicators"},[n("p",{staticClass:"heading"},[t._v("Top Indicator Summaries")]),n("k-input",{attrs:{disabled:!t.dashboard.name,optionsDisplay:t.indicatorOptions,label:"Search for indicator",searchInside:"indicators",type:"select"},on:{input:t.addIndicator,search:function(e){return t.debounce(t.searchDatasets,500)({searchValue:e})}},model:{value:t.selectedIndicator,callback:function(e){t.selectedIndicator=e},expression:"selectedIndicator"}}),n("ul",{staticClass:"summary--indicators-items"},t._l(t.indicatorsShownList,(function(e,i){return n("li",{key:i,staticClass:"name"},[t._v(" "+t._s(e)+" "),n("span",{staticClass:"delete__span",attrs:{"data-hover":"Delete"},on:{click:function(e){return t.removeItem(i,t.indicators)}}},[n("img",{attrs:{alt:"icon",src:a("5dec")}})])])})),0),0===t.indicators.length?n("div",{staticClass:"no-activity text-center"},[n("div",{staticClass:"icon"},[n("img",{attrs:{alt:"icon",src:a("8479")}})]),n("p",[t._v("No indicators selected")])]):t._e()],1),n("div",{staticClass:"top--charts"},[n("p",{staticClass:"heading"},[t._v("Top Charts")]),n("k-input",{attrs:{disabled:!t.dashboard.name,optionsDisplay:t.indicatorOptions,label:"Search for indicator",searchInside:"indicators",type:"select"},on:{input:t.addTopChart,search:function(e){return t.debounce(t.searchDatasets,500)({searchValue:e})}},model:{value:t.selectedChart,callback:function(e){t.selectedChart=e},expression:"selectedChart"}}),n("ul",{staticClass:"summary--indicators-items"},t._l(t.chartsShownList,(function(e,i){return n("li",{key:i,staticClass:"name"},[t._v(" "+t._s(e)+" "),n("span",{staticClass:"delete__span",attrs:{"data-hover":"Delete"},on:{click:function(e){return t.removeItem(i,t.charts)}}},[n("img",{attrs:{alt:"icon",src:a("5dec")}})])])})),0),0===t.charts.length?n("div",{staticClass:"no-activity text-center"},[n("div",{staticClass:"icon"},[n("img",{attrs:{alt:"icon",src:a("8479")}})]),n("p",[t._v("No Charts selected")])]):t._e(),n("div",{staticClass:"top--charts-resources"},[n("p",{staticClass:"title"},[t._v("Resources")]),n("ul",{staticClass:"summary--indicators-items resources"},t._l(t.resources,(function(e){var i=e[0],s=e[1];return n("li",{key:s,staticClass:"name"},[n("a",{staticClass:"resource-item",attrs:{href:s}},[n("img",{attrs:{alt:"icon",src:a("0db0")}}),t._v(" "+t._s(i)+" ")]),n("span",{staticClass:"delete__span",attrs:{"data-hover":"Delete"},on:{click:function(e){return t.removeResource(i)}}},[n("img",{attrs:{alt:"icon",src:a("5dec")}})])])})),0),n("k-button",{staticClass:"upload-btn",attrs:{loading:t.isUploadingResource,variant:"tertiary"}},[n("input",{attrs:{id:"file-upload",accept:"application/pdf, image/jpg, image/png, image/jpeg, .doc,.docx,\n              application/msword,\n              application/vnd.openxmlformats-officedocument.wordprocessingml.document,\n              text/csv, .csv",name:"picture",type:"file"},on:{change:function(e){return t.uploadResource(e)}}}),t._v(" Click to Upload Document(s) ")])],1)],1)])])])},rr=[],or=(a("6062"),{data:function(){return{imageUrl:""}},methods:{uploadFile:function(t){var e=this;return Object(Mt["a"])(regeneratorRuntime.mark((function a(){var n,i,s,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.isUploading=!0,n=new FormData,i=t.target.files[0],n.append("file",i),a.next=6,On(n);case 6:if(s=a.sent,e.isUploading=!1,200!==s.status){a.next=11;break}return r=s.data.data,a.abrupt("return",Promise.resolve({url:r.url,name:i.name}));case 11:return o=s.response.data,a.abrupt("return",Promise.reject(o));case 13:case"end":return a.stop()}}),a)})))()}}});delete Ps[""];var cr={name:"AddCountry",mixins:[or],components:{KDashboardLayout:Wt,KButton:m,KInput:Pt},data:function(){return{countriesOptions:Ps,url:"",search:"",selectedIndicator:"",selectedChart:"",id:"",dashboard:{name:"",description:"",selectedIndicator:"",selectedChart:"",resource:{},imageUrl:""},item:"",country:"",indicators:[],charts:[],resources:[],isUploadingResource:!1,isUploadingImage:!1,datasetList:[],saving:!1,isEditView:!1}},created:function(){var t=this;return Object(Mt["a"])(regeneratorRuntime.mark((function e(){var a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.$route.params,!a.id){e.next=13;break}return t.isEditView=!0,e.next=5,Ks({id:a.id});case 5:n=e.sent,i=n.data.data,t.id=i.id,t.country=i.name,t.resources=Object.entries(i.resource),t.indicators=i.selectedIndicators.map((function(t){return Object(it["a"])(Object(it["a"])({},t),{},{nameOfIndicator:t.name})}))||[],t.charts=i.selectedCharts.map((function(t){return Object(it["a"])(Object(it["a"])({},t),{},{nameOfIndicator:t.name})}))||[],t.dashboard={name:i.name,description:i.description,imageUrl:i.imageUrl,resource:i.resource,selectedIndicator:"",selectedChart:""};case 13:case"end":return e.stop()}}),e)})))()},watch:{country:function(t){var e=this;return Object(Mt["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.dashboard.name=t,a.next=3,e.searchDatasets({country:t});case 3:case"end":return a.stop()}}),a)})))()},resources:function(t){this.dashboard.resource=t.reduce((function(t,e){var a=Object(gi["a"])(e,2),n=a[0],i=a[1],s=Object(it["a"])({},t);return s[n]=i,s}),{})}},computed:{indicatorOptions:function(){return this.datasetList.length?this.datasetList.reduce((function(t,e){var a=Object(it["a"])({},t);return a[e.nameOfIndicator]=e.nameOfIndicator,a}),{}):{}},indicatorsShownList:function(){var t=new Set(this.indicators.map((function(t){return t.nameOfIndicator})));return Array.apply(void 0,Object(Ue["a"])(t))},chartsShownList:function(){var t=new Set(this.charts.map((function(t){return t.nameOfIndicator})));return Array.apply(void 0,Object(Ue["a"])(t))}},methods:{addIndicator:function(t){var e=this;t&&!this.indicatorsShownList.includes(t)&&this.indicators.push(this.datasetList.find((function(e){return e.nameOfIndicator===t}))),setTimeout((function(){e.selectedIndicator=""}),10)},addTopChart:function(t){var e=this;t&&!this.chartsShownList.includes(t)&&this.charts.push(this.datasetList.find((function(e){return e.nameOfIndicator===t}))),setTimeout((function(){e.selectedChart=""}),10)},removeItem:function(t,e){e.splice(t,1)},removeResource:function(t){var e=this.resources;this.resources=e.filter((function(e){var a=Object(gi["a"])(e,1),n=a[0];return n!==t}))},uploadCountryImage:function(t){var e=this;return Object(Mt["a"])(regeneratorRuntime.mark((function a(){var n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,e.isUploadingImage=!0,a.next=4,e.uploadFile(t);case 4:n=a.sent,i=n.url,e.isUploadingImage=!1,e.dashboard.imageUrl=i,e.$toast.show({message:"Image Uploaded"}),a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](0),e.$toast.show({message:"Couldn't upload image"});case 14:return a.prev=14,e.isUploadingImage=!1,a.finish(14);case 17:case"end":return a.stop()}}),a,null,[[0,11,14,17]])})))()},uploadResource:function(t){var e=this;return Object(Mt["a"])(regeneratorRuntime.mark((function a(){var n,i,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.isUploadingResource=!0,a.prev=1,a.next=4,e.uploadFile(t);case 4:n=a.sent,i=n.url,s=n.name,e.isUploadingResource=!1,e.resources.push([s,i]),e.$toast.show({message:"Resource Uploaded"}),a.next=15;break;case 12:a.prev=12,a.t0=a["catch"](1),e.$toast.show({message:"Invalid file type"});case 15:return a.prev=15,e.isUploadingResource=!1,a.finish(15);case 18:case"end":return a.stop()}}),a,null,[[1,12,15,18]])})))()},searchDatasets:function(t){var e=this;return Object(Mt["a"])(regeneratorRuntime.mark((function a(){var n,i,s,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.searchValue,a.prev=1,i=n?n.trim():"",s=i&&i.length>=3?{country:e.country,search:i,category:"economy",limit:50}:{country:e.country,limit:50},a.next=6,_i(s);case 6:r=a.sent,e.datasetList=r.data.data.dataset.filter((function(t){return t.country.toLowerCase()===e.country.toLowerCase()})),a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](1),console.error(a.t0.message);case 13:case"end":return a.stop()}}),a,null,[[1,10]])})))()},saveDashboard:function(){var t=this;return Object(Mt["a"])(regeneratorRuntime.mark((function e(){var a,n,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.dashboard,n=t.indicators,i=t.charts,e.prev=1,a.selectedIndicator=n.map((function(t){return t.datasetId||t.id})).join(","),a.selectedChart=i.map((function(t){return t.datasetId||t.id})).join(","),t.saving=!0,t.isEditView){e.next=12;break}return e.next=8,Vs(a);case 8:s=e.sent,t.$router.push({name:"ManageCountry"}),e.next=15;break;case 12:return e.next=14,Us(Object(it["a"])(Object(it["a"])({},a),{},{id:t.id}));case 14:s=e.sent;case 15:t.$toast.show({message:s.data.message}),e.next=21;break;case 18:e.prev=18,e.t0=e["catch"](1),t.$toast.show({message:ka(e.t0).error});case 21:return e.prev=21,t.saving=!1,e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[1,18,21,24]])})))()}}},lr=cr,ur=lr,dr=(a("5109"),Object(d["a"])(ur,sr,rr,!1,null,"80a9dee6",null)),pr=dr.exports,mr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("k-dashboard-layout",[a("header",{class:["header","selected"]},[a("h1",[t._v("Database")]),t.isSingleView?a("div",{staticClass:"header__controls__selected"},[a("div",{staticClass:"selected-count text-capitalize"},[a("button",{staticClass:"back-button",on:{click:t.changePage}},[a("BackIcon")],1),t._v(" "+t._s(t.singleViewData.country)+" - "+t._s(t.singleViewData.indicatorName)+" ")]),a("div",{staticClass:"header__controls"},[t.isEditing?t._e():a("k-button",{attrs:{variant:"primary"},on:{click:function(e){t.isEditing=!0}}},[t._v(" Edit ")]),!0===t.isEditing?a("k-button",{attrs:{variant:"primary"},on:{click:t.updateSingleData}},[t._v(" Save & Continue ")]):t._e(),t.isEditing||t.singleViewData.isPublished?!t.isEditing&&t.singleViewData.isPublished?a("k-button",{attrs:{variant:"secondary"},on:{click:function(e){t.selectedRows.push(t.singleViewData.id),t.confirmAction("unpublish")}}},[t._v(" Unpublish ")]):t._e():a("k-button",{attrs:{variant:"secondary"},on:{click:function(e){t.selectedRows.push(t.singleViewData.id),t.confirmAction("publish")}}},[t._v(" Publish ")]),t.isEditing?t._e():a("k-button",{attrs:{variant:"secondary",negative:"negative",disabled:t.singleViewData.isDeleted},on:{click:function(e){t.selectedRows.push(t.singleViewData.id),t.confirmAction("delete")}}},[t._v(" Delete ")])],1)]):[t.selected?t._e():a("div",{staticClass:"header__controls with-search header__controls-flex"},[a("div",{staticClass:"search"},[a("k-input",{attrs:{label:"Search by country, indicators or categories",reactive:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("div",{staticClass:"filter"},[a("k-input",{attrs:{type:"select",label:"Filter by Category",variant:"dropdown",optionsDisplay:t.categories,searchInside:"categories"},on:{search:function(e){return t.debounce(t.fetchIndicatorsWith,500)({name:e})}},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}})],1),a("div",{staticClass:"filter"},[a("k-input",{attrs:{type:"select",label:"Filter by Indicator",optionsDisplay:t.indicatorOptions,searchInside:"indicators"},on:{search:function(e){return t.debounce(t.fetchIndicatorsWith,500)({name:e})}},model:{value:t.indicator,callback:function(e){t.indicator=e},expression:"indicator"}})],1),a("div",{staticClass:"filter"},[a("k-input",{attrs:{type:"select",label:"Filter by Country",optionsDisplay:t.countries,searchInside:"countries"},model:{value:t.country,callback:function(e){t.country=e},expression:"country"}})],1),a("div",{staticClass:"button"},[a("k-button",{attrs:{variant:"primary"},on:{click:function(e){return t.$router.push({name:"Upload"})}}},[t._v(" Upload New Data ")])],1)]),t.selected?a("div",{staticClass:"header__controls__selected"},[a("div",{staticClass:"selected-count"},[t._v(t._s(t.selected)+" selected")]),"deleted"!==t.activeTab?a("div",{staticClass:"header__controls"},[a("k-button",{attrs:{variant:"secondary",disabled:"draft"!==t.activeTab&&"all"!==t.activeTab},on:{click:function(e){return t.confirmAction("publish")}}},[t._v(" Publish All ")]),a("k-button",{attrs:{variant:"secondary",disabled:"draft"===t.activeTab},on:{click:function(e){return t.confirmAction("unpublish")}}},[t._v(" Unpublish All ")]),a("k-button",{attrs:{variant:"secondary",negative:"negative"},on:{click:function(e){return t.confirmAction("delete")}}},[t._v(" Delete ")])],1):a("div",{staticClass:"header__controls"},[a("k-button",{attrs:{variant:"primary"},on:{click:function(e){return t.confirmAction("restore")}}},[t._v(" Restore to Drafts ")]),a("k-button",{attrs:{variant:"secondary",negative:"negative"},on:{click:function(e){return t.confirmAction("clear your bin")}}},[t._v(" Permanently Delete ")])],1)]):t._e()]],2),a("section",{staticClass:"content"},[a("aside",{staticClass:"content__sidebar"},[a("ul",{staticClass:"content__menu"},[a("li",{class:["content__menu__item",{active:"all"===t.activeTab}],on:{click:function(e){t.activeTab="all"}}},[t._v(" All Data ")]),a("li",{class:["content__menu__item",{active:"published"===t.activeTab}],on:{click:function(e){t.activeTab="published"}}},[t._v(" Published "),a("span",{staticClass:"mark published"})]),a("li",{class:["content__menu__item",{active:"draft"===t.activeTab}],on:{click:function(e){t.activeTab="draft"}}},[t._v(" Drafts "),a("span",{staticClass:"mark unpublished"})]),a("li",{class:["content__menu__item",{active:"deleted"===t.activeTab}],on:{click:function(e){t.activeTab="deleted"}}},[t._v(" Deleted "),a("span",{staticClass:"mark deleted"})])])]),t.isSingleView?a("SingleData",{attrs:{isEditing:t.isEditing,data:t.singleViewData,nameOfIndicator:t.currentNameOfIndicator,dataTags:t.dataTags},on:{syncSingleData:function(e){return t.singleViewData=Object.assign({},e)}}}):a("section",{staticClass:"content__body"},[a("transition",{attrs:{name:"slide-down"}},["deleted"===t.activeTab?a("div",{staticClass:"delete__alert"},[t._v(" All data found here will be permanently deleted after 30 days ")]):t._e()]),t.isFetching||0!==t.allData.length?a("k-table",{attrs:{loading:t.isFetching,fields:t.tableFields,"fields-display":t.tableFieldsDisplay,datalist:t.allData,manageData:!0,selectAll:"",showStatus:""},on:{clickAction:t.changePage,selectAll:function(e){return t.selectedRows=e?t.allData.map((function(t){return t.id})):[]}},model:{value:t.selectedRows,callback:function(e){t.selectedRows=e},expression:"selectedRows"}}):a("div",{staticClass:"no-activity text-center"},[a("div",{staticClass:"icon"},[a("svg",{attrs:{width:"22",height:"20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:t.svgPath,fill:"#666"}})])]),a("p",[t._v("There is currently no data in the database")])])],1)],1),t.modalOpen?a("k-modal",{attrs:{open:t.modalOpen},on:{close:t.closeModal}},[a("k-card",{attrs:{heading:"Are you sure you want to "+t.activeModal+"?",variant:"in-modal","wrap-heading":"","longer-heading":"clear your bin"===t.activeModal}},[a("div",{staticClass:"modal__content"},["publish"===t.activeModal?[a("p",[t._v(" Publishing makes this data available to the public for viewing. Ensure that every data set is accurate before clicking to continue. ")]),a("p",[t._v(" You can choose to unpublish this data again if you discover any errors. It will be removed immediately from the platform. ")])]:t._e(),"unpublish"===t.activeModal?[a("p",[t._v(" Unpublishing happens instantly and your data would no longer be accessible by users on the platform. ")]),a("p",[t._v(" If this data is published again, it will immediately become available to users who have saved it to their profile. ")])]:t._e(),"delete"===t.activeModal?[a("p",[t._v(" You can still access this data within 30 days of deletion. After 30 days, this data is automatically deleted, permanently. ")])]:t._e(),"restore"===t.activeModal?[a("p",[t._v(" When you restore this data, you can find it underneath your drafts folder for further edits or review. ")])]:t._e(),"clear your bin"===t.activeModal?[a("p",[t._v(" Once you do this, the data is wiped completely from here. You will no longer have access to it. ")])]:t._e(),a("br"),a("p",[t._v(" Type "),a("span",{staticClass:"important"},[t._v(t._s(t.requiredMessage))]),t._v(" to confirm this action ")]),a("k-input",{attrs:{label:"Your input",reactive:!0},model:{value:t.entered,callback:function(e){t.entered=e},expression:"entered"}}),a("div",{staticClass:"modal-controls"},[a("k-button",{attrs:{variant:"link"},on:{click:t.closeModal}},[t._v("Cancel")]),"publish"===t.activeModal?a("k-button",{attrs:{variant:"primary",disabled:!t.isSame,loading:t.isActing},on:{click:function(e){return t.actOnData("publish")}}},[t._v("Publish")]):t._e(),"unpublish"===t.activeModal?a("k-button",{attrs:{variant:"primary",disabled:!t.isSame,loading:t.isActing},on:{click:function(e){return t.actOnData("unpublish")}}},[t._v("Unpublish")]):t._e(),"delete"===t.activeModal?a("k-button",{attrs:{variant:"primary",disabled:!t.isSame,negative:"",loading:t.isActing},on:{click:function(e){return t.actOnData("soft_delete")}}},[t._v("Delete")]):t._e(),"restore"===t.activeModal?a("k-button",{attrs:{variant:"primary",disabled:!t.isSame,loading:t.isActing},on:{click:function(e){return t.actOnData("restore_delete")}}},[t._v("Restore to Drafts")]):t._e(),"clear your bin"===t.activeModal?a("k-button",{attrs:{variant:"primary",disabled:!t.isSame,negative:"",loading:t.isActing},on:{click:function(e){return t.actOnData("delete")}}},[t._v("Permanently Delete")]):t._e()],1)],2)])],1):t._e(),t.isSingleView?t._e():a("k-pagination",{attrs:{forTable:!0,variant:"many",page:t.paginationData.currentPage,maxItemsOnPage:20,totalItems:t.paginationData.total,totalPages:t.paginationData.totalPages},on:{goToNext:function(e){t.currentPage=t.paginationData.currentPage+1},goToPrev:function(e){t.currentPage=t.paginationData.currentPage-1},goToFirst:function(e){t.currentPage=1},goToLast:function(e){t.currentPage=Number(t.paginationData.totalPages)}}})],1)},hr=[],fr=(a("9911"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"none"}},[a("path",{attrs:{fill:"#000",d:"M6.523 9.167h10.144v1.667H6.523l4.47 4.47-1.178 1.178L3.333 10 9.815 3.52l1.178 1.178-4.47 4.47Z"}})])}),gr=[],vr={},br=Object(d["a"])(vr,fr,gr,!1,null,null,null),yr=br.exports,_r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"content__body"},[n("div",{staticClass:"single-data__form"},[n("h3",[t._v("General")]),n("div",{staticClass:"form__grid"},[n("k-input",{attrs:{label:"Name of indicator",placeholder:"Name of Indicator",disabled:!t.isEditing||!1===t.isEditable},model:{value:t.data.indicatorName,callback:function(e){t.$set(t.data,"indicatorName",e)},expression:"data.indicatorName"}}),n("k-input",{attrs:{label:"Name of Category",placeholder:"Name of Category",disabled:!t.isEditing||!1===t.isEditable},model:{value:t.data.category,callback:function(e){t.$set(t.data,"category",e)},expression:"data.category"}})],1),n("div",{staticClass:"form__grid"},[n("k-input",{attrs:{label:"Country",type:"select",placeholder:"Country",disabled:!t.isEditing,optionsDisplay:t.countries,searchInside:"countries"},model:{value:t.data.country,callback:function(e){t.$set(t.data,"country",e)},expression:"data.country"}}),n("k-input",{attrs:{label:"Metric",placeholder:"Metric",disabled:!t.isEditing},model:{value:t.data.metric,callback:function(e){t.$set(t.data,"metric",e)},expression:"data.metric"}})],1),n("div",{staticClass:"form__grid"},[n("k-input",{attrs:{label:"Data Frequency",placeholder:"Data Frequency",disabled:!t.isEditing||!1===t.isEditable},model:{value:t.data.frequency,callback:function(e){t.$set(t.data,"frequency",e)},expression:"data.frequency"}})],1),n("h3",[t._v("About The Data")]),n("div",{staticClass:"form__grid"},[n("k-input",{attrs:{label:"Source",placeholder:"Source",disabled:!t.isEditing},model:{value:t.data.source,callback:function(e){t.$set(t.data,"source",e)},expression:"data.source"}}),n("k-input",{attrs:{label:"Link to source (optional)",placeholder:"Link to source",type:"url",disabled:!t.isEditing},model:{value:t.data.link,callback:function(e){t.$set(t.data,"link",e)},expression:"data.link"}})],1),n("k-input",{attrs:{label:"Notes (optional)",placeholder:"Notes",variant:"textarea",disabled:!t.isEditing},model:{value:t.data.notes,callback:function(e){t.$set(t.data,"notes",e)},expression:"data.notes"}}),n("h3",[t._v("Tags")]),t.isEditing?n("k-input-tag",{attrs:{disabled:!t.isEditing},model:{value:t.dataTags,callback:function(e){t.dataTags=e},expression:"dataTags"}},[n("p",[t._v("Type in related keywords")])]):n("div",{staticClass:"tag-wrapper"},[n("div",{staticClass:"content"},t._l(t.dataTags,(function(e){return n("div",{key:e,staticClass:"tag-item"},[n("span",{staticClass:"tag-input"},[t._v(t._s(e))])])})),0)])],1),n("div",{class:["single-data__table"]},[n("table",{staticClass:"data-table"},[n("thead",[n("tr",{class:[{"table-row-header":t.isEditing}]},[n("th",{attrs:{id:"period"}},[t._v("Period")]),n("th",{attrs:{id:"value"}},[t._v("Value")])])]),n("tbody",[t._l(t.data.data,(function(e,i){return[e&&!t.isEditing?n("tr",{key:i.period},[n("td",[t._v(" "+t._s(e.period)+" ")]),n("td",[t._v(t._s(e.value||"--"))])]):t._e(),e&&t.isEditing?n("tr",{key:i.period,class:[{"table-row":t.isEditing}]},[n("td",{staticClass:"period-td"},[t.isEditing?n("span",{staticClass:"span",attrs:{"data-hover":"Delete"},on:{click:function(e){return t.removeItem(i,t.data.data)}}},[n("img",{attrs:{src:a("5dec"),alt:"icon"}})]):t._e(),n("input",{attrs:{type:"text"},domProps:{value:e.period},on:{change:function(a){return t.editData(i,Object.assign({},e,{period:a.target.value}))}}})]),n("td",{staticClass:"value-td"},[n("input",{staticStyle:{"text-align":"right"},attrs:{type:"text"},domProps:{value:e.value||"--"},on:{change:function(a){return t.editData(i,Object.assign({},e,{value:a.target.value}))}}})])]):t._e()]}))],2)]),t.isEditing?n("div",{staticClass:"btn-wrapper"},[n("button",{staticClass:"link",on:{click:t.addNewField}},[t._v("Add New")])]):t._e()])])},wr=[];Ps[""]="All Countries";var kr={name:"SingleData",components:{KInput:Pt,KInputTag:oa},props:{data:{type:Object,required:!0},isEditing:{type:Boolean,default:!1},isEditable:{type:Boolean,default:!1},nameOfIndicator:{type:String,default:""},updateSingleData:{type:Function},dataTags:{type:Array}},data:function(){return{message:"Type in related keywords",singleData:{},countries:Ps,newData:{period:"",value:""}}},mounted:function(){var t=this.data;console.log("from single data",t),this.singleData=Object(it["a"])({},t)},computed:{},watch:{singleData:{deep:!0,handler:function(t){this.$emit("syncSingleData",t)}}},methods:{addNewField:function(){var t=this.data.data,e=this.newData;t.push(e)},removeItem:function(t,e){e.splice(t,1)},editData:function(t,e){var a=this.data.data;a.splice(t,1,e)}}},Cr=kr,Dr=(a("3e82"),Object(d["a"])(Cr,_r,wr,!1,null,"0cb768e2",null)),xr=Dr.exports,Or={name:"ManageData",components:{KCard:F,KModal:Ne,KPagination:tt,KButton:m,KInput:Pt,KDashboardLayout:Wt,KTable:ea,BackIcon:yr,SingleData:xr},mixins:[js],data:function(){return{activeTab:"all",category:"",indicator:"",country:"",isEditing:!1,countries:Ps,tableFields:["nameOfIndicator","country","frequency","startYear","endYear","lastModified"],tableFieldsDisplay:{nameOfIndicator:"Name of Indicator",country:"Country",frequency:"Frequency",startYear:"Start Year",endYear:"End Year",lastModified:"Last Modified"},selectedRows:[],modalOpen:!1,activeModal:"unpublish",entered:"",actionDisplays:{unpublish:"Unpublish",publish:"Publish",delete:"Delete",restore:"Restore","clear your bin":"Permanently delete"},isSingleView:!1,singleViewData:{},svgPath:"M18.896.44a2.91 2.91 0 0 1 2.91 2.909v1.94h-1.94v11.637a2.91 2.91 0 0 1-2.91 2.91H3.38a2.91 2.91 0 0 1-2.91-2.91v-1.94h15.518v1.94a.97.97 0 0 0 .856.963l.113.007a.97.97 0 0 0 .963-.857l.007-.113V2.379H5.32a.97.97 0 0 0-.963.856l-.007.114v9.698h-1.94V3.349A2.91 2.91 0 0 1 5.32.439h13.577Z",isFetching:!0,paginationData:{currentPage:1,totalPages:1,total:0},search:"",currentNameOfIndicator:"",isActing:!1,dataTags:[],recorded:!1}},mounted:function(){var t=this;return Object(Mt["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t.$route.query.active,n=["all","published","unpublished","draft"],a&&-1!==n.indexOf(a)?t.activeTab=a:t.activeTab="all",t.getData({});case 4:case"end":return e.stop()}}),e)})))()},watch:{activeTab:function(){this.isSingleView=!1,this.resetSelectedRows(),this.getData()},currentPage:function(t){this.getData({page:t})},search:function(){this.debounce(this.getData,500)()},country:function(){this.getData()},category:function(){this.getData()},indicator:function(){this.getData()},isSingleView:function(t){t||(this.singleViewData={})}},computed:Object(it["a"])(Object(it["a"])({},Object(Et["c"])({allData:"database/getDatabase"})),{},{selected:function(){return this.selectedRows.length},isSame:function(){return this.entered===this.requiredMessage},requiredMessage:function(){var t=this.activeModal,e=this.selected,a=this.actionDisplays,n=1!==e?"s":"";return"".concat(a[t]," ").concat(e," data set").concat(n)},currentPage:{get:function(){return this.paginationData.currentPage},set:function(t){this.paginationData.currentPage=t}}}),methods:Object(it["a"])(Object(it["a"])({},Object(Et["b"])({fetchDatabase:"database/fetchDatabase",fetchDataById:"database/fetchDataById",performDataAction:"database/performDataAction"})),{},{resetSelectedRows:function(){this.selectedRows=[]},confirmAction:function(t){this.modalOpen=!0,this.activeModal=t},closeModal:function(){this.entered="",this.modalOpen=!1},changePage:function(t){if("string"===typeof t){var e=this.allData.find((function(e){return e.id===t}));if(e){var a=e.isPublished,n=e.isDeleted;this.singleViewData={isPublished:a,isDeleted:n}||{},this.selectedRows=[]}this.fetchSingleData({pageId:t})}else this.currentNameOfIndicator="";this.isEditing=!1,this.isSingleView=!this.isSingleView},getData:function(t){var e=this;return Object(Mt["a"])(regeneratorRuntime.mark((function a(){var n,i,s,r,o,c,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=Object(it["a"])({},t),i=e.activeTab,s=e.search,r=e.country,o=e.category,c=e.indicator,n[i]="all"===i?"":"yes",n.search=s,e.isFetching=!0,a.prev=5,a.next=8,e.fetchDatabase(Object(it["a"])(Object(it["a"])({},n),{},{country:r,category:o,indicator:c}));case 8:if(l=a.sent,l.error){a.next=14;break}e.paginationData=l,e.paginationData.currentPage=Number(l.currentPage),a.next=15;break;case 14:throw Error(l.error);case 15:a.next=20;break;case 17:a.prev=17,a.t0=a["catch"](5),e.$toast.show({message:ka(a.t0).error});case 20:return a.prev=20,e.isFetching=!1,a.finish(20);case 23:case"end":return a.stop()}}),a,null,[[5,17,20,23]])})))()},updateSingleData:function(){var t=this;return Object(Mt["a"])(regeneratorRuntime.mark((function e(){var a,n,i,s,r,o,c,l,u,d,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.singleViewData,n=t.dataTags,i=a.id,s=a.data,r=a.metric,o=a.country,c=a.notes,l=a.source,u=a.link,d=n?n.join(","):"",e.prev=3,e.next=6,wi({id:i,payload:Object(it["a"])(Object(it["a"])({},{data:s,metric:r,country:o,notes:c,source:l,link:u}),{},{tags:d})});case 6:if(p=e.sent,p.error){e.next=11;break}t.$toast.show({message:p.data.message}),e.next=12;break;case 11:throw Error(p.error);case 12:t.isEditing=!1,t.fetchSingleData({pageId:i}),t.getData({}),e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](3),t.$toast.show({message:ka(e.t0).error});case 20:case"end":return e.stop()}}),e,null,[[3,17]])})))()},fetchSingleData:function(t){var e=this;return Object(Mt["a"])(regeneratorRuntime.mark((function a(){var n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.pageId,e.isFetching=!0,a.prev=2,a.next=5,e.fetchDataById(n);case 5:if(i=a.sent,i.error){a.next=11;break}e.singleViewData=i,e.dataTags=i.tags?i.tags.split(","):[],a.next=12;break;case 11:throw Error(i.error);case 12:a.next=17;break;case 14:a.prev=14,a.t0=a["catch"](2),e.$toast.show({message:ka(a.t0).error});case 17:return a.prev=17,e.isFetching=!1,a.finish(17);case 20:case"end":return a.stop()}}),a,null,[[2,14,17,20]])})))()},actOnData:function(t){var e=this;return Object(Mt["a"])(regeneratorRuntime.mark((function a(){var n,i,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.isActing=!0,a.prev=1,a.next=4,e.performDataAction({action:t,ids:e.selectedRows});case 4:if(n=a.sent,n.error){a.next=13;break}e.$toast.show({message:n}),e.closeModal(),e.getData(),null!==(i=e.singleViewData)&&void 0!==i&&i.id&&e.fetchSingleData({pageId:null===(s=e.singleViewData)||void 0===s?void 0:s.id}),e.resetSelectedRows(),a.next=14;break;case 13:throw Error(n.error);case 14:a.next=19;break;case 16:a.prev=16,a.t0=a["catch"](1),e.$toast.show({message:ka(a.t0).error});case 19:return a.prev=19,e.isActing=!1,a.finish(19);case 22:case"end":return a.stop()}}),a,null,[[1,16,19,22]])})))()}})},jr=Or,Sr=jr,Ir=(a("3757"),Object(d["a"])(Sr,mr,hr,!1,null,"5b02574f",null)),Ar=Ir.exports,Pr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-dashboard-layout",[n("header",{staticClass:"header selected"},[n("h1",[t._v("Database")]),n("div",{staticClass:"header__controls__selected"},[n("div",{staticClass:"upload-new-data"},[n("img",{staticClass:"arrow",attrs:{src:a("b94f"),alt:"icon"},on:{click:function(e){return t.$router.go(-1)}}}),n("p",[t._v("Upload New Data")])]),t.filename?n("k-button",{attrs:{variant:"secondary",negative:"negative"},on:{click:t.resetPage}},[t._v("Cancel Upload")]):t._e()],1)]),n("section",{staticClass:"content"},[t.isUploading?n("k-modal",{attrs:{open:t.openModal,uploading:!0}},[n("div",{staticClass:"upload-modal-content"},[n("div",{staticClass:"uploading-file"}),n("p",[t._v("Just a second ...")])])]):t._e(),n("aside",{staticClass:"content__sidebar"},[n("ul",{staticClass:"content__menu"},[n("li",{staticClass:"content__menu__item active",on:{click:function(e){return t.goToTab("all")}}},[t._v("All Data")]),n("li",{staticClass:"content__menu__item",on:{click:function(e){return t.goToTab("published")}}},[t._v("Published")]),n("li",{staticClass:"content__menu__item",on:{click:function(e){return t.goToTab("draft")}}},[t._v("Drafts")]),n("li",{staticClass:"content__menu__item",on:{click:function(e){return t.goToTab("deleted")}}},[t._v("Deleted")])])]),n("div",{staticClass:"content__body"},[n("div",{staticClass:"tabs"},t._l(t.tabs,(function(e){return n("button",{key:e.title,class:["tab-item",t.activeTab===e.title?"active":""]},[n("p",{staticClass:"step"},[t._v(t._s(e.step))]),n("p",{staticClass:"title"},[t._v(t._s(e.title))])])})),0),"REVIEW"===t.activeTab?n("div",[n("div",{staticClass:"review__content"},[n("table",{attrs:{border:""}},[n("caption",{staticClass:"hide-text"},[t._v(" Preview Table ")]),n("thead",[n("tr",t._l(t.fileFields,(function(e,a){return n("th",{key:a,attrs:{id:e}},[t._v(" "+t._s(e)+" ")])})),0)]),t._l(t.fileData,(function(e){return n("tr",{key:Object.values(e).join("-")},t._l(e,(function(e,a){return n("td",{key:a},[t._v(" "+t._s(e)+" ")])})),0)}))],2)]),n("div",{staticClass:"btn-wrapper"},[n("k-button",{attrs:{loading:t.dataIsUploading},on:{click:t.uploadDataToCloud}},[t._v(" Save & Publish ")])],1)]):t._e(),"UPLOAD CSV"===t.activeTab?n("div",{staticClass:"upload-content"},[n("h4",[t._v("UPLOAD CSV")]),n("p",{staticClass:"description"},[t._v(" Uploads require an indicator, country, and dataset to create a new entry. You can update the rest of the fields later. ")]),t.filename?n("section",[n("k-input",{attrs:{label:"Title",disabled:!0},model:{value:t.filename,callback:function(e){t.filename=e},expression:"filename"}}),n("div",{staticClass:"btn-wrapper"},[n("k-button",{on:{click:function(e){t.activeTab="REVIEW"}}},[t._v("Next")])],1)],1):n("vue2Dropzone",{attrs:{useCustomSlot:!0,id:"file-dropzone",options:t.dropzoneOptions},on:{"vdropzone-file-added":t.addFile}},[n("section",{staticClass:"upload-area"},[n("input",{attrs:{type:"file",id:"file-input",accept:"text/csv"}}),n("label",{attrs:{for:"file-input"}},[n("k-button",{attrs:{variant:"tertiary"}},[t._v("Choose a file")])],1),n("p",[t._v("Or drop your CSV file")])])])],1):t._e()])],1)])},Tr=[],Lr=a("4f96"),Er=(a("8a79"),a("92c3")),Rr=a.n(Er);a("4d63"),a("c607"),a("2c3e");function Mr(t,e,a){var n=e||",",i=a||"\n",s="",r="",o="",c=new RegExp(s,"g"),l=new RegExp(r,"g"),u=new RegExp(o,"g"),d=new RegExp("(?<=(^|[".concat(n,'\\n]))"(|[\\s\\S]+?(?<![^"]"))"(?=($|[').concat(n,"\\n]))"),"g"),p=[];return t.replace(/\r/g,"").replace(/\n{1,5}$/,"").replace(d,(function(t,e,a){return a.replace(/\n/g,s).replace(/""/g,r).replace(/,/g,o)})).split(/\n/).forEach((function(t){var e=t.split(n).map((function(t){return t.replace(c,i).replace(l,'"').replace(u,",")}));p.push(e)})),p}var $r=Mr,Nr={name:"Upload",components:{KDashboardLayout:Wt,KButton:m,vue2Dropzone:Rr.a,KInput:Pt,KModal:Ne},data:function(){return{openModal:!0,isUploading:!1,tabs:[{title:"UPLOAD CSV",step:"Step 01"},{title:"REVIEW",step:"Step 02"}],activeTab:"UPLOAD CSV",dropzoneOptions:{url:"/",acceptedFiles:["text/csv"]},filename:"",fileData:[],fileFields:[],htmlFile:null,dataIsUploading:!1}},methods:Object(it["a"])(Object(it["a"])({},Object(Et["b"])({uploadCSV:"database/uploadCSV"})),{},{goToTab:function(t){this.$router.push({name:"ManageData",query:{active:t}})},loadEventListener:function(t){var e=t.target.result,a=$r(e,",","\n"),n=Object(Lr["a"])(a),i=n[0],s=n.slice(1);this.fileFields=i,this.fileData=s},addFile:function(t){var e=this;return Object(Mt["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,t.name.endsWith(".csv")){a.next=4;break}return e.fileData=[],a.abrupt("return");case 4:e.filename=t.name,n=new FileReader,n.onload=e.loadEventListener,n.readAsText(t),a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](0),e.$toast.show({message:ka(a.t0)});case 13:return a.prev=13,e.htmlFile=t,a.finish(13);case 16:case"end":return a.stop()}}),a,null,[[0,10,13,16]])})))()},uploadDataToCloud:function(){var t=this;return Object(Mt["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.dataIsUploading=!0,t.isUploading=!0,a=new FormData,a.append("file",t.htmlFile),e.prev=4,e.next=7,t.uploadCSV(a);case 7:if(n=e.sent,n.error){e.next=13;break}t.$toast.show({message:"Data uploaded successfully"}),t.$router.push({name:"ManageData"}),e.next=14;break;case 13:throw Error(n.error);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](4),t.$toast.show({message:ka(e.t0).error});case 19:return e.prev=19,t.dataIsUploading=!1,t.isUploading=!1,e.finish(19);case 23:case"end":return e.stop()}}),e,null,[[4,16,19,23]])})))()},resetPage:function(){this.htmlFile=null,this.activeTab="UPLOAD CSV",this.filename="",this.fileData=[],this.fileFields=[]}})},Fr=Nr,Vr=Fr,Ur=(a("ed34"),Object(d["a"])(Vr,Pr,Tr,!1,null,"01cc0ea6",null)),Br=Ur.exports,Yr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-dashboard-layout",[n("header",{staticClass:"customers__header"},[n("h1",[t._v("Customers")]),n("div",{staticClass:"customers__header--content"},[n("k-pagination",{attrs:{page:t.pagination.page,maxItemsOnPage:20,totalItems:t.pagination.totalItems,totalPages:t.pagination.totalPages,variant:"many"},on:{goToNext:t.nextPage,goToPrev:t.prevPage,goToFirst:t.firstPage,goToLast:t.lastPage}}),n("k-input",{attrs:{label:"Search by name or email",reactive:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),n("k-button",{attrs:{variant:"secondary"},on:{click:function(e){t.modalOpen=!0}}},[t._v("Export")])],1)]),n("div",{staticClass:"table__container"},[0!==t.search.length&&0===t.customers.length?n("div",{staticClass:"empty__state"},[n("img",{attrs:{src:a("8479"),alt:""}}),n("p",[t._v("No Customer found")])]):n("k-table",{attrs:{fields:t.tableFields,"fields-display":t.tableFieldsDisplay,datalist:t.customers,loading:t.isLoading,customers:!0,customerOption:!0},on:{view:function(e,a){return t.$router.push({name:"SingleCustomer",query:{id:e,name:a}})},changeStatus:t.changeUserStatus}})],1),n("k-modal",{attrs:{open:t.modalOpen},on:{close:function(e){t.modalOpen=!1}}},[n("k-card",{attrs:{variant:"in-modal",heading:"Export User List"}},[n("form",{staticClass:"form__items"},[n("k-input",{attrs:{label:"Title",name:"title"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),n("k-input",{attrs:{label:"File Type",name:"file-type",type:"select",optionsDisplay:t.fileTypes},model:{value:t.fileType,callback:function(e){t.fileType=e},expression:"fileType"}}),n("div",{staticClass:"input-row"},[n("k-input",{attrs:{label:"Start Date",name:"start-date",type:"date"},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}}),n("k-input",{attrs:{label:"End Date",name:"end-date",type:"date"},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1),n("div",{staticClass:"modal-controls"},[n("k-button",{attrs:{variant:"link"},on:{click:function(e){t.modalOpen=!1}}},[t._v("Cancel")]),n("k-button",{attrs:{variant:"secondary",loading:t.isDownloading},on:{click:t.downloadCsv}},[t._v("Download File")])],1)],1)])],1)],1)},Kr=[],qr={data:function(){return{startDate:"",endDate:"",fileType:"",title:"",isDownloading:!1}},methods:Object(it["a"])(Object(it["a"])({},Object(Et["b"])({exportCustomers:"customers/exportCustomers"})),{},{downloadCsv:function(){var t=this;return Object(Mt["a"])(regeneratorRuntime.mark((function e(){var a,n,i,s,r,o,c,l,u,d,p,m,h,f,g,v,b,y;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.startDate,n=t.endDate,i=t.fileType,s=t.title,r=Object(fn["a"])(new Date(a)),o=Object(fn["a"])(new Date(n)),t.isDownloading=!0,e.prev=4,e.next=7,t.exportCustomers({startDate:r,endDate:o,fileType:"csv",title:s});case 7:if(c=e.sent,c.error){e.next=34;break}if("pdf"!==i){e.next=28;break}return l=c.replaceAll('"',"").split("\n").map((function(t){return t.split(",")})),u=l.shift(),l.forEach((function(t,e){var a=t.length-3,n=Ke.formatDate(t[a]);l[e].splice(a,1,n)})),d={tableHeaders:u,tableBodyData:l,title:s},p=xn(d),m=new Blob([p],{type:"text/plain"}),h=new File([m],{type:"text/plain"}),f=new FormData,f.append("file",h),e.next=21,jn({data:f,type:"pdf"});case 21:g=e.sent,v=new Blob([g.data],{type:"application/pdf"}),b="".concat(s,".pdf"),Object(gn["saveAs"])(v,b),t.isDownLoading=!1,e.next=32;break;case 28:y=new Blob([c],{type:"text/plain;charset=UTF-8"}),Object(gn["saveAs"])(y,"".concat(s,".csv")),t.$toast.show({message:"Exported ".concat(s,".csv")}),t.isDownloading=!1;case 32:e.next=35;break;case 34:"Customer not found"===c.error&&t.$toast.show({message:"Customer not found within the specified date range"});case 35:t.reset(),e.next=41;break;case 38:e.prev=38,e.t0=e["catch"](4),t.$toast.show({message:ka(e.t0).error});case 41:case"end":return e.stop()}}),e,null,[[4,38]])})))()},reset:function(){this.startDate="",this.endDate="",this.fileType="",this.title="",this.modalOpen=!1}})},zr={name:"Customers",components:{KDashboardLayout:Wt,KButton:m,KInput:Pt,KPagination:tt,KTable:ea,KModal:Ne,KCard:F},mixins:[qr],data:function(){return{isLoading:!1,isDownloading:!1,search:"",modalOpen:!1,status:"",page:1,pagination:{page:1,totalItems:NaN,totalPages:NaN},tableFields:["fullName","email","joined","userLastSeen"],tableFieldsDisplay:{fullName:"Full Name",email:"Email",joined:"Joined",userLastSeen:"Last seen"},fileTypes:{csv:"CSV",pdf:"PDF"}}},watch:{search:function(){this.debounce(this.fetchAllCustomers,500)()},page:function(t){this.fetchAllCustomers(t)}},mounted:function(){this.fetchAllCustomers()},computed:Object(it["a"])({},Object(Et["c"])({customers:"customers/getCustomers"})),methods:Object(it["a"])(Object(it["a"])({},Object(Et["b"])({getAllCustomers:"customers/getAllCustomers",changeCustomerStatus:"customers/changeCustomerStatus",exportCustomers:"customers/exportCustomers"})),{},{fetchAllCustomers:function(){var t=arguments,e=this;return Object(Mt["a"])(regeneratorRuntime.mark((function a(){var n,i,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.length>0&&void 0!==t[0]?t[0]:1,i=e.search,e.isLoading=!0,a.prev=3,a.next=6,e.getAllCustomers({page:n,nameOrEmail:i});case 6:if(s=a.sent,s.error){a.next=13;break}e.pagination.page=Number(s.currentPage),e.pagination.totalItems=s.total,e.pagination.totalPages=s.totalPages,a.next=14;break;case 13:throw Error(s.error);case 14:e.isLoading=!1,a.next=21;break;case 17:a.prev=17,a.t0=a["catch"](3),e.$toast.show({message:a.t0.message}),e.isLoading=!1;case 21:case"end":return a.stop()}}),a,null,[[3,17]])})))()},changeUserStatus:function(t){var e=this;return Object(Mt["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.changeCustomerStatus(t);case 3:if(n=a.sent,n.error){a.next=8;break}e.$toast.show({message:n}),a.next=9;break;case 8:throw Error(n.error);case 9:a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](0),e.$toast.show({message:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})))()},prevPage:function(){this.page-=1},nextPage:function(){this.page+=1},firstPage:function(){this.page=1},lastPage:function(){this.page=this.pagination.totalPages}})},Hr=zr,Gr=Hr,Wr=(a("d607"),Object(d["a"])(Gr,Yr,Kr,!1,null,"2351c04b",null)),Zr=Wr.exports,Jr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-dashboard-layout",[n("header",{staticClass:"customer__header"},[n("div",{staticClass:"customer__header--text"},[n("p",{on:{click:function(e){return t.$router.go(-1)}}},[n("img",{staticClass:"back-arrow",attrs:{src:a("ccfe"),alt:""}}),t._v(" Back ")]),n("h1",[t._v(t._s(t.name)+"'s Activities")])]),n("div",{staticClass:"header--content"},[n("k-pagination",{attrs:{page:t.pagination.page,maxItemsOnPage:20,totalItems:t.pagination.totalItems,totalPages:t.pagination.totalPages,variant:"many"},on:{goToNext:t.nextPage,goToPrev:t.prevPage,goToFirst:t.firstPage,goToLast:t.lastPage}}),n("k-input",{attrs:{type:"select",variant:"dropdown",label:"Duration",optionsDisplay:t.optionsDurations},model:{value:t.duration,callback:function(e){t.duration=e},expression:"duration"}}),n("k-button",{attrs:{variant:"secondary"},on:{click:function(e){t.modalOpen=!0}}},[t._v("Export")])],1)]),n("div",{staticClass:"table__content"},[""===t.duration.length||0!==t.customerData.length||t.isLoading?n("k-table",{attrs:{fields:t.tableFields,"fields-display":t.tableFieldsDisplay,datalist:t.customerData,loading:t.isLoading,customers:!0}}):n("div",{staticClass:"empty__state"},[n("img",{attrs:{src:a("8479"),alt:""}}),n("p",[t._v("No User Activities found for the last "+t._s(t.duration))])])],1),n("k-modal",{attrs:{open:t.modalOpen},on:{close:function(e){t.modalOpen=!1}}},[n("k-card",{attrs:{variant:"in-modal",heading:"Export User List"}},[n("form",{staticClass:"form__items"},[n("k-input",{attrs:{label:"Title",name:"title"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),n("k-input",{attrs:{label:"File Type",name:"file-type",type:"select",optionsDisplay:t.fileTypes},model:{value:t.fileType,callback:function(e){t.fileType=e},expression:"fileType"}}),n("div",{staticClass:"input-row"},[n("k-input",{attrs:{label:"Start Date",name:"start-date",type:"date"},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}}),n("k-input",{attrs:{label:"End Date",name:"end-date",type:"date"},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1),n("div",{staticClass:"modal-controls"},[n("k-button",{attrs:{variant:"link"},on:{click:t.reset}},[t._v("Cancel")]),n("k-button",{attrs:{variant:"secondary",loading:t.isDownloading},on:{click:t.downloadCsv}},[t._v("Download File")])],1)],1)])],1)],1)},Qr=[],Xr={name:"singleuser",components:{KDashboardLayout:Wt,KButton:m,KInput:Pt,KPagination:tt,KTable:ea,KCard:F,KModal:Ne},data:function(){return{startDate:"",endDate:"",fileType:"",title:"",isLoading:!1,isDownloading:!1,search:"",duration:"7 days",modalOpen:!1,optionsDurations:{"24hours":"Last 24 hours","7days":"Last 7 days","30days":"Last 30 days","3months":"Last 3 months","6months":"Last 6 months","12months":"Last year"},fileTypes:{csv:"CSV",pdf:"PDF"},name:"",customerData:[],page:1,pagination:{page:1,totalItems:NaN,totalPages:NaN},tableFields:["fullName","actions","userLastSeen"],tableFieldsDisplay:{fullName:"Name",actions:"Actions",userLastSeen:"Timestamp"}}},watch:{duration:function(){var t=this.$route.query.id,e=this.page;this.getSingleUserActivities(t,e)},page:function(t){var e=this.$route.query.id;t&&this.getSingleUserActivities(e,t)}},mounted:function(){var t=this.$route.query.id,e=this.page;this.name=this.$route.query.name,this.getSingleUserActivities(t,e)},methods:Object(it["a"])(Object(it["a"])({},Object(Et["b"])({singleCustomerActivities:"customers/singleCustomerActivities",exportCustomers:"customers/exportCustomers"})),{},{getSingleUserActivities:function(t){var e=arguments,a=this;return Object(Mt["a"])(regeneratorRuntime.mark((function n(){var i,s,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=e.length>1&&void 0!==e[1]?e[1]:1,s=a.duration,a.isLoading=!0,n.prev=3,n.next=6,a.singleCustomerActivities({id:t,duration:s,page:i});case 6:r=n.sent,r.error||(a.pagination.page=Number(r.currentPage),a.pagination.totalItems=r.total,a.pagination.totalPages=r.totalPages,a.customerData=r.customer),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](3),a.$toast.show({message:n.t0});case 13:a.isLoading=!1;case 14:case"end":return n.stop()}}),n,null,[[3,10]])})))()},downloadCsv:function(){var t=this;return Object(Mt["a"])(regeneratorRuntime.mark((function e(){var a,n,i,s,r,o,c,l,u,d,p,m,h,f,g,v,b,y,_;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.startDate,n=t.endDate,i=t.fileType,s=t.title,r=t.$route.query.id,o=Object(fn["a"])(new Date(a)),c=Object(fn["a"])(new Date(n)),t.isDownloading=!0,e.prev=5,e.next=8,t.exportCustomers({startDate:o,endDate:c,fileType:"csv",title:s,id:r});case 8:if(l=e.sent,"pdf"!==i){e.next=32;break}return u=l.replaceAll('"',"").split("\n").map((function(t){return t.split(",")})),d=u.shift(),d.shift(),d.pop(),u.map((function(t){return t.pop()})),u.map((function(t){return t.shift()})),u.forEach((function(t,e){var a=t.length-1,n=Ke.formatDate(t[a]);u[e].splice(a,1,n)})),u.forEach((function(t,e){var a=t.length-5,n=Ke.formatDate(t[a]);u[e].splice(a,1,n)})),p={tableHeaders:d,tableBodyData:u,title:s},m=xn(p),h=new Blob([m],{type:"text/plain"}),f=new File([h],{type:"text/plain"}),g=new FormData,g.append("file",f),e.next=26,jn({data:g,type:"pdf"});case 26:v=e.sent,b=new Blob([v.data],{type:"application/pdf"}),y="".concat(s,".pdf"),Object(gn["saveAs"])(b,y),e.next=35;break;case 32:_=new Blob([l],{type:"text/plain;charset=UTF-8"}),Object(gn["saveAs"])(_,"".concat(s,".csv")),t.$toast.show({message:"Exported ".concat(s,".csv")});case 35:t.isDownloading=!1,t.reset(),e.next=42;break;case 39:e.prev=39,e.t0=e["catch"](5),t.$toast.show({message:e.t0});case 42:case"end":return e.stop()}}),e,null,[[5,39]])})))()},reset:function(){this.startDate="",this.endDate="",this.fileType="",this.title="",this.modalOpen=!1},prevPage:function(){this.page-=1},nextPage:function(){this.page+=1},firstPage:function(){this.page=1},lastPage:function(){this.page=this.pagination.totalPages}})},to=Xr,eo=(a("b7aa"),Object(d["a"])(to,Jr,Qr,!1,null,"4e7e746e",null)),ao=eo.exports;n["default"].use(pa["a"]);var no=[{path:"/",name:"Overview",component:Pa},{path:"/components",name:"Components",component:Ka},{path:"/login",name:"Login",component:Ja,meta:{authView:!0}},{path:"/reset-password",name:"ResetPassword",component:sn,meta:{authView:!0}},{path:"/check-inbox",name:"CheckInbox",component:pn,meta:{authView:!0}},{path:"/activities/:type",name:"Activities",component:Tn},{path:"/settings",name:"Settings",component:Ds},{path:"/customers",name:"Customers",component:Zr},{path:"/single-user",name:"SingleCustomer",component:ao},{path:"/database/indicators",name:"Indicators",component:Ms},{path:"/database/country",name:"CountryOverview",component:Js},{path:"/database/country/all",name:"ManageCountry",component:ir},{path:"/database/country/add",name:"AddCountry",component:pr},{path:"/database/country/:id",name:"ViewSingleCountry",component:pr},{path:"/database",name:"ManageData",component:Ar},{path:"/database/upload",name:"Upload",component:Br}],io=new pa["a"]({mode:"history",base:"/",routes:no}),so=io,ro=a("bfa9"),oo={token:null,user:{firstName:"",lastName:"",email:"",role:""},profile:{}},co={getUser:function(t){return t.user},getToken:function(t){return t.token},getProfile:function(t){return t.profile}},lo={SET_USER:function(t,e){t.user=e},SET_TOKEN:function(t,e){t.token=e},RESET:function(t){t.user={},t.profile={},t.token=null},SET_ADMIN_PROFILE:function(t,e){t.profile=e}},uo={login:function(t,e){var a=t.commit;return Yn(e).then(function(){var t=Object(Mt["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.data.data,a("SET_TOKEN",n.token),a("SET_USER",n),t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){return ka(t,!0)}))},forgotPassword:function(t,e){return Kn(e).then((function(t){var e=t.data,a=e.message;return a})).catch((function(t){return ka(t)}))},resetPassword:function(t,e){return qn(e).then((function(t){var e=t.data,a=e.message;return a})).catch((function(t){return ka(t)}))},getProfile:function(t,e){var a=t.commit;return zn(e).then((function(t){var e=t.data.data;return a("SET_ADMIN_PROFILE",e),e})).catch((function(t){return ka(t)}))}},po={namespaced:!0,state:oo,getters:co,mutations:lo,actions:uo},mo={all:[],pagination:{currentPage:1,total:NaN,totalPages:1}},ho={getAll:function(t){return t.all},getPagination:function(t){return t.pagination}},fo={SET_ADMIN:function(t,e){t.all=e},SET_ADMIN_PAGINATION:function(t,e){Object.keys(e).forEach((function(a){t.pagination[a]=parseInt(e[a],10)}))}},go=function(){window.scrollTo({top:0,left:0,behavior:"smooth"})},vo=["admin"],bo={fetchAll:function(t,e){var a=t.commit;return Wn(e).then(function(){var t=Object(Mt["a"])(regeneratorRuntime.mark((function t(e){var n,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.data.data,i=n.admin,s=Object(Hn["a"])(n,vo),a("SET_ADMIN",i),a("SET_ADMIN_PAGINATION",s),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){return ka(t,!0)}))},addAdmin:function(t,e){var a=t.dispatch;return Zn(e).then(function(){var t=Object(Mt["a"])(regeneratorRuntime.mark((function t(n){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=n.data.message,a("fetchAll",Object(it["a"])({},e)).then((function(){return go()})),t.abrupt("return",i);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){return ka(t,!0)}))},editOtherAdmin:function(t,e){var a=t.dispatch;return Jn(e).then(function(){var t=Object(Mt["a"])(regeneratorRuntime.mark((function t(n){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=n.data.message,a("fetchAll",Object(it["a"])({},e)).then((function(){return go()})),t.abrupt("return",i);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){return ka(t,!0)}))},deleteOtherAdmin:function(t,e){var a=t.dispatch;return Qn(e).then(function(){var t=Object(Mt["a"])(regeneratorRuntime.mark((function t(n){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=n.data.message,a("fetchAll",Object(it["a"])({},e)),t.abrupt("return",i);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){return ka(t,!0)}))}},yo={namespaced:!0,state:mo,getters:ho,mutations:fo,actions:bo},_o={all:[],allDetails:[]},wo={getAll:function(t){return t.all},getAllDetails:function(t){return t.allDetails}},ko={SET_ROLES:function(t,e){t.all=e},SET_ROLES_DETAILS:function(t,e){t.allDetails=e}},Co={fetchAll:function(t,e){var a=t.commit;return ti(e).then(function(){var t=Object(Mt["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.data.data,a("SET_ROLES",n),t.abrupt("return",n);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){return ka(t,!0)}))},fetchDetails:function(t,e){var a=t.commit;return ei(e).then(function(){var t=Object(Mt["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.data.data.roles,a("SET_ROLES_DETAILS",n),t.abrupt("return",n);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){return ka(t,!0)}))},addRole:function(t,e){var a=t.dispatch;return ai(e).then(function(){var t=Object(Mt["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.data.message,a("fetchAll",{}),a("fetchDetails",{}).then((function(){return go()})),t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){return ka(t,!0)}))},editRole:function(t,e){var a=t.dispatch;return ni(e).then(function(){var t=Object(Mt["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.data.message,a("fetchAll",{}),a("fetchDetails",{}).then((function(){return go()})),t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){return ka(t,!0)}))},deleteRole:function(t,e){var a=t.dispatch;return ii(e).then(function(){var t=Object(Mt["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.data.message,a("fetchAll",{}),a("fetchDetails",{}),t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){return ka(t,!0)}))}},Do={namespaced:!0,state:_o,getters:wo,mutations:ko,actions:Co},xo={activities:[],userActivities:[]},Oo={getActivities:function(t){return t.activities},getUserActivities:function(t){return t.userActivities}},jo={SET_ACTIVITIES:function(t,e){t.activities=e},SET_USER_ACTIVITIES:function(t,e){t.userActivities=e}},So={getActivities:function(t,e){var a=t.commit;return ri(e).then((function(t){var n=t.data.data;return"admin"===e.type?a("SET_ACTIVITIES",n.activityLog):a("SET_USER_ACTIVITIES",n.activityLog),n})).catch((function(t){return ka(t,!0)}))},exportActivities:function(t,e){var a=t.dispatch;return oi(e).then((function(t){var n=t.data;return a("getActivities",{type:e.type}),n})).catch((function(t){return ka(t,!0)}))}},Io={namespaced:!0,state:xo,getters:Oo,mutations:jo,actions:So},Ao={indicators:[],loadedList:[],list:[],categories:["agriculture","economy","finance","health","labour","monetary","population","tax","trade"]};function Po(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=e?{"":"All ".concat(e)}:{};return Object(it["a"])(Object(it["a"])({},a),t.reduce((function(t,e){var a=Object(it["a"])({},t);return a[e]=Kt.titleCase(e),a}),{}))}var To={getIndicators:function(t){return t.indicators},all:function(t){return t.list},asOptions:function(t){var e=t.list,a=t.loadedList;return function(t){if(t){var n=t.toLocaleLowerCase();return Po(a.filter((function(t){return t.category===n})).map((function(t){return t.name})).slice(0,100),"Indicators")}return Po(e.slice(0,100),"Indicators")}},categories:function(t){return t.categories},categoryOptions:function(t){return Po(t.categories,"Categories")}},Lo=(a("a630"),{SET_INDICATORS:function(t,e){t.indicators=e},ADD_INDICATORS:function(t,e){var a=new Set([].concat(Object(Ue["a"])(e.map((function(t){return t.name}))),Object(Ue["a"])(t.list))),n=Array.from(a);n.sort((function(t,e){return t>e})),t.list=n,t.loadedList=[].concat(Object(Ue["a"])(e),Object(Ue["a"])(t.loadedList))},ADD_CATEGORIES:function(t,e){var a=new Set([].concat(Object(Ue["a"])(e.map((function(t){return t.category}))),Object(Ue["a"])(t.categories))),n=Array.from(a);n.sort((function(t,e){return t>e})),t.categories=n}}),Eo={addIndicator:function(t,e){var a=t.dispatch;return li(e).then((function(t){var e=t.data;a("getIndicators",{});var n=e.message;return n})).catch((function(t){return ka(t)}))},getIndicators:function(t,e){var a=t.commit;return ci(e).then((function(t){var e=t.data.data;return a("SET_INDICATORS",e.indicator),e})).catch((function(t){return ka(t,!0)}))},deleteIndicator:function(t,e){var a=t.dispatch;return ui(e).then((function(t){var e=t.data;a("getIndicators",{});var n=e.message;return n})).catch((function(t){return ka(t,!0)}))},updateIndicator:function(t,e){var a=t.dispatch;return di(e).then((function(t){var e=t.data;a("getIndicators",{});var n=e.message;return n})).catch((function(t){return ka(t,!0)}))},getInitialIndicators:function(t){var e=t.commit;return pi().then((function(t){var a=t.data.data;return e("ADD_INDICATORS",a.indicator),e("ADD_CATEGORIES",a.indicator),a})).catch((function(t){return ka(t)}))},fetchIndicatorsWith:function(t,e){var a=t.commit,n=e.category,i=e.name,s=mi;return i&&n?s=fi:n&&(s=hi),s(e).then((function(t){var e=t.data.data;return a("ADD_INDICATORS",e.indicator||e),a("ADD_CATEGORIES",e.indicator||e),e})).catch((function(t){return ka(t)}))}},Ro={namespaced:!0,state:Ao,getters:To,mutations:Lo,actions:Eo},Mo={database:[]},$o={getDatabase:function(t){return t.database}},No={SET_DATABASE:function(t,e){t.database=e}},Fo={fetchDatabase:function(t,e){var a=t.commit;return _i(e).then((function(t){var e=t.data.data;a("SET_DATABASE",e.dataset);var n=e;return delete n.dataset,n})).catch((function(t){return ka(t,!0)}))},uploadCSV:function(t,e){return yi(e).then(function(){var t=Object(Mt["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.data.message,t.abrupt("return",a);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){return ka(t,!0)}))},fetchDataById:function(t,e){return ki({id:e}).then(function(){var t=Object(Mt["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.data.data,t.abrupt("return",a);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){return ka(t,!0)}))},performDataAction:function(t,e){return Ci(e).then(function(){var t=Object(Mt["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.data.message,t.abrupt("return",a);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){return ka(t,!0)}))}},Vo={namespaced:!0,state:Mo,getters:$o,mutations:No,actions:Fo},Uo={allCustomers:[],singleUserActivities:[]},Bo={getCustomers:function(t){return t.allCustomers},getCustomerActivities:function(t){return t.singleUserActivities}},Yo={SET_ALL_CUSTOMERS:function(t,e){t.allCustomers=e},SET_SINGLE_CUSTOMER_ACTIVITIES:function(t,e){t.singleUserActivities=e}},Ko={getAllCustomers:function(t,e){var a=t.commit;return Di(e).then((function(t){var e=t.data.data;return a("SET_ALL_CUSTOMERS",e.customer),e})).catch((function(t){return ka(t,!0)}))},changeCustomerStatus:function(t,e){var a=t.dispatch;return xi(e).then((function(t){var e=t.data;a("getAllCustomers",{});var n=e.message;return n})).catch((function(t){return ka(t,!0)}))},singleCustomerActivities:function(t,e){var a=t.commit;return Oi(e).then((function(t){var e=t.data.data;return a("SET_SINGLE_CUSTOMER_ACTIVITIES",e.customer),e})).catch((function(t){return ka(t,!0)}))},exportCustomers:function(t,e){var a=t.dispatch;return ji(e).then((function(t){var e=t.data;return a("getAllCustomers",{}),e})).catch((function(t){return ka(t,!0)}))}},qo={namespaced:!0,state:Uo,getters:Bo,mutations:Yo,actions:Ko},zo={recentAdminActivities:[],analytics:{}},Ho={getRecentActivities:function(t){return t.recentAdminActivities},getAnalytics:function(t){return t.analytics}},Go={SET_RECENT_ACTIVITIES:function(t,e){t.recentAdminActivities=e},SET_ANALYTICS:function(t,e){t.analytics=e}},Wo={getRecentAdminActivities:function(t,e){var a=t.commit;return Da(e).then((function(t){var e=t.data;a("SET_RECENT_ACTIVITIES",e.data);var n=e.message;return n})).catch((function(t){return ka(t,!0)}))},getAnalytics:function(t,e){var a=t.commit;return xa(e).then((function(t){var e=t.data;return a("SET_ANALYTICS",e.data),e})).catch((function(t){return ka(t,!0)}))}},Zo={namespaced:!0,state:zo,getters:Ho,mutations:Go,actions:Wo},Jo=new ro["a"]({storage:window.localStorage,modules:["auth"],key:Rt});n["default"].use(Et["a"]),n["default"].use(Et["a"]);var Qo=new Et["a"].Store({strict:!1,modules:{auth:po,admin:yo,roles:Do,activity:Io,indicators:Ro,database:Vo,customers:qo,dashboard:Zo},plugins:[Jo.plugin]}),Xo={install:function(t){t.component("KToast",ie);var e={show:function(t){Xt.$emit("addNotification",t)}};t.prototype.$toast=e}};n["default"].config.productionTip=!1,n["default"].prototype.debounce=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return function(){for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];var s=this;clearTimeout(window.debounce),window.debounce=setTimeout((function(){return t.apply(s,n)}),e)}},n["default"].use(Xo),so.beforeEach((function(t,e,a){var n=Qo.getters["auth/getToken"],i=!!n,s=t.meta.authView;if(s||i){var r=Qo.getters["auth/getUser"].id;s||zn({id:r,token:n}),a()}else so.push({name:"Login"})})),new n["default"]({router:so,store:Qo,computed:{token:function(){return Qo.state.auth.token}},watch:{token:function(t){this.setHeader(t)}},methods:{setHeader:function(t){Bt.defaults.headers.Authorization="Bearer ".concat(t)}},created:function(){this.setHeader(Qo.state.auth.token)},render:function(t){return t(da)}}).$mount("#app")},"5c20":function(t,e,a){},"5dec":function(t,e,a){t.exports=a.p+"img/deleteIcon.91d40493.svg"},"5fbb":function(t,e,a){"use strict";a("dd64")},"60a5":function(t,e,a){t.exports=a.p+"img/JF.1a8891da.png"},6565:function(t){t.exports=JSON.parse('[{"name":"Afghanistan"},{"name":"Åland Islands"},{"name":"Albania"},{"name":"Algeria"},{"name":"American Samoa"},{"name":"Andorra"},{"name":"Angola"},{"name":"Anguilla"},{"name":"Antarctica"},{"name":"Antigua and Barbuda"},{"name":"Argentina"},{"name":"Armenia"},{"name":"Aruba"},{"name":"Australia"},{"name":"Austria"},{"name":"Azerbaijan"},{"name":"Bahamas"},{"name":"Bahrain"},{"name":"Bangladesh"},{"name":"Barbados"},{"name":"Belarus"},{"name":"Belgium"},{"name":"Belize"},{"name":"Benin"},{"name":"Bermuda"},{"name":"Bhutan"},{"name":"Bolivia"},{"name":"Bosnia and Herzegovina"},{"name":"Botswana"},{"name":"Bouvet Island"},{"name":"Brazil"},{"name":"British Indian Ocean Territory"},{"name":"British Virgin Islands"},{"name":"Brunei"},{"name":"Bulgaria"},{"name":"Burkina Faso"},{"name":"Burundi"},{"name":"Cambodia"},{"name":"Cameroon"},{"name":"Canada"},{"name":"Cape Verde"},{"name":"Caribbean Netherlands"},{"name":"Cayman Islands"},{"name":"Central African Republic"},{"name":"Chad"},{"name":"Chile"},{"name":"China"},{"name":"Christmas Island"},{"name":"Cocos (Keeling) Islands"},{"name":"Colombia"},{"name":"Comoros"},{"name":"Cook Islands"},{"name":"Costa Rica"},{"name":"Croatia"},{"name":"Cuba"},{"name":"Curaçao"},{"name":"Cyprus"},{"name":"Czechia"},{"name":"Denmark"},{"name":"Djibouti"},{"name":"Dominica"},{"name":"Dominican Republic"},{"name":"DR Congo"},{"name":"Ecuador"},{"name":"Egypt"},{"name":"El Salvador"},{"name":"Equatorial Guinea"},{"name":"Eritrea"},{"name":"Estonia"},{"name":"Eswatini"},{"name":"Ethiopia"},{"name":"Falkland Islands"},{"name":"Faroe Islands"},{"name":"Fiji"},{"name":"Finland"},{"name":"France"},{"name":"French Guiana"},{"name":"French Polynesia"},{"name":"French Southern and Antarctic Lands"},{"name":"Gabon"},{"name":"Gambia"},{"name":"Georgia"},{"name":"Germany"},{"name":"Ghana"},{"name":"Gibraltar"},{"name":"Greece"},{"name":"Greenland"},{"name":"Grenada"},{"name":"Guadeloupe"},{"name":"Guam"},{"name":"Guatemala"},{"name":"Guernsey"},{"name":"Guinea"},{"name":"Guinea-Bissau"},{"name":"Guyana"},{"name":"Haiti"},{"name":"Heard Island and McDonald Islands"},{"name":"Honduras"},{"name":"Hong Kong"},{"name":"Hungary"},{"name":"Iceland"},{"name":"India"},{"name":"Indonesia"},{"name":"Iran"},{"name":"Iraq"},{"name":"Ireland"},{"name":"Isle of Man"},{"name":"Israel"},{"name":"Italy"},{"name":"Ivory Coast"},{"name":"Jamaica"},{"name":"Japan"},{"name":"Jersey"},{"name":"Jordan"},{"name":"Kazakhstan"},{"name":"Kenya"},{"name":"Kiribati"},{"name":"Kosovo"},{"name":"Kuwait"},{"name":"Kyrgyzstan"},{"name":"Laos"},{"name":"Latvia"},{"name":"Lebanon"},{"name":"Lesotho"},{"name":"Liberia"},{"name":"Libya"},{"name":"Liechtenstein"},{"name":"Lithuania"},{"name":"Luxembourg"},{"name":"Macau"},{"name":"Madagascar"},{"name":"Malawi"},{"name":"Malaysia"},{"name":"Maldives"},{"name":"Mali"},{"name":"Malta"},{"name":"Marshall Islands"},{"name":"Martinique"},{"name":"Mauritania"},{"name":"Mauritius"},{"name":"Mayotte"},{"name":"Mexico"},{"name":"Micronesia"},{"name":"Moldova"},{"name":"Monaco"},{"name":"Mongolia"},{"name":"Montenegro"},{"name":"Montserrat"},{"name":"Morocco"},{"name":"Mozambique"},{"name":"Myanmar"},{"name":"Namibia"},{"name":"Nauru"},{"name":"Nepal"},{"name":"Netherlands"},{"name":"New Caledonia"},{"name":"New Zealand"},{"name":"Nicaragua"},{"name":"Niger"},{"name":"Nigeria"},{"name":"Niue"},{"name":"Norfolk Island"},{"name":"North Korea"},{"name":"North Macedonia"},{"name":"Northern Mariana Islands"},{"name":"Norway"},{"name":"Oman"},{"name":"Pakistan"},{"name":"Palau"},{"name":"Palestine"},{"name":"Panama"},{"name":"Papua New Guinea"},{"name":"Paraguay"},{"name":"Peru"},{"name":"Philippines"},{"name":"Pitcairn Islands"},{"name":"Poland"},{"name":"Portugal"},{"name":"Puerto Rico"},{"name":"Qatar"},{"name":"Republic of the Congo"},{"name":"Romania"},{"name":"Russia"},{"name":"Rwanda"},{"name":"Réunion"},{"name":"Saint Barthélemy"},{"name":"Saint Helena, Ascension and Tristan da Cunha"},{"name":"Saint Kitts and Nevis"},{"name":"Saint Lucia"},{"name":"Saint Martin"},{"name":"Saint Pierre and Miquelon"},{"name":"Saint Vincent and the Grenadines"},{"name":"Samoa"},{"name":"San Marino"},{"name":"Saudi Arabia"},{"name":"Senegal"},{"name":"Serbia"},{"name":"Seychelles"},{"name":"Sierra Leone"},{"name":"Singapore"},{"name":"Sint Maarten"},{"name":"Slovakia"},{"name":"Slovenia"},{"name":"Solomon Islands"},{"name":"Somalia"},{"name":"South Africa"},{"name":"South Georgia"},{"name":"South Korea"},{"name":"South Sudan"},{"name":"Spain"},{"name":"Sri Lanka"},{"name":"Sudan"},{"name":"Suriname"},{"name":"Svalbard and Jan Mayen"},{"name":"Sweden"},{"name":"Switzerland"},{"name":"Syria"},{"name":"São Tomé and Príncipe"},{"name":"Taiwan"},{"name":"Tajikistan"},{"name":"Tanzania"},{"name":"Thailand"},{"name":"Timor-Leste"},{"name":"Togo"},{"name":"Tokelau"},{"name":"Tonga"},{"name":"Trinidad and Tobago"},{"name":"Tunisia"},{"name":"Turkey"},{"name":"Turkmenistan"},{"name":"Turks and Caicos Islands"},{"name":"Tuvalu"},{"name":"Uganda"},{"name":"Ukraine"},{"name":"United Arab Emirates"},{"name":"United Kingdom"},{"name":"United States"},{"name":"United States Minor Outlying Islands"},{"name":"United States Virgin Islands"},{"name":"Uruguay"},{"name":"Uzbekistan"},{"name":"Vanuatu"},{"name":"Vatican City"},{"name":"Venezuela"},{"name":"Vietnam"},{"name":"Wallis and Futuna"},{"name":"Western Sahara"},{"name":"Yemen"},{"name":"Zambia"},{"name":"Zimbabwe"}]')},"6bf3":function(t,e,a){"use strict";a("8a05")},"6f82":function(t,e,a){"use strict";a("5c20")},"704b":function(t,e,a){},"71ae":function(t,e,a){"use strict";a("7ded")},7939:function(t,e,a){},"7a02":function(t,e,a){},"7ded":function(t,e,a){},"81a0":function(t,e,a){"use strict";a("7a02")},"81ca":function(t,e,a){},"83cd":function(t,e,a){"use strict";a("3ca3b")},8479:function(t,e,a){t.exports=a.p+"img/empty.f0bb9255.svg"},"847c":function(t,e,a){},8484:function(t,e,a){"use strict";a("b87b")},8597:function(t,e,a){},8603:function(t,e,a){},8658:function(t,e,a){"use strict";a("4dcb")},"894f":function(t,e,a){},"8a05":function(t,e,a){},"94d2":function(t,e,a){},9916:function(t,e,a){},"9a55":function(t,e,a){"use strict";a("47b0")},"9c0a":function(t,e,a){},"9dad":function(t,e,a){"use strict";a("0ccc")},a0a2:function(t,e,a){},a3d4:function(t,e,a){t.exports=a.p+"img/LR.35ea4bb0.png"},a48f:function(t,e,a){"use strict";a("1c7e0")},b2d4:function(t,e,a){"use strict";a("1e53")},b3cf:function(t,e,a){},b7aa:function(t,e,a){"use strict";a("c076")},b7f0:function(t,e,a){"use strict";a("8597")},b87b:function(t,e,a){},b94f:function(t,e,a){t.exports=a.p+"img/arrow.ebf27ee1.svg"},bc28:function(t,e,a){t.exports=a.p+"img/avatar.c1dd221f.svg"},c076:function(t,e,a){},c576:function(t,e,a){"use strict";a("1bc0")},ccfe:function(t,e,a){t.exports=a.p+"img/back.e1d9a685.svg"},cf05:function(t,e,a){t.exports=a.p+"img/logo.ee4208e9.png"},d607:function(t,e,a){"use strict";a("fa14")},da4e:function(t,e,a){},dd64:function(t,e,a){},e194:function(t,e,a){},e72b:function(t,e,a){t.exports=a.p+"img/iconFirstPage.b703757a.svg"},e982:function(t,e,a){},e9b0:function(t,e,a){},ed34:function(t,e,a){"use strict";a("94d2")},f074:function(t,e,a){"use strict";a("7939")},f199:function(t,e,a){"use strict";a("9c0a")},f4c1:function(t,e,a){},f8b6:function(t,e,a){"use strict";a("4fd8")},f8de:function(t,e,a){t.exports=a.p+"img/DJ.6034b59c.png"},fa14:function(t,e,a){},fc72:function(t,e,a){"use strict";a("8603")}});
//# sourceMappingURL=app.8d4bed89.js.map